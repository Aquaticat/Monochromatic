#!/usr/bin/env node
var Jc=Object.defineProperty;var o=(t,e)=>Jc(t,"name",{value:e,configurable:!0});import{fs as ig,path as cg}from"@monochromatic-dev/module-fs-path";var Mt=typeof import.meta>"u"||typeof import.meta.env>"u"||typeof import.meta.env.MODE>"u"?typeof process>"u"||typeof process.env>"u"||typeof process.env.NODE_ENV>"u"?!0:process.env.NODE_ENV==="development":import.meta.env.MODE==="development";import{configure as lg,getConsoleSink as js,getFileSink as ug,getLevelFilter as jc,getLogger as pg,withFilter as Uc}from"@logtape/logtape";import{getLogger as Gf}from"@logtape/logtape";import{getLogger as eu}from"@logtape/logtape";import{fs as ot,path as U}from"@monochromatic-dev/module-fs-path";var{isArray:tn}=Array;function Qn(t,e=[]){return(...r)=>(n=>n.length>=t.length?t(...n):Qn(t,n))([...e,...r])}o(Qn,"curry");var ea=class{static{o(this,"ReduceStopper")}constructor(e){this.value=e}};function ta(t,e,r){if(r==null)return e;if(!tn(r))throw new TypeError("reduce: list must be array or iterable");let n=0,a=r.length;for(;n<a;){if(e=t(e,r[n],n,r),e instanceof ea)return e.value;n++}return e}o(ta,"reduceFn");var Hs=Qn(ta);function zs(...t){return function(e){return Hs(async(r,n)=>n(await r),e,t)}}o(zs,"pipeAsync");function Ws(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,a){return e.apply(this,arguments)};case 4:return function(r,n,a,s){return e.apply(this,arguments)};case 5:return function(r,n,a,s,i){return e.apply(this,arguments)};case 6:return function(r,n,a,s,i,c){return e.apply(this,arguments)};case 7:return function(r,n,a,s,i,c,l){return e.apply(this,arguments)};case 8:return function(r,n,a,s,i,c,l,u){return e.apply(this,arguments)};case 9:return function(r,n,a,s,i,c,l,u,m){return e.apply(this,arguments)};default:return function(r,n,a,s,i,c,l,u,m,f){return e.apply(this,arguments)}}}o(Ws,"_arity");async function Gs(t,e){let r=e.map((n,a)=>t(n,a));return Promise.all(r)}o(Gs,"mapParallelAsyncFn");function ee(t,e){return arguments.length===1?async r=>Gs(t,r):new Promise((r,n)=>{Gs(t,e).then(r).catch(n)})}o(ee,"mapParallelAsync");function Qc(t,e){return function(){return e.call(this,t.apply(this,arguments))}}o(Qc,"_pipe");function Ys(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Ws(arguments[0].length,ta(Qc,arguments[0],Array.prototype.slice.call(arguments,1,1/0)))}o(Ys,"pipe");function el(t,e){let r={},n={};return Object.entries(e).forEach(([a,s])=>{t(s,a)?r[a]=s:n[a]=s}),[r,n]}o(el,"partitionObject");function tl(t,e,r=!1){let n=[],a=[],s=-1;for(;s++<e.length-1;)(r?t(e[s],s):t(e[s]))?n.push(e[s]):a.push(e[s]);return[n,a]}o(tl,"partitionArray");function ra(t,e){return arguments.length===1?r=>ra(t,r):tn(e)?tl(t,e):el(t,e)}o(ra,"partition");function rn(...t){let[e,...r]=t;return Ys(...r)(e)}o(rn,"piped");function Ie(t,...e){return zs(...e)(t)}o(Ie,"pipedAsync");var rl=["@babel/*","babel","babel-*"],nl=["@esbuild/*","esbuild","esbuild-*","@monochromatic-dev/esbuild-plugin-*","@monochromatic-dev/modified-esbuild-plugin-*","@monochromatic-dev/modified-pipe01-esbuild-plugin-*","unplugin","unplugin-*"],al=["vite","vite-*","@vite/*"],sl=["typescript","@microsoft/api-extractor"],nn=Array.from(new Set([rl,nl,al,sl].flat())),ol=["lightningcss","lightningcss-plugin-*","@monochromatic-dev/lightningcss-plugin-*"],il=["postcss","postcss-*","cssnano","cssnano-*"],cl=Array.from(new Set([nn,ol,il].flat())),ll=["posthtml","posthtml-*","htmlnano"],ul=["vue","vue-tsc"],pl=["@mdx-js/*","@monochromatic-dev/remark-plugin-*","@monochromatic-dev/retext-plugin-*","@monochromatic-dev/rehype-plugin-*","@monochromatic-dev/recma-plugin-*","@monochromatic-dev/mdast-util-*","@monochromatic-dev/nlcst-util-*","@monochromatic-dev/esast-util-*","@monochromatic-dev/xast-util-*","@monochromatic-dev/unist-util-*","@monochromatic-dev/hast-util-*","remark","remark-*","@-/remark-*","mdast-*","retext","retext-*","@-/retext-*","nlcst-*","rehype","rehype-*","@-/rehype-*","@hbsnow/rehype-*","hast-*","recma","recma-*","esast-*","xast-*","unist-*","vfile","to-vfile","unified","skiki","shiki-*","@shikijs/*"],dl=["happy-dom","linkedom","jsdom"],ml=Array.from(new Set([nn,ll,ul,pl,dl].flat())),fl=["sharp","@img/*"],hl=["svgo","*-svgmin"],gl=Array.from(new Set([nn,fl,hl].flat())),yl=Array.from(new Set([nn,cl,ml,gl].flat())),vl=["@biomejs/*","@dprint/*","dprint","dprint-*","@fervid/napi","@minify-html/*","node-*","sharp","@img/*","node:*","bun:*","deno:*","@cross/*"],bl=["@monochromatic-dev/build-*","@monochromatic-dev/config-*","@monochromatic-dev/module-child","@monochromatic-dev/module-equals","@monochromatic-dev/module-fs-path","@monochromatic-dev/module-resolve","@monochromatic-dev/module-pm","@monochromatic-dev/schema-theme-consts","browserslist","chokidar","chokidar-cli","find-up","glob","*-fs","fs-*","zx","dotenv"],wl=["hasha","zod-opts","zx","process-*","*-process","port-*","kill-*"],_l=Array.from(new Set([vl,bl,wl].flat())),xl=["@logtape/logtape"],kl=["vite","vue-tsc","typescript","@types/*"],Nl=["@biomejs/*","dprint","@dprint/*","dprint-*"],Sl=Array.from(new Set([kl,Nl].flat()));var El=["*/_fms.js","_fms.js","/_fms.js","./_fms.js","/*/_fms.js","./*/_fms.js"],na=Array.from(new Set([yl,_l,xl,Sl,El].flat()));import Dl from"@hbsnow/rehype-sectionize";import{getLogger as jl}from"@logtape/logtape";import Ul from"@mdx-js/esbuild";import Bl from"@monochromatic-dev/esbuild-plugin-vue";import{js as Zl}from"@monochromatic-dev/module-child";import{path as eo}from"@monochromatic-dev/module-fs-path";import Hl from"@monochromatic-dev/schema-theme-consts";import zl from"browserslist";import{resolveToEsbuildTarget as Wl}from"esbuild-plugin-browserslist";function gr(t){let e=t.regex,r={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});let a={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},c={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,r,a]};a.contains.push(c);let l={match:/\\"/},u={className:"string",begin:/'/,end:/'/},m={match:/\\'/},f={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,r]},v=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],_=t.SHEBANG({binary:`(${v.join("|")})`,relevance:10}),M={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},k=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],C=["true","false"],P={match:/(\/[a-z._-]+)+/},F=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],$=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],te=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],mr=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:k,literal:C,built_in:[...F,...$,"set","shopt",...te,...mr]},contains:[_,t.SHEBANG(),M,f,s,i,P,c,l,u,m,r]}}o(gr,"bash");var Cl=o(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),"MODES"),Pl=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Tl=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Ol=[...Pl,...Tl],Al=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Il=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Rl=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Ml=["accent-color","align-content","align-items","align-self","alignment-baseline","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-end-end-radius","border-end-start-radius","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","cx","cy","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","empty-cells","enable-background","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","flood-color","flood-opacity","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","kerning","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","marker","marker-end","marker-mid","marker-start","mask","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","scale","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","speak","speak-as","src","tab-size","table-layout","text-anchor","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","vector-effect","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index"].sort().reverse();function Xs(t){let e=t.regex,r=Cl(t),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",s=/@-?\w[\w]*(-\w+)*/,i="[a-zA-Z-][a-zA-Z0-9_-]*",c=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[r.BLOCK_COMMENT,n,r.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+i,relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Il.join("|")+")"},{begin:":(:)?("+Rl.join("|")+")"}]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ml.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[r.BLOCK_COMMENT,r.HEXCOLOR,r.IMPORTANT,r.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},r.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:Al.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,r.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Ol.join("|")+")\\b"}]}}o(Xs,"css");function aa(t){let e=t.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},n=t.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];let a={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},i={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},c={begin:/\[/,end:/\]/,contains:[n,s,a,i,r,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,m=/'[^']*'/,f=e.either(l,u,m),v=e.concat(f,"(\\s*\\.\\s*",f,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:v,className:"attr",starts:{end:/$/,contains:[n,c,s,a,i,r]}}]}}o(aa,"ini");var Ks="[A-Za-z$_][0-9A-Za-z$_]*",Fl=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Ll=["true","false","null","undefined","NaN","Infinity"],qs=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Js=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Qs=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Vl=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],$l=[].concat(Qs,qs,Js);function Ft(t){let e=t.regex,r=o((ve,{after:Rt})=>{let hr="</"+ve[0].slice(1);return ve.input.indexOf(hr,Rt)!==-1},"hasClosingTag"),n=Ks,a={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:o((ve,Rt)=>{let hr=ve[0].length+ve.index,en=ve.input[hr];if(en==="<"||en===","){Rt.ignoreMatch();return}en===">"&&(r(ve,{after:hr})||Rt.ignoreMatch());let Jn,Zs=ve.input.substring(hr);if(Jn=Zs.match(/^\s*=/)){Rt.ignoreMatch();return}if((Jn=Zs.match(/^\s+extends\s+/))&&Jn.index===0){Rt.ignoreMatch();return}},"isTrulyOpeningTag")},c={$pattern:Ks,keyword:Fl,literal:Ll,built_in:$l,"variable.language":Vl},l="[0-9](_?[0-9])*",u=`\\.(${l})`,m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${m})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${m})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},v={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},_={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,v],subLanguage:"xml"}},M={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,v],subLanguage:"css"}},k={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,v],subLanguage:"graphql"}},C={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,v]},F={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},$=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,_,M,k,C,{match:/\$\d+/},f];v.contains=$.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat($)});let te=[].concat(F,v.contains),mr=te.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat(te)}]),fr={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:mr},Zc={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,e.concat(n,"(",e.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},Us={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...qs,...Js]}},Hc={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},zc={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[fr],illegal:/%/},Wc={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Gc(ve){return e.concat("(?!",ve.join("|"),")")}o(Gc,"noneOf");let Yc={match:e.concat(/\b/,Gc([...Qs,"super","import"].map(ve=>`${ve}\\s*\\(`)),n,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},Xc={begin:e.concat(/\./,e.lookahead(e.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Kc={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},fr]},Bs="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",qc={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(Bs)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[fr]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:mr,CLASS_REFERENCE:Us},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),Hc,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,_,M,k,C,F,{match:/\$\d+/},f,Us,{className:"attr",begin:n+e.lookahead(":"),relevance:0},qc,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[F,t.REGEXP_MODE,{className:"function",begin:Bs,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:mr}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:s},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},zc,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[fr,t.inherit(t.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},Xc,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[fr]},Yc,Wc,Zc,Kc,{match:/\$[(.]/}]}}o(Ft,"javascript");function an(t){let e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],a={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:n},contains:[e,r,t.QUOTE_STRING_MODE,a,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}o(an,"json");function Lt(t){let e=t.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},i={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},c=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,c,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},m={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},f=t.inherit(u,{contains:[]}),v=t.inherit(m,{contains:[]});u.contains.push(v),m.contains.push(f);let _=[r,l];return[u,m,f,v].forEach(P=>{P.contains=P.contains.concat(_)}),_=_.concat(u,m),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:_},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:_}]}]},r,s,u,m,{className:"quote",begin:"^>\\s+",contains:_,end:"$"},a,n,l,i,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}o(Lt,"markdown");function yr(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}o(yr,"plaintext");function Vt(t){let e=t.regex,r=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=t.inherit(s,{begin:/\(/,end:/\)/}),c=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,c,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,i,l,c]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(r,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:u}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}o(Vt,"xml");function Ze(t){let e="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:/\w[\w :()\./-]*:(?=[ \t]|$)/},{begin:/"\w[\w :()\./-]*":(?=[ \t]|$)/},{begin:/'\w[\w :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,a]},i=t.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},v={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},_={begin:/\{/,end:/\}/,contains:[v],illegal:"\\n",relevance:0},M={begin:"\\[",end:"\\]",contains:[v],illegal:"\\n",relevance:0},k=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},f,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},_,M,s],C=[...k];return C.pop(),C.push(i),v.contains=C,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:k}}o(Ze,"yaml");import Gl from"rehype-highlight";import Yl from"remark-gfm";import Xl from"remark-github-beta-blockquote-admonitions";import Kl from"remark-smartypants";import Jl from"@monochromatic-dev/esbuild-plugin-css";import Ql from"@monochromatic-dev/esbuild-plugin-data";var ql=jl(["a","esbuildOptions"]),$t=o((t=["src/index.ts"],e="dist/final")=>{let r={external:na,entryPoints:t,logOverride:{"assign-to-define":"debug"},bundle:!0,outdir:e,entryNames:t[0]?.endsWith(".mdx")?"[dir]/[name].mdx":t[0]?.endsWith(".vue")?"[dir]/[name].vue":"[dir]/[name]",outbase:t[0]?.startsWith("src/")?"src":t[0]?.startsWith("dist/temp/")?eo.split(t[0]).slice(0,3).join(eo.sep):"",platform:"node",mainFields:["module","main"],charset:"utf8",format:"esm",treeShaking:!0,target:Wl(zl()),supported:{"node-colon-prefix-import":!0},drop:["debugger"],dropLabels:["D","DEV"],keepNames:!0,minify:!t[0]?.endsWith(".test.ts"),metafile:!0,logLevel:"info",logLimit:0,sourcemap:!0,sourcesContent:!0,plugins:[Ul({jsxImportSource:"vue",providerImportSource:"@mdx-js/vue",rehypePlugins:[Dl,[Gl,{languages:{bash:gr,sh:gr,zsh:gr,shell:gr,yaml:Ze,yml:Ze,typescript:Ze,ts:Ze,tsx:Ze,mts:Ze,cts:Ze,javascript:Ft,js:Ft,jsx:Ft,mjs:Ft,cjs:Ft,css:Xs,html:Vt,vue:Vt,xml:Vt,rss:Vt,svg:Vt,ini:aa,toml:aa,json:an,json5:an,jsonc:an,txt:yr,ansi:yr,text:yr,uml:yr,markdown:Lt,md:Lt,mkd:Lt,mkdown:Lt,mdx:Lt}}]],remarkPlugins:[Yl,Kl,Xl]}),Ql({mergeParent:!0,schema:Hl,injectMetadata:!0,save:!0}),Bl(),Jl()]};return ql.debug`esbuild options ${{...r,external:Zl(r.external).slice(0,128)}}`,r},"default");var vr=eu(["a","consts"]),tu=await(async()=>{try{return(await ot.readdir("src",{withFileTypes:!0,recursive:!0})).filter(t=>!t.parentPath.includes("/_"))}catch(t){return vr.error`src ${t}`,[]}})(),it=tu.filter(t=>t.isFile()),ru=it.filter(t=>t.name==="index.js"||t.name==="index.ts"),sn=ru.map(ot.toPathStr),nu=it.filter(t=>t.name==="bin.js"||t.name==="bin.ts"),au=nu.map(ot.toPathStr),su=it.filter(t=>t.name.endsWith(".test.js")||t.name.endsWith(".test.ts")),br=su.map(ot.toPathStr),wr=br.map(t=>U.join("dist","final",U.relative("src",`${t.slice(0,-2)}js`))),ou=it.filter(t=>t.name.endsWith(".mdx")),de=ou.map(ot.toPathStr),to=de.map(t=>U.join("dist","temp","gen-html",U.relative("src",t))),sa=new Map(to.map(t=>[`./${U.relative("dist/temp/gen-html",t)}`,rn(U.relative("dist/temp/gen-html",t),U.encodeImportSafeStr)])),ro=Array.from(sa).map(([t,e])=>`import ${e} from '${t}';`).join(`
`),iu=to.map(t=>`${t.slice(0,-4)}.toml`),oa=new Map(iu.map(t=>[`./${U.relative("dist/temp/gen-html",t)}`,rn(U.relative("dist/temp/gen-html",t),U.encodeImportSafeStr)])),ia=Array.from(oa).map(([t,e])=>`import ${e} from '${t}';`).join(`
`);vr.debug`outTomlImportStr ${ia}`;var cu=it.filter(t=>t.name==="index.vue"),_r=cu.map(t=>U.join(t.parentPath,t.name));vr.debug`indexVueFilePaths ${_r}`;var lu=_r.map(t=>U.join("dist","temp","gen-html",U.relative("src",t))),on=new Map(lu.map(t=>[`./${U.relative("dist/temp/gen-html",t)}`,rn(U.relative("dist/temp/gen-html",t),U.encodeImportSafeStr)]));vr.debug`outIndexVueImportPathToNames ${on}`;var no=Array.from(on).map(([t,e])=>`import ${e} from '${t}';`).join(`
`),uu=it.filter(t=>t.name==="index.css"),cn=uu.map(ot.toPathStr),Dt=cn.concat(sn,au),pu=it.filter(t=>!["js","ts","jsx","tsx","vue","html","mdx","toml","mjs","mts"].some(e=>t.name.endsWith(`.${e}`))),ln=pu.map(ot.toPathStr);vr.debug`otherFilePaths ${ln}`;var ca=de.map(t=>U.join("dist","final",U.relative("src",t.slice(0,-4)))),la=de.map(t=>U.join("dist","temp","html",U.relative("src",t.slice(0,-4)))),du=ln.map(t=>U.join("dist","final",U.relative("src",t))),ao=du.map(t=>U.resolve(t)),Vy=sn.map(t=>U.join("dist","final",U.relative("src",t))),$y=cn.map(t=>U.join("dist","final",U.relative("src",t))),un=U.join("dist","temp","server","static-web-server.toml"),so=U.join("dist","temp","cache");import{getLogger as wu}from"@logtape/logtape";import _u from"@monochromatic-dev/module-child";import{fs as Cr,path as Ut}from"@monochromatic-dev/module-fs-path";import Pr from"@monochromatic-dev/module-pm";function pn(t,e){if(isNaN(t)||isNaN(e))throw new Error("Cannot compare against non-numbers");return t===e?0:t<e?-1:1}o(pn,"compareNumber");function co(t=[],e=[]){return t.length&&!e.length?-1:!t.length&&e.length?1:0}o(co,"checkIdentifier");function pa(t=[],e=[]){let r=Math.max(t.length,e.length);for(let n=0;n<r;n++){let a=t[n],s=e[n];if(a===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(a===void 0)return-1;if(typeof a=="string"&&typeof s=="number")return 1;if(typeof a=="number"&&typeof s=="string"||a<s)return-1;if(a>s)return 1}return 0}o(pa,"compareIdentifier");var jt="0|[1-9]\\d*",mu="\\d*[a-zA-Z-][a-zA-Z0-9-]*",fu=`(?<major>${jt})\\.(?<minor>${jt})\\.(?<patch>${jt})`,oo=`(?:${jt}|${mu})`,lo=`(?:-(?<prerelease>${oo}(?:\\.${oo})*))`,io="[0-9A-Za-z-]+",uo=`(?:\\+(?<buildmetadata>${io}(?:\\.${io})*))`,po=`v?${fu}${lo}?${uo}?`,mo=new RegExp(`^${po}$`),fo="(?:<|>)?=?",hu="x|X|\\*",ua=`${jt}|${hu}`,ho=`[v=\\s]*(?<major>${ua})(?:\\.(?<minor>${ua})(?:\\.(?<patch>${ua})${lo}?${uo}?)?)?`,gu=new RegExp(`^(?<operator>~>?|\\^|${fo})\\s*${ho}$`),yu=new RegExp(`^(?<operator>${fo})\\s*(${po})$|^$`);function da(t){return typeof t=="number"&&!Number.isNaN(t)&&(!Number.isFinite(t)||0<=t&&t<=Number.MAX_SAFE_INTEGER)}o(da,"isValidNumber");var ma=256;var vu=new RegExp(`^${jt}$`);function fa(t){return t.split(".").filter(Boolean).map(e=>{if(vu.test(e)){let r=Number(e);if(da(r))return r}return e})}o(fa,"parsePrerelease");function xr(t){return t.split(".").filter(Boolean)}o(xr,"parseBuild");function kr(t,e){let r=Number(t);if(!da(r))throw new TypeError(e);return r}o(kr,"parseNumber");function Se(t,e){return t===e?0:pn(t.major,e.major)||pn(t.minor,e.minor)||pn(t.patch,e.patch)||co(t.prerelease,e.prerelease)||pa(t.prerelease,e.prerelease)}o(Se,"compare");function ha(t){return t.toFixed(0)}o(ha,"formatNumber");function Nr(t){let e=ha(t.major),r=ha(t.minor),n=ha(t.patch),a=t.prerelease?.join(".")??"",s=t.build?.join(".")??"";return[[`${e}.${r}.${n}`,a].filter(l=>l).join("-"),s].filter(l=>l).join("+")}o(Nr,"format");function bu(t=[]){let e=[...t],r=e.length;for(;r>=0;){let n=e[r];if(typeof n=="number"){e[r]=n+1;break}r-=1}return r===-1&&e.push(0),e}o(bu,"bumpPrereleaseNumber");function Sr(t=[],e){let r=bu(t);return e&&(r[0]!==e||isNaN(r[1]))&&(r=[e,0]),r}o(Sr,"bumpPrerelease");function mn(t,e,r={}){let n=r.build!==void 0?xr(r.build):t.build;switch(e){case"premajor":return{major:t.major+1,minor:0,patch:0,prerelease:Sr(t.prerelease,r.prerelease),build:n};case"preminor":return{major:t.major,minor:t.minor+1,patch:0,prerelease:Sr(t.prerelease,r.prerelease),build:n};case"prepatch":return{major:t.major,minor:t.minor,patch:t.patch+1,prerelease:Sr(t.prerelease,r.prerelease),build:n};case"prerelease":{let s=(t.prerelease??[]).length===0?t.patch+1:t.patch;return{major:t.major,minor:t.minor,patch:s,prerelease:Sr(t.prerelease,r.prerelease),build:n}}case"major":return{major:(t.prerelease??[]).length===0||t.minor!==0||t.patch!==0?t.major+1:t.major,minor:0,patch:0,prerelease:[],build:n};case"minor":{let s=(t.prerelease??[]).length===0||t.patch!==0?t.minor+1:t.minor;return{major:t.major,minor:s,patch:0,prerelease:[],build:n}}case"patch":{let s=(t.prerelease??[]).length===0?t.patch+1:t.patch;return{major:t.major,minor:t.minor,patch:s,prerelease:[],build:n}}case"pre":return{major:t.major,minor:t.minor,patch:t.patch,prerelease:Sr(t.prerelease,r.prerelease),build:n};default:throw new TypeError(`Cannot increment version: invalid argument ${e}`)}}o(mn,"increment");var ga={major:Number.NaN,minor:Number.NaN,patch:Number.NaN,prerelease:[],build:[]},yo={operator:void 0,...ga};function Er(t){if(typeof t!="string")throw new TypeError(`Cannot parse version as version must be a string: received ${typeof t}`);if(t.length>ma)throw new TypeError(`Cannot parse version as version length is too long: length is ${t.length}, max length is ${ma}`);t=t.trim();let e=t.match(mo)?.groups;if(!e)throw new TypeError(`Cannot parse version: ${t}`);let r=kr(e.major,`Cannot parse version ${t}: invalid major version`),n=kr(e.minor,`Cannot parse version ${t}: invalid minor version`),a=kr(e.patch,`Cannot parse version ${t}: invalid patch version`),s=e.prerelease?fa(e.prerelease):[],i=e.buildmetadata?xr(e.buildmetadata):[];return{major:r,minor:n,patch:a,prerelease:s,build:i}}o(Er,"parse");function bo(t,e){return Se(t,e)>=0}o(bo,"greaterOrEqual");var Bt=wu(["a","publicApi"]),wo=o(async()=>{if(sn.length===0)return["publicApi","SKIP","skipping dts, none of index.js or index.ts exists."];try{await Cr.access(Ut.join("tsconfig.json"))}catch{return["publicApi","SKIP","skipping dts, tsconfig.json doesn't exist."]}Bt.debug`dts`;let{stdoe:t}=await _u("vue-tsc --noCheck",{timeout:1e4}),e=await Ie(Ut.join(Pr.packageAbsDir,"package.json"),Cr.readFileU,JSON.parse);e.version||Bt.warn`version not already set in ${Ut.join(Pr.packageAbsDir,"package.json")}, skipping inc ver`;let r=Er(e.version);return[`/index.ts
`,`/bin.ts
`].some(n=>String(t).trim().includes(n))?(Bt.warn`You have changed the public api`,bo(r,Er("1.0.0"))?(Bt.warn`This is a general release package (version >=1). Incrementing major version.`,await Cr.writeFile(Ut.join(Pr.packageAbsDir,"package.json"),JSON.stringify({...e,version:Nr(mn(r,"major"))},null,2))):(Bt.warn`This is a version < 1 package. Incrementing minor version.`,await Cr.writeFile(Ut.join(Pr.packageAbsDir,"package.json"),JSON.stringify({...e,version:Nr(mn(r,"minor"))},null,2)))):(Bt.info`Incrementing patch version.`,await Cr.writeFile(Ut.join(Pr.packageAbsDir,"package.json"),JSON.stringify({...e,version:Nr(mn(r,"patch"))},null,2))),["publicApi","SUCCESS",t]},"default");import{getLogger as Zf}from"@logtape/logtape";import{getLogger as Nu}from"@logtape/logtape";import Su from"@monochromatic-dev/module-child";import{fs as Tr,path as Zt}from"@monochromatic-dev/module-fs-path";var xu=Object.defineProperty,ku=o((t,e)=>xu(t,"name",{value:e,configurable:!0}),"__name"),_o=ku(async(t,e)=>{let r=[],n=[];for await(let a of e)await t(a)?r.push(a):n.push(a);return[r,n]},"default");import{hashFile as Eu}from"hasha";var Cu=Nu(["a","compress"]),ya=Zt.join(so,"compress"),xo=o(async()=>{let t=(await Tr.readdir("dist/final",{withFileTypes:!0,recursive:!0})).filter(l=>l.isFile()&&!l.parentPath.includes("/_")&&!["br","map","d.ts","gz","zst"].some(u=>l.name.endsWith(`.${u}`))).map(l=>Zt.join(l.parentPath,l.name)),e=new Map(await ee(async l=>[l,await Eu(l,{algorithm:"md5"})],t));Cu.debug`${JSON.stringify(e)}`;let[r,n]=await _o(async([l,u])=>!!await Tr.exists(Zt.join(ya,u)),Array.from(e)),a=Array.from(new Map(n).keys()),[s,[i,c]]=await Promise.all([ee(async l=>await Tr.existsFile(Zt.join("dist","final",l[0]))||await Tr.cpFile(Zt.join(ya,l[1]),`${l[0]}.zst`),r),(async()=>{let l=(await Su(`zstd -z -f -v --no-check -T0 --exclude-compressed --no-content-size -- ${a.join(" ")}`)).stdout,u=await ee(async([m,f])=>await Tr.cpFile(m,Zt.join(ya,f)),n);return[l,u]})()]);return["compress","SUCCESS",[["staticFilesCpRes","SUCCESS",s],["populateCacheRes","SUCCESS",c],["compressRes","SUCCESS",i]]]},"default");import*as ds from"esbuild";import{getLogger as zm}from"@logtape/logtape";import{fs as us,path as ps}from"@monochromatic-dev/module-fs-path";import Pu from"postcss-value-parser";var ko=o(()=>({postcssPlugin:"postcss-custom-units",Declaration(t){let e=t.value;if(!e.includes("--"))return;let r=Pu(e);r.walk(a=>{if(a.type!=="word")return;let s=(a.value.match(Tu)||[])[0];if(!s)return;let i=a.value.slice(s.length);Object.assign(a,{type:"function",value:"max",nodes:[{type:"word",value:s},{type:"space",value:" "},{type:"word",value:"*"},{type:"space",value:" "},{type:"function",value:"var",nodes:[{type:"word",value:i}]}]})});let n=r.toString();e!==n&&(t.value=n)}}),"PostCSSPlugin");ko.postcss=!0;var Tu=/^[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?(?=--)/,No=ko;import So from"postcss-value-parser";var Ou=["at","bottom","center","circle","closest-corner","closest-side","ellipse","farthest-corner","farthest-side","from","in","left","right","to","top"];function Au(t){let e=[],r=t.value.toLowerCase();if(t.type==="function"&&(r==="conic-gradient"||r==="linear-gradient"||r==="radial-gradient"||r==="repeating-conic-gradient"||r==="repeating-linear-gradient"||r==="repeating-radial-gradient")){let n=0,a=!1,s=!1;e:for(let i=0;i<t.nodes.length;i++){let c=t.nodes[i];if(c.type==="word"&&Ou.includes(c.value.toLowerCase())&&(a=!0),c.type!=="div"||c.value.trim()!==",")if(c.type!=="word"||c.value.toLowerCase()!=="in"){if(c.type!=="word"&&c.type!=="function"||n++,s)switch(t.value.toLowerCase()){case"conic-gradient":e.push("(background: conic-gradient(in oklch, red 0deg, red 0deg 1deg, red 2deg))");break e;case"linear-gradient":e.push("(background: linear-gradient(in oklch, red 0%, red 0% 1%, red 2%))");break e;case"radial-gradient":e.push("(background: radial-gradient(in oklch, red, red 1px 2px, red 3px))");break e;case"repeating-conic-gradient":e.push("(background: repeating-conic-gradient(in oklch from 0deg, red 0deg, red 0deg 1deg, red 2deg))");break e;case"repeating-linear-gradient":e.push("(background: repeating-linear-gradient(in oklch, red 0%, red 0% 1%, red 2%))");break e;case"repeating-radial-gradient":e.push("(background: repeating-radial-gradient(in oklch, red, red 1px 2px, red 3px))");break e}if(!a&&n===3)switch(t.value.toLowerCase()){case"conic-gradient":e.push("(background: conic-gradient(red 0deg, red 0deg 1deg, red 2deg))");break e;case"linear-gradient":e.push("(background: linear-gradient(red 0%, red 0% 1%, red 2%))");break e;case"radial-gradient":e.push("(background: radial-gradient(red, red 1px 2px, red 3px))");break e;case"repeating-conic-gradient":e.push("(background: repeating-conic-gradient(from 0deg, red 0deg, red 0deg 1deg, red 2deg))");break e;case"repeating-linear-gradient":e.push("(background: repeating-linear-gradient(red 0%, red 0% 1%, red 2%))");break e;case"repeating-radial-gradient":e.push("(background: repeating-radial-gradient(red, red 1px 2px, red 3px))");break e}}else s=!0;else n=0,a=!1}}return e}o(Au,"doublePositionGradients");var Iu=[{supports:"color-mix(in lch, red, blue)",property:"color",sniff:"color-mix",matchers:[{type:"function",value:"color-mix",nodes:[{type:"word",value:"in"},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0}]},{type:"function",value:"color-mix",nodes:[{type:"word",value:"in"},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0}]},{type:"function",value:"color-mix",nodes:[{type:"word",value:"in"},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color-mix",nodes:[{type:"word",value:"in"},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color-mix",nodes:[{type:"word",value:"in"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0}]},{type:"function",value:"color-mix",nodes:[{type:"word",value:"in"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0}]},{type:"function",value:"color-mix",nodes:[{type:"word",value:"in"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color-mix",nodes:[{type:"word",value:"in"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]}]},{supports:"lab(from red l 1 1% / calc(alpha + 0.1))",property:"color",sniff:"from ",matchers:[{type:"function",value:"rgb",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"rgb",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"rgba",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"rgba",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"hsl",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"hsl",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"hsla",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"hsla",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"hwb",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"hwb",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"lch",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"lch",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"oklch",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"oklch",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"lab",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"lab",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"oklab",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"oklab",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"from"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(display-p3 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"srgb"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"srgb"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(display-p3 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"display-p3"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"display-p3"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(xyz 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"srgb-linear"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"srgb-linear"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(xyz 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"a98-rgb"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"a98-rgb"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(xyz 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"prophoto-rgb"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"prophoto-rgb"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(xyz 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"rec2020"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"rec2020"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(xyz 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"xyz-d50"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"xyz-d50"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(xyz 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"xyz-d65"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"xyz-d65"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"color(xyz 0 0 0%)",property:"color",sniff:"color",matchers:[{type:"function",value:"color",nodes:[{type:"word",value:"xyz"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"color",nodes:[{type:"word",value:"xyz"},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"hsl(0, 0%, 0%)",property:"color",sniff:"hsl",matchers:[{type:"function",value:"hsl",nodes:[{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0}]}]},{supports:"hsl(0 0% 0% / 0)",property:"color",sniff:"hsl",matchers:[{type:"function",value:"hsl",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"hsl",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"hsla(0 0% 0% / 0)",property:"color",sniff:"hsla",matchers:[{type:"function",value:"hsla",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"hwb(0 0% 0%)",property:"color",sniff:"hwb",matchers:[{type:"function",value:"hwb",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"hwb",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"lab(0% 0 0%)",property:"color",sniff:"lab",matchers:[{type:"function",value:"lab",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"lab",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"lab(0% 0 0%)",property:"color",sniff:"lch",matchers:[{type:"function",value:"lch",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"lch",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"oklab(0% 0 0%)",property:"color",sniff:"oklab",matchers:[{type:"function",value:"oklab",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"oklab",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"oklab(0% 0 0%)",property:"color",sniff:"oklch",matchers:[{type:"function",value:"oklch",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"oklch",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"rgb(0, 0, 0, 0)",property:"color",sniff:"rgb",matchers:[{type:"function",value:"rgb",nodes:[{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0}]}]},{supports:"rgb(0 0 0 / 0)",property:"color",sniff:"rgb",matchers:[{type:"function",value:"rgb",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]},{type:"function",value:"rgb",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"rgba(0 0 0 / 0)",property:"color",sniff:"rgba",matchers:[{type:"function",value:"rgba",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0},{type:"div",value:"/"},{type:"word",isVariable:!0}]}]},{supports:"light-dark(red, red)",property:"color",sniff:"light-dark",matchers:[{type:"function",value:"light-dark",nodes:[{type:"word",isVariable:!0},{type:"div",value:","},{type:"word",isVariable:!0}]}]},{supports:"contrast-color(red max)",property:"color",sniff:"contrast-color",matchers:[{type:"function",value:"contrast-color",nodes:[{type:"word",isVariable:!0}]},{type:"function",value:"contrast-color",nodes:[{type:"word",isVariable:!0},{type:"space"},{type:"word",isVariable:!0}]}]},{supports:"1ic",property:"font-size",sniff:"ic",matchers:[{type:"word",value:"1ic",dimension:{unit:"ic"}}]},{supports:'"a" / "a"',property:"content",only_on_property:"content",sniff:"/",matchers:[{type:"div",value:"/"}]}];function Eo(t,e){if(t.isVariable&&e&&(e.type==="word"||e.type==="string"||e.type==="function"))return!0;if(t.type!==e.type||Ru(t,e))return!1;if(t.nodes&&e.nodes){for(let r=0;r<Math.max(t.nodes.length,e.nodes.length);r++){let n=r,a=r;for(;t.nodes[n]&&t.nodes[n].type==="space";)n++;for(;e.nodes[a]&&e.nodes[a].type==="space";)a++;if(!!t.nodes[n]!=!!e.nodes[a]||!Eo(t.nodes[n],e.nodes[a]))return!1}return!0}return!0}o(Eo,"matches");function Ru(t,e){return(t.type!=="space"||e.type!=="space"||t.value?.trim()!==e.value?.trim())&&(t.dimension&&e.dimension?t.dimension.unit!==e.dimension.unit:t.type==="string"?t.value!==e.value:t.value?.toLowerCase()!==e.value?.toLowerCase())}o(Ru,"doesNotMatchValue");var Mu=/^var$/i;function Fu(t,e=!1){let r=t.value,n=[],a=Iu.filter(i=>r.includes(i.sniff)&&(i.only_on_property??t.prop)===t.prop),s=!1;try{So(r).walk(i=>{i.type==="function"&&Mu.test(i.value)&&(s=!0);try{let c=So.unit(i.value);c!==!1&&(i.dimension=c)}catch{}for(let c=0;c<a.length;c++){let l=a[c];for(let u=0;u<l.matchers.length;u++)if(Eo(l.matchers[u],i))return void n.push(`(${l.property}: ${l.supports})`)}n.push(...Au(i))})}catch{}return e&&!s?{support:[]}:{support:Array.from(new Set(n)).sort()}}o(Fu,"conditionsFromValue");var Lu=/var\(/i,Vu=/^initial$/i,$u=/^\s*$/,ct=o(()=>({postcssPlugin:"postcss-progressive-custom-properties",prepare(){let t=new WeakMap;return{postcssPlugin:"postcss-progressive-custom-properties",OnceExit(e,{postcss:r}){e.walkDecls(n=>{if(!n.parent)return;let a=t.get(n.parent)||{conditionalRules:[],propNames:new Set,lastConditionParams:{support:void 0},lastConditionalRule:void 0};if(t.set(n.parent,a),n.variable){if(!a.propNames.has(n.prop))return void a.propNames.add(n.prop)}else{let m=n.prop.toLowerCase();if(!a.propNames.has(m))return void a.propNames.add(m)}if(!n.variable&&!Lu.test(n.value)||Vu.test(n.value)||$u.test(n.value))return;let s=Fu(n,!n.variable).support.join(" and ");if(!s)return;if(a.lastConditionParams.support!==s&&(a.lastConditionalRule=void 0),a.lastConditionalRule)return a.lastConditionalRule.append(n.clone()),void n.remove();let i=[];if(s&&i.push(r.atRule({name:"supports",params:s,source:n.parent.source,raws:{before:`

`,after:`
`}})),!i.length)return;for(let m=0;m<i.length-1;m++){let f=i[m],v=i[m+1];f.append(v)}let c=i[0],l=i[i.length-1],u=n.parent.clone();u.removeAll(),u.raws.before=`
`,u.append(n.clone()),n.remove(),a.lastConditionParams.support=s,a.lastConditionalRule=u,l.append(u),a.conditionalRules.push(c)}),e.walk(n=>{let a=t.get(n);a&&a.conditionalRules.length!==0&&a.conditionalRules.reverse().forEach(s=>{n.after(s)})})}}}}),"creator");ct.postcss=!0;var pt=class extends Error{static{o(this,"ParseError")}sourceStart;sourceEnd;parserState;constructor(e,r,n,a){super(e),this.name="ParseError",this.sourceStart=r,this.sourceEnd=n,this.parserState=a}},Re=class extends pt{static{o(this,"ParseErrorWithToken")}token;constructor(e,r,n,a,s){super(e,r,n,a),this.token=s}},He={UnexpectedNewLineInString:"Unexpected newline while consuming a string token.",UnexpectedEOFInString:"Unexpected EOF while consuming a string token.",UnexpectedEOFInComment:"Unexpected EOF while consuming a comment.",UnexpectedEOFInURL:"Unexpected EOF while consuming a url token.",UnexpectedEOFInEscapedCodePoint:"Unexpected EOF while consuming an escaped code point.",UnexpectedCharacterInURL:"Unexpected character while consuming a url token.",InvalidEscapeSequenceInURL:"Invalid escape sequence while consuming a url token.",InvalidEscapeSequenceAfterBackslash:'Invalid escape sequence after "\\"'},Ob=typeof globalThis<"u"&&"structuredClone"in globalThis;function Ee(...t){let e="";for(let r=0;r<t.length;r++)e+=t[r][1];return e}o(Ee,"stringify");var ka=39,Po=42,Du=8,Or=13,To=9,ju=58,Uu=44,Bu=64,Zu=127,Hu=33,Na=12,hn=46,zu=62,re=45,Wu=31,Gu=69,Yu=101,Xu=123,Sa=40,Ku=91,Oo=60,Ar=10,qu=11,Ju=95,Qu=1114111,ep=0,tp=35,rp=37,Ht=43,Ea=34,va=65533,Ir=92,np=125,gn=41,ap=93,sp=59,op=14,Ca=47,Ao=32,Pa=117,Ta=85,ip=114,cp=82,lp=108,up=76,Io=63,pp=48,dp=70;function mp(t){return t.source.codePointAt(t.cursor)===Oo&&t.source.codePointAt(t.cursor+1)===Hu&&t.source.codePointAt(t.cursor+2)===re&&t.source.codePointAt(t.cursor+3)===re}o(mp,"checkIfFourCodePointsWouldStartCDO");function be(t){return t!==void 0&&t>=48&&t<=57}o(be,"isDigitCodePoint");function fp(t){return t!==void 0&&t>=65&&t<=90}o(fp,"isUppercaseLetterCodePoint");function hp(t){return t!==void 0&&t>=97&&t<=122}o(hp,"isLowercaseLetterCodePoint");function lt(t){return t!==void 0&&(t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70)}o(lt,"isHexDigitCodePoint");function gp(t){return hp(t)||fp(t)}o(gp,"isLetterCodePoint");function zt(t){return gp(t)||yp(t)||t===Ju}o(zt,"isIdentStartCodePoint");function Oa(t){return zt(t)||be(t)||t===re}o(Oa,"isIdentCodePoint");function yp(t){return t===183||t===8204||t===8205||t===8255||t===8256||t===8204||t!==void 0&&(192<=t&&t<=214||216<=t&&t<=246||248<=t&&t<=893||895<=t&&t<=8191||8304<=t&&t<=8591||11264<=t&&t<=12271||12289<=t&&t<=55295||63744<=t&&t<=64975||65008<=t&&t<=65533||t>=65536)}o(yp,"isNonASCII_IdentCodePoint");function yn(t){return t===Ar||t===Or||t===Na}o(yn,"isNewLine");function ut(t){return t===Ao||t===Ar||t===To||t===Or||t===Na}o(ut,"isWhitespace");function Wt(t){return t.source.codePointAt(t.cursor)===Ir&&!yn(t.source.codePointAt(t.cursor+1))}o(Wt,"checkIfTwoCodePointsAreAValidEscape");function vn(t,e){return e.source.codePointAt(e.cursor)===re?e.source.codePointAt(e.cursor+1)===re||!!zt(e.source.codePointAt(e.cursor+1))||e.source.codePointAt(e.cursor+1)===Ir&&!yn(e.source.codePointAt(e.cursor+2)):!!zt(e.source.codePointAt(e.cursor))||Wt(e)}o(vn,"checkIfThreeCodePointsWouldStartAnIdentSequence");function Co(t){return t.source.codePointAt(t.cursor)===Ht||t.source.codePointAt(t.cursor)===re?!!be(t.source.codePointAt(t.cursor+1))||t.source.codePointAt(t.cursor+1)===hn&&be(t.source.codePointAt(t.cursor+2)):t.source.codePointAt(t.cursor)===hn?be(t.source.codePointAt(t.cursor+1)):be(t.source.codePointAt(t.cursor))}o(Co,"checkIfThreeCodePointsWouldStartANumber");function vp(t){return t.source.codePointAt(t.cursor)===Ca&&t.source.codePointAt(t.cursor+1)===Po}o(vp,"checkIfTwoCodePointsStartAComment");function bp(t){return t.source.codePointAt(t.cursor)===re&&t.source.codePointAt(t.cursor+1)===re&&t.source.codePointAt(t.cursor+2)===zu}o(bp,"checkIfThreeCodePointsWouldStartCDC");var p,h,bn;function Ro(t){switch(t){case p.OpenParen:return p.CloseParen;case p.CloseParen:return p.OpenParen;case p.OpenCurly:return p.CloseCurly;case p.CloseCurly:return p.OpenCurly;case p.OpenSquare:return p.CloseSquare;case p.CloseSquare:return p.OpenSquare;default:return null}}o(Ro,"mirrorVariantType");function Mo(t){switch(t[0]){case p.OpenParen:return[p.CloseParen,")",-1,-1,void 0];case p.CloseParen:return[p.OpenParen,"(",-1,-1,void 0];case p.OpenCurly:return[p.CloseCurly,"}",-1,-1,void 0];case p.CloseCurly:return[p.OpenCurly,"{",-1,-1,void 0];case p.OpenSquare:return[p.CloseSquare,"]",-1,-1,void 0];case p.CloseSquare:return[p.OpenSquare,"[",-1,-1,void 0];default:return null}}o(Mo,"mirrorVariant");function wp(t,e){for(e.advanceCodePoint(2);;){let r=e.readCodePoint();if(r===void 0){let n=[p.Comment,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,void 0];return t.onParseError(new Re(He.UnexpectedEOFInComment,e.representationStart,e.representationEnd,["4.3.2. Consume comments","Unexpected EOF"],n)),n}if(r===Po&&e.source.codePointAt(e.cursor)!==void 0&&e.source.codePointAt(e.cursor)===Ca){e.advanceCodePoint();break}}return[p.Comment,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,void 0]}o(wp,"consumeComment");function wn(t,e){let r=e.readCodePoint();if(r===void 0)return t.onParseError(new pt(He.UnexpectedEOFInEscapedCodePoint,e.representationStart,e.representationEnd,["4.3.7. Consume an escaped code point","Unexpected EOF"])),va;if(lt(r)){let a=[r],s;for(;(s=e.source.codePointAt(e.cursor))!==void 0&&lt(s)&&a.length<6;)a.push(s),e.advanceCodePoint();ut(e.source.codePointAt(e.cursor))&&e.advanceCodePoint();let i=parseInt(String.fromCodePoint(...a),16);return i===0||(n=i)!==void 0&&n>=55296&&n<=57343||i>Qu?va:i}var n;return r}o(wn,"consumeEscapedCodePoint");function _n(t,e){let r=[];for(;;){let n=e.source.codePointAt(e.cursor);if(Oa(n))r.push(n),e.advanceCodePoint(+(n>65535)+1);else{if(!Wt(e))return r;e.advanceCodePoint(),r.push(wn(t,e))}}}o(_n,"consumeIdentSequence");function _p(t,e){e.advanceCodePoint();let r=e.source.codePointAt(e.cursor);if(r!==void 0&&(Oa(r)||Wt(e))){let n=bn.Unrestricted;vn(0,e)&&(n=bn.ID);let a=_n(t,e);return[p.Hash,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:String.fromCodePoint(...a),type:n}]}return[p.Delim,"#",e.representationStart,e.representationEnd,{value:"#"}]}o(_p,"consumeHashToken");function xp(t,e){let r=h.Integer;for(e.source.codePointAt(e.cursor)!==Ht&&e.source.codePointAt(e.cursor)!==re||e.advanceCodePoint();be(e.source.codePointAt(e.cursor));)e.advanceCodePoint();if(e.source.codePointAt(e.cursor)===hn&&be(e.source.codePointAt(e.cursor+1)))for(e.advanceCodePoint(2),r=h.Number;be(e.source.codePointAt(e.cursor));)e.advanceCodePoint();if(e.source.codePointAt(e.cursor)===Yu||e.source.codePointAt(e.cursor)===Gu){if(be(e.source.codePointAt(e.cursor+1)))e.advanceCodePoint(2);else{if(e.source.codePointAt(e.cursor+1)!==re&&e.source.codePointAt(e.cursor+1)!==Ht||!be(e.source.codePointAt(e.cursor+2)))return r;e.advanceCodePoint(3)}for(r=h.Number;be(e.source.codePointAt(e.cursor));)e.advanceCodePoint()}return r}o(xp,"consumeNumber");function ba(t,e){let r;{let s=e.source.codePointAt(e.cursor);s===re?r="-":s===Ht&&(r="+")}let n=xp(0,e),a=parseFloat(e.source.slice(e.representationStart,e.representationEnd+1));if(vn(0,e)){let s=_n(t,e);return[p.Dimension,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:a,signCharacter:r,type:n,unit:String.fromCodePoint(...s)}]}return e.source.codePointAt(e.cursor)===rp?(e.advanceCodePoint(),[p.Percentage,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:a,signCharacter:r}]):[p.Number,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:a,signCharacter:r,type:n}]}o(ba,"consumeNumericToken");function kp(t){for(;ut(t.source.codePointAt(t.cursor));)t.advanceCodePoint();return[p.Whitespace,t.source.slice(t.representationStart,t.representationEnd+1),t.representationStart,t.representationEnd,void 0]}o(kp,"consumeWhiteSpace");(function(t){t.Comment="comment",t.AtKeyword="at-keyword-token",t.BadString="bad-string-token",t.BadURL="bad-url-token",t.CDC="CDC-token",t.CDO="CDO-token",t.Colon="colon-token",t.Comma="comma-token",t.Delim="delim-token",t.Dimension="dimension-token",t.EOF="EOF-token",t.Function="function-token",t.Hash="hash-token",t.Ident="ident-token",t.Number="number-token",t.Percentage="percentage-token",t.Semicolon="semicolon-token",t.String="string-token",t.URL="url-token",t.Whitespace="whitespace-token",t.OpenParen="(-token",t.CloseParen=")-token",t.OpenSquare="[-token",t.CloseSquare="]-token",t.OpenCurly="{-token",t.CloseCurly="}-token",t.UnicodeRange="unicode-range-token"})(p||(p={})),function(t){t.Integer="integer",t.Number="number"}(h||(h={})),function(t){t.Unrestricted="unrestricted",t.ID="id"}(bn||(bn={}));var xa=class{static{o(this,"Reader")}cursor=0;source="";representationStart=0;representationEnd=-1;constructor(e){this.source=e}advanceCodePoint(e=1){this.cursor=this.cursor+e,this.representationEnd=this.cursor-1}readCodePoint(){let e=this.source.codePointAt(this.cursor);if(e!==void 0)return this.cursor=this.cursor+1,this.representationEnd=this.cursor-1,e}unreadCodePoint(e=1){this.cursor=this.cursor-e,this.representationEnd=this.cursor-1}resetRepresentation(){this.representationStart=this.cursor,this.representationEnd=-1}};function Np(t,e){let r="",n=e.readCodePoint();for(;;){let a=e.readCodePoint();if(a===void 0){let s=[p.String,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:r}];return t.onParseError(new Re(He.UnexpectedEOFInString,e.representationStart,e.representationEnd,["4.3.5. Consume a string token","Unexpected EOF"],s)),s}if(yn(a)){e.unreadCodePoint();let s=[p.BadString,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,void 0];return t.onParseError(new Re(He.UnexpectedNewLineInString,e.representationStart,e.source.codePointAt(e.cursor)===Or&&e.source.codePointAt(e.cursor+1)===Ar?e.representationEnd+2:e.representationEnd+1,["4.3.5. Consume a string token","Unexpected newline"],s)),s}if(a===n)return[p.String,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:r}];if(a!==Ir)r+=String.fromCodePoint(a);else{if(e.source.codePointAt(e.cursor)===void 0)continue;if(yn(e.source.codePointAt(e.cursor))){e.source.codePointAt(e.cursor)===Or&&e.source.codePointAt(e.cursor+1)===Ar&&e.advanceCodePoint(),e.advanceCodePoint();continue}r+=String.fromCodePoint(wn(t,e))}}}o(Np,"consumeStringToken");function Sp(t){return!(t.length!==3||t[0]!==Pa&&t[0]!==Ta||t[1]!==ip&&t[1]!==cp||t[2]!==lp&&t[2]!==up)}o(Sp,"checkIfCodePointsMatchURLIdent");function wa(t,e){for(;;){let r=e.source.codePointAt(e.cursor);if(r===void 0)return;if(r===gn)return void e.advanceCodePoint();Wt(e)?(e.advanceCodePoint(),wn(t,e)):e.advanceCodePoint()}}o(wa,"consumeBadURL");function Ep(t,e){for(;ut(e.source.codePointAt(e.cursor));)e.advanceCodePoint();let r="";for(;;){if(e.source.codePointAt(e.cursor)===void 0){let s=[p.URL,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:r}];return t.onParseError(new Re(He.UnexpectedEOFInURL,e.representationStart,e.representationEnd,["4.3.6. Consume a url token","Unexpected EOF"],s)),s}if(e.source.codePointAt(e.cursor)===gn)return e.advanceCodePoint(),[p.URL,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:r}];if(ut(e.source.codePointAt(e.cursor))){for(e.advanceCodePoint();ut(e.source.codePointAt(e.cursor));)e.advanceCodePoint();if(e.source.codePointAt(e.cursor)===void 0){let s=[p.URL,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:r}];return t.onParseError(new Re(He.UnexpectedEOFInURL,e.representationStart,e.representationEnd,["4.3.6. Consume a url token","Consume as much whitespace as possible","Unexpected EOF"],s)),s}return e.source.codePointAt(e.cursor)===gn?(e.advanceCodePoint(),[p.URL,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:r}]):(wa(t,e),[p.BadURL,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,void 0])}let a=e.source.codePointAt(e.cursor);if(a===Ea||a===ka||a===Sa||(n=a)!==void 0&&(n===qu||n===Zu||ep<=n&&n<=Du||op<=n&&n<=Wu)){wa(t,e);let s=[p.BadURL,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,void 0];return t.onParseError(new Re(He.UnexpectedCharacterInURL,e.representationStart,e.representationEnd,["4.3.6. Consume a url token",`Unexpected U+0022 QUOTATION MARK ("), U+0027 APOSTROPHE ('), U+0028 LEFT PARENTHESIS (() or non-printable code point`],s)),s}if(a===Ir){if(Wt(e)){e.advanceCodePoint(),r+=String.fromCodePoint(wn(t,e));continue}wa(t,e);let s=[p.BadURL,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,void 0];return t.onParseError(new Re(He.InvalidEscapeSequenceInURL,e.representationStart,e.representationEnd,["4.3.6. Consume a url token","U+005C REVERSE SOLIDUS (\\)","The input stream does not start with a valid escape sequence"],s)),s}r+=e.source[e.cursor],e.advanceCodePoint()}var n}o(Ep,"consumeUrlToken");function _a(t,e){let r=_n(t,e);if(e.source.codePointAt(e.cursor)!==Sa)return[p.Ident,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:String.fromCodePoint(...r)}];if(Sp(r)){e.advanceCodePoint();let n=0;for(;;){let a=ut(e.source.codePointAt(e.cursor)),s=ut(e.source.codePointAt(e.cursor+1));if(a&&s){n+=1,e.advanceCodePoint(1);continue}let i=a?e.source.codePointAt(e.cursor+1):e.source.codePointAt(e.cursor);if(i===Ea||i===ka)return n>0&&e.unreadCodePoint(n),[p.Function,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:String.fromCodePoint(...r)}];break}return Ep(t,e)}return e.advanceCodePoint(),[p.Function,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{value:String.fromCodePoint(...r)}]}o(_a,"consumeIdentLikeToken");function Cp(t){return!(t.source.codePointAt(t.cursor)!==Pa&&t.source.codePointAt(t.cursor)!==Ta||t.source.codePointAt(t.cursor+1)!==Ht||t.source.codePointAt(t.cursor+2)!==Io&&!lt(t.source.codePointAt(t.cursor+2)))}o(Cp,"checkIfThreeCodePointsWouldStartAUnicodeRange");function Pp(t,e){e.advanceCodePoint(2);let r=[],n=[],a;for(;(a=e.source.codePointAt(e.cursor))!==void 0&&r.length<6&&lt(a);)r.push(a),e.advanceCodePoint();for(;(a=e.source.codePointAt(e.cursor))!==void 0&&r.length<6&&a===Io;)n.length===0&&n.push(...r),r.push(pp),n.push(dp),e.advanceCodePoint();if(!n.length&&e.source.codePointAt(e.cursor)===re&&lt(e.source.codePointAt(e.cursor+1)))for(e.advanceCodePoint();(a=e.source.codePointAt(e.cursor))!==void 0&&n.length<6&&lt(a);)n.push(a),e.advanceCodePoint();if(!n.length){let c=parseInt(String.fromCodePoint(...r),16);return[p.UnicodeRange,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{startOfRange:c,endOfRange:c}]}let s=parseInt(String.fromCodePoint(...r),16),i=parseInt(String.fromCodePoint(...n),16);return[p.UnicodeRange,e.source.slice(e.representationStart,e.representationEnd+1),e.representationStart,e.representationEnd,{startOfRange:s,endOfRange:i}]}o(Pp,"consumeUnicodeRangeToken");function dt(t,e){let r=Aa(t,e),n=[];for(;!r.endOfFile();)n.push(r.nextToken());return n.push(r.nextToken()),n}o(dt,"tokenize");function Aa(t,e){let r=t.css.valueOf(),n=t.unicodeRangesAllowed??!1,a=new xa(r),s={onParseError:e?.onParseError??Tp};return{nextToken:o(function(){a.resetRepresentation();let c=a.source.codePointAt(a.cursor);if(c===void 0)return[p.EOF,"",-1,-1,void 0];if(c===Ca&&vp(a))return wp(s,a);if(n&&(c===Pa||c===Ta)&&Cp(a))return Pp(0,a);if(zt(c))return _a(s,a);if(be(c))return ba(s,a);switch(c){case Uu:return a.advanceCodePoint(),[p.Comma,",",a.representationStart,a.representationEnd,void 0];case ju:return a.advanceCodePoint(),[p.Colon,":",a.representationStart,a.representationEnd,void 0];case sp:return a.advanceCodePoint(),[p.Semicolon,";",a.representationStart,a.representationEnd,void 0];case Sa:return a.advanceCodePoint(),[p.OpenParen,"(",a.representationStart,a.representationEnd,void 0];case gn:return a.advanceCodePoint(),[p.CloseParen,")",a.representationStart,a.representationEnd,void 0];case Ku:return a.advanceCodePoint(),[p.OpenSquare,"[",a.representationStart,a.representationEnd,void 0];case ap:return a.advanceCodePoint(),[p.CloseSquare,"]",a.representationStart,a.representationEnd,void 0];case Xu:return a.advanceCodePoint(),[p.OpenCurly,"{",a.representationStart,a.representationEnd,void 0];case np:return a.advanceCodePoint(),[p.CloseCurly,"}",a.representationStart,a.representationEnd,void 0];case ka:case Ea:return Np(s,a);case tp:return _p(s,a);case Ht:case hn:return Co(a)?ba(s,a):(a.advanceCodePoint(),[p.Delim,a.source[a.representationStart],a.representationStart,a.representationEnd,{value:a.source[a.representationStart]}]);case Ar:case Or:case Na:case To:case Ao:return kp(a);case re:return Co(a)?ba(s,a):bp(a)?(a.advanceCodePoint(3),[p.CDC,"-->",a.representationStart,a.representationEnd,void 0]):vn(0,a)?_a(s,a):(a.advanceCodePoint(),[p.Delim,"-",a.representationStart,a.representationEnd,{value:"-"}]);case Oo:return mp(a)?(a.advanceCodePoint(4),[p.CDO,"<!--",a.representationStart,a.representationEnd,void 0]):(a.advanceCodePoint(),[p.Delim,"<",a.representationStart,a.representationEnd,{value:"<"}]);case Bu:if(a.advanceCodePoint(),vn(0,a)){let l=_n(s,a);return[p.AtKeyword,a.source.slice(a.representationStart,a.representationEnd+1),a.representationStart,a.representationEnd,{value:String.fromCodePoint(...l)}]}return[p.Delim,"@",a.representationStart,a.representationEnd,{value:"@"}];case Ir:{if(Wt(a))return _a(s,a);a.advanceCodePoint();let l=[p.Delim,"\\",a.representationStart,a.representationEnd,{value:"\\"}];return s.onParseError(new Re(He.InvalidEscapeSequenceAfterBackslash,a.representationStart,a.representationEnd,["4.3.1. Consume a token","U+005C REVERSE SOLIDUS (\\)","The input stream does not start with a valid escape sequence"],l)),l}}return a.advanceCodePoint(),[p.Delim,a.source[a.representationStart],a.representationStart,a.representationEnd,{value:a.source[a.representationStart]}]},"nextToken"),endOfFile:o(function(){return a.source.codePointAt(a.cursor)===void 0},"endOfFile")}}o(Aa,"tokenizer");function Tp(){}o(Tp,"noop");function Ia(t,e){let r=[];for(let c of e)r.push(c.codePointAt(0));let n=Op(r);n[0]===101&&fn(n,0,n[0]);let a=String.fromCodePoint(...n),s=t[4].signCharacter==="+"?t[4].signCharacter:"",i=t[4].value.toString();t[1]=`${s}${i}${a}`,t[4].unit=e}o(Ia,"mutateUnit");function Op(t){let e=0;t[0]===re&&t[1]===re?e=2:t[0]===re&&t[1]?(e=2,zt(t[1])||(e+=fn(t,1,t[1]))):zt(t[0])?e=1:(e=1,e+=fn(t,0,t[0]));for(let r=e;r<t.length;r++)Oa(t[r])||(r+=fn(t,r,t[r]));return t}o(Op,"ensureThatValueRoundTripsAsIdent");function fn(t,e,r){let n=r.toString(16),a=[];for(let i of n)a.push(i.codePointAt(0));let s=t[e+1];return e===t.length-1||s&&lt(s)?(t.splice(e,1,92,...a,32),1+a.length):(t.splice(e,1,92,...a),a.length)}o(fn,"insertEscapedCodePoint");var Ap=Object.values(p);function Rr(t){return!!Array.isArray(t)&&!(t.length<4)&&!!Ap.includes(t[0])&&typeof t[1]=="string"&&typeof t[2]=="number"&&typeof t[3]=="number"}o(Rr,"isToken");function W(t){switch(t[0]){case p.Dimension:case p.Number:case p.Percentage:return!0;default:return!1}}o(W,"isTokenNumeric");function Ra(t){switch(t[0]){case p.Whitespace:case p.Comment:return!0;default:return!1}}o(Ra,"isTokenWhiteSpaceOrComment");function me(t){return!!t&&t[0]===p.Comma}o(me,"isTokenComma");function Ma(t){return!!t&&t[0]===p.Comment}o(Ma,"isTokenComment");function Gt(t){return!!t&&t[0]===p.Delim}o(Gt,"isTokenDelim");function j(t){return!!t&&t[0]===p.Dimension}o(j,"isTokenDimension");function ze(t){return!!t&&t[0]===p.EOF}o(ze,"isTokenEOF");function Fo(t){return!!t&&t[0]===p.Function}o(Fo,"isTokenFunction");function Lo(t){return!!t&&t[0]===p.Hash}o(Lo,"isTokenHash");function X(t){return!!t&&t[0]===p.Ident}o(X,"isTokenIdent");function E(t){return!!t&&t[0]===p.Number}o(E,"isTokenNumber");function D(t){return!!t&&t[0]===p.Percentage}o(D,"isTokenPercentage");function xn(t){return!!t&&t[0]===p.Whitespace}o(xn,"isTokenWhitespace");function kn(t){return!!t&&t[0]===p.OpenParen}o(kn,"isTokenOpenParen");function Vo(t){return!!t&&t[0]===p.CloseParen}o(Vo,"isTokenCloseParen");function $o(t){return!!t&&t[0]===p.OpenSquare}o($o,"isTokenOpenSquare");function Do(t){return!!t&&t[0]===p.OpenCurly}o(Do,"isTokenOpenCurly");function ne(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}o(ne,"multiplyMatrices");var Ip=[.955473421488075,-.02309845494876471,.06325924320057072,-.0283697093338637,1.0099953980813041,.021041441191917323,.012314014864481998,-.020507649298898964,1.330365926242124];function Me(t){return ne(Ip,t)}o(Me,"D50_to_D65");var Rp=[1.0479297925449969,.022946870601609652,-.05019226628920524,.02962780877005599,.9904344267538799,-.017073799063418826,-.009243040646204504,.015055191490298152,.7518742814281371];function Fe(t){return ne(Rp,t)}o(Fe,"D65_to_D50");function Zo(t){let e=t[0]%360,r=t[1]/100,n=t[2]/100;return e<0&&(e+=360),[Fa(0,e,r,n),Fa(8,e,r,n),Fa(4,e,r,n)]}o(Zo,"HSL_to_sRGB");function Fa(t,e,r,n){let a=(t+e/30)%12;return n-r*Math.min(n,1-n)*Math.max(-1,Math.min(a-3,9-a,1))}o(Fa,"HSL_to_sRGB_channel");function Mp(t){let e=t[0],r=t[1]/100,n=t[2]/100;if(r+n>=1){let i=r/(r+n);return[i,i,i]}let a=Zo([e,100,50]),s=1-r-n;return[a[0]*s+r,a[1]*s+r,a[2]*s+r]}o(Mp,"HWB_to_sRGB");function Fp(t){let e=t[2]*Math.PI/180;return[t[0],t[1]*Math.cos(e),t[1]*Math.sin(e)]}o(Fp,"LCH_to_Lab");function Lp(t){let e=180*Math.atan2(t[2],t[1])/Math.PI;return[t[0],Math.sqrt(Math.pow(t[1],2)+Math.pow(t[2],2)),e>=0?e:e+360]}o(Lp,"Lab_to_LCH");var Yt=[.3457/.3585,1,.2958/.3585];function Ho(t){let e=903.2962962962963,r=216/24389,n=(t[0]+16)/116,a=t[1]/500+n,s=n-t[2]/200;return[(Math.pow(a,3)>r?Math.pow(a,3):(116*a-16)/e)*Yt[0],(t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/e)*Yt[1],(Math.pow(s,3)>r?Math.pow(s,3):(116*s-16)/e)*Yt[2]]}o(Ho,"Lab_to_XYZ");function Nn(t){let e=t[2]*Math.PI/180;return[t[0],t[1]*Math.cos(e),t[1]*Math.sin(e)]}o(Nn,"OKLCH_to_OKLab");function Sn(t){let e=180*Math.atan2(t[2],t[1])/Math.PI;return[t[0],Math.sqrt(t[1]**2+t[2]**2),e>=0?e:e+360]}o(Sn,"OKLab_to_OKLCH");var Vp=[1.2268798758459243,-.5578149944602171,.2813910456659647,-.0405757452148008,1.112286803280317,-.0717110580655164,-.0763729366746601,-.4214933324022432,1.5869240198367816],$p=[1,.3963377773761749,.2158037573099136,1,-.1055613458156586,-.0638541728258133,1,-.0894841775298119,-1.2914855480194092];function Mr(t){let e=ne($p,t);return ne(Vp,[e[0]**3,e[1]**3,e[2]**3])}o(Mr,"OKLab_to_XYZ");function zo(t){let e=La(t[0]/Yt[0]),r=La(t[1]/Yt[1]);return[116*r-16,500*(e-r),200*(r-La(t[2]/Yt[2]))]}o(zo,"XYZ_to_Lab");var Dp=216/24389,jp=24389/27;function La(t){return t>Dp?Math.cbrt(t):(jp*t+16)/116}o(La,"compute_f");var Up=[.819022437996703,.3619062600528904,-.1288737815209879,.0329836539323885,.9292868615863434,.0361446663506424,.0481771893596242,.2642395317527308,.6335478284694309],Bp=[.210454268309314,.7936177747023054,-.0040720430116193,1.9779985324311684,-2.42859224204858,.450593709617411,.0259040424655478,.7827717124575296,-.8086757549230774];function Fr(t){let e=ne(Up,t);return ne(Bp,[Math.cbrt(e[0]),Math.cbrt(e[1]),Math.cbrt(e[2])])}o(Fr,"XYZ_to_OKLab");var Zp=[30757411/17917100,-6372589/17917100,-4539589/17917100,-.666684351832489,1.616481236634939,467509/29648200,792561/44930125,-1921689/44930125,.942103121235474];var Hp=[446124/178915,-333277/357830,-72051/178915,-14852/17905,63121/35810,423/17905,11844/330415,-50337/660830,316169/330415];function za(t){return ne(Hp,t)}o(za,"XYZ_to_lin_P3");var zp=[1.3457868816471583,-.25557208737979464,-.05110186497554526,-.5446307051249019,1.5082477428451468,.02052744743642139,0,0,1.2119675456389452];var Wp=[1829569/896150,-506331/896150,-308931/896150,-851781/878810,1648619/878810,36519/878810,16779/1248040,-147721/1248040,1266979/1248040];var Gp=[12831/3959,-329/214,-1974/3959,-851781/878810,1648619/878810,36519/878810,705/12673,-2585/12673,705/667];function Xt(t){return ne(Gp,t)}o(Xt,"XYZ_to_lin_sRGB");var jo=1.09929682680944,Yp=.018053968510807;function Va(t){let e=t<0?-1:1,r=Math.abs(t);return r>Yp?e*(jo*Math.pow(r,.45)-(jo-1)):4.5*t}o(Va,"gam_2020_channel");function Kt(t){return[$a(t[0]),$a(t[1]),$a(t[2])]}o(Kt,"gam_sRGB");function $a(t){let e=t<0?-1:1,r=Math.abs(t);return r>.0031308?e*(1.055*Math.pow(r,1/2.4)-.055):12.92*t}o($a,"gam_sRGB_channel");function Wa(t){return Kt(t)}o(Wa,"gam_P3");var Xp=1/512;function Da(t){let e=t<0?-1:1,r=Math.abs(t);return r>=Xp?e*Math.pow(r,1/1.8):16*t}o(Da,"gam_ProPhoto_channel");function ja(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,256/563)}o(ja,"gam_a98rgb_channel");var Uo=1.09929682680944,Kp=.018053968510807;function Ua(t){let e=t<0?-1:1,r=Math.abs(t);return r<4.5*Kp?t/4.5:e*Math.pow((r+Uo-1)/Uo,1/.45)}o(Ua,"lin_2020_channel");var qp=[63426534/99577255,20160776/139408157,47086771/278816314,26158966/99577255,.677998071518871,8267143/139408157,0,19567812/697040785,1.0609850577107909];function En(t){return[Ba(t[0]),Ba(t[1]),Ba(t[2])]}o(En,"lin_sRGB");function Ba(t){let e=t<0?-1:1,r=Math.abs(t);return r<=.04045?t/12.92:e*Math.pow((r+.055)/1.055,2.4)}o(Ba,"lin_sRGB_channel");function Jp(t){return En(t)}o(Jp,"lin_P3");var Qp=[608311/1250200,189793/714400,198249/1000160,35783/156275,247089/357200,198249/2500400,0,32229/714400,5220557/5000800];function Ga(t){return ne(Qp,t)}o(Ga,"lin_P3_to_XYZ");var ed=16/512;function Za(t){let e=t<0?-1:1,r=Math.abs(t);return r<=ed?t/16:e*Math.pow(r,1.8)}o(Za,"lin_ProPhoto_channel");var td=[.7977666449006423,.13518129740053308,.0313477341283922,.2880748288194013,.711835234241873,8993693872564e-17,0,0,.8251046025104602];function Ha(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,563/256)}o(Ha,"lin_a98rgb_channel");var rd=[573536/994567,263643/1420810,187206/994567,591459/1989134,6239551/9945670,374412/4972835,53769/1989134,351524/4972835,4929758/4972835];var nd=[506752/1228815,87881/245763,12673/70218,87098/409605,175762/245763,12673/175545,7918/409605,87881/737289,1001167/1053270];function qt(t){return ne(nd,t)}o(qt,"lin_sRGB_to_XYZ");function ad(t){let e=t[0],r=t[1],n=t[2],a=Math.max(e,r,n),s=Math.min(e,r,n),i=(s+a)/2,c=a-s,l=NaN,u=0;if(Math.round(1e5*c)!==0){let m=Math.round(1e5*i);switch(u=m===0||m===1e5?0:(a-i)/Math.min(i,1-i),a){case e:l=(r-n)/c+(r<n?6:0);break;case r:l=(n-e)/c+2;break;case n:l=(e-r)/c+4}l*=60}return u<0&&(l+=180,u=Math.abs(u)),l>=360&&(l-=360),[l,100*u,100*i]}o(ad,"sRGB_to_HSL");function sd(t){let e=t[0],r=t[1],n=t[2],a=Math.max(e,r,n),s=NaN,i=a-Math.min(e,r,n);if(i!==0){switch(a){case e:s=(r-n)/i+(r<n?6:0);break;case r:s=(n-e)/i+2;break;case n:s=(e-r)/i+4}s*=60}return s>=360&&(s-=360),s}o(sd,"sRGB_to_Hue");function Wo(t){let e=t;return e=En(e),e=qt(e),e=Fe(e),e}o(Wo,"sRGB_to_XYZ_D50");function Lr(t){let e=t;return e=Me(e),e=Xt(e),e=Kt(e),e}o(Lr,"XYZ_D50_to_sRGB");function Go(t){let e=t;return e=Zo(e),e=En(e),e=qt(e),e=Fe(e),e}o(Go,"HSL_to_XYZ_D50");function Yo(t){let e=t;return e=Me(e),e=Xt(e),e=Kt(e),e=ad(e),e}o(Yo,"XYZ_D50_to_HSL");function Xo(t){let e=t;return e=Mp(e),e=En(e),e=qt(e),e=Fe(e),e}o(Xo,"HWB_to_XYZ_D50");function Ko(t){let e=t;e=Me(e),e=Xt(e);let r=Kt(e),n=Math.min(r[0],r[1],r[2]),a=1-Math.max(r[0],r[1],r[2]);return[sd(r),100*n,100*a]}o(Ko,"XYZ_D50_to_HWB");function qo(t){let e=t;return e=Ho(e),e}o(qo,"Lab_to_XYZ_D50");function Jo(t){let e=t;return e=zo(e),e}o(Jo,"XYZ_D50_to_Lab");function Qo(t){let e=t;return e=Fp(e),e=Ho(e),e}o(Qo,"LCH_to_XYZ_D50");function ei(t){let e=t;return e=zo(e),e=Lp(e),e}o(ei,"XYZ_D50_to_LCH");function ti(t){let e=t;return e=Mr(e),e=Fe(e),e}o(ti,"OKLab_to_XYZ_D50");function ri(t){let e=t;return e=Me(e),e=Fr(e),e}o(ri,"XYZ_D50_to_OKLab");function ni(t){let e=t;return e=Nn(e),e=Mr(e),e=Fe(e),e}o(ni,"OKLCH_to_XYZ_D50");function Cn(t){let e=t;return e=Me(e),e=Fr(e),e=Sn(e),e}o(Cn,"XYZ_D50_to_OKLCH");function ai(t){let e=t;return e=qt(e),e=Fe(e),e}o(ai,"lin_sRGB_to_XYZ_D50");function si(t){let e=t;return e=Me(e),e=Xt(e),e}o(si,"XYZ_D50_to_lin_sRGB");function oi(t){let e=t;var r;return e=[Ha((r=e)[0]),Ha(r[1]),Ha(r[2])],e=ne(rd,e),e=Fe(e),e}o(oi,"a98_RGB_to_XYZ_D50");function ii(t){let e=t;var r;return e=Me(e),e=ne(Wp,e),e=[ja((r=e)[0]),ja(r[1]),ja(r[2])],e}o(ii,"XYZ_D50_to_a98_RGB");function ci(t){let e=t;return e=Jp(e),e=Ga(e),e=Fe(e),e}o(ci,"P3_to_XYZ_D50");function Pn(t){let e=t;return e=Me(e),e=za(e),e=Wa(e),e}o(Pn,"XYZ_D50_to_P3");function li(t){let e=t;var r;return e=[Ua((r=e)[0]),Ua(r[1]),Ua(r[2])],e=ne(qp,e),e=Fe(e),e}o(li,"rec_2020_to_XYZ_D50");function ui(t){let e=t;var r;return e=Me(e),e=ne(Zp,e),e=[Va((r=e)[0]),Va(r[1]),Va(r[2])],e}o(ui,"XYZ_D50_to_rec_2020");function pi(t){let e=t;var r;return e=[Za((r=e)[0]),Za(r[1]),Za(r[2])],e=ne(td,e),e}o(pi,"ProPhoto_RGB_to_XYZ_D50");function di(t){let e=t;var r;return e=ne(zp,e),e=[Da((r=e)[0]),Da(r[1]),Da(r[2])],e}o(di,"XYZ_D50_to_ProPhoto");function mi(t){let e=t;return e=Fe(e),e}o(mi,"XYZ_D65_to_XYZ_D50");function fi(t){let e=t;return e=Me(e),e}o(fi,"XYZ_D50_to_XYZ_D65");function Ya(t){return t[0]>=-1e-4&&t[0]<=1.0001&&t[1]>=-1e-4&&t[1]<=1.0001&&t[2]>=-1e-4&&t[2]<=1.0001}o(Ya,"inGamut");function Tn(t){return[t[0]<0?0:t[0]>1?1:t[0],t[1]<0?0:t[1]>1?1:t[1],t[2]<0?0:t[2]>1?1:t[2]]}o(Tn,"clip");function Xa(t,e,r){let n=t[0],a=t[2],s=e(t),i=e([n,0,a]);for(let c=0;c<4;c++){if(c>0){let u=r(s);u[0]=n,u[2]=a,s=e(u)}let l=od(i,s);if(!l)break;s=l}return Tn(s)}o(Xa,"mapGamutRayTrace");function od(t,e){let r=1/0,n=-1/0,a=[0,0,0];for(let s=0;s<3;s++){let i=t[s],c=e[s]-i;a[s]=c;let l=0,u=1;if(c){let m=1/c,f=(l-i)*m,v=(u-i)*m;n=Math.max(Math.min(f,v),n),r=Math.min(Math.max(f,v),r)}else if(i<l||i>u)return!1}return!(n>r||r<0)&&(n<0&&(n=r),!!isFinite(n)&&[t[0]+a[0]*n,t[1]+a[1]*n,t[2]+a[2]*n])}o(od,"rayTraceBox");var hi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Bo(t){let[e,r,n]=t.map(a=>a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4));return .2126*e+.7152*r+.0722*n}o(Bo,"luminance");function Ka(t,e){let r=Bo(t),n=Bo(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}o(Ka,"contrast_ratio_wcag_2_1");var we;function gi(t){let e=t.slice();return(r,n,a)=>{let s=-1;for(let i=e.indexOf(n);i<e.length&&(s=r.indexOf(e[i]),s===-1||s<a);i++);return s===-1||s===a&&n===r[a]&&(s++,s>=r.length)?-1:(e=r.slice(),s)}}o(gi,"walkerIndexGenerator");function qa(t,e){let r=e[0];if(kn(r)||Do(r)||$o(r)){let n=cd(t,e);return{advance:n.advance,node:n.node}}if(Fo(r)){let n=id(t,e);return{advance:n.advance,node:n.node}}if(xn(r)){let n=yi(t,e);return{advance:n.advance,node:n.node}}if(Ma(r)){let n=ld(t,e);return{advance:n.advance,node:n.node}}return{advance:1,node:new x(r)}}o(qa,"consumeComponentValue");(function(t){t.Function="function",t.SimpleBlock="simple-block",t.Whitespace="whitespace",t.Comment="comment",t.Token="token"})(we||(we={}));var On=class{static{o(this,"ContainerNodeBaseClass")}value=[];indexOf(e){return this.value.indexOf(e)}at(e){if(typeof e=="number")return e<0&&(e=this.value.length+e),this.value[e]}forEach(e,r){if(this.value.length===0)return;let n=gi(this.value),a=0;for(;a<this.value.length;){let s=this.value[a],i;if(r&&(i={...r}),e({node:s,parent:this,state:i},a)===!1)return!1;if(a=n(this.value,s,a),a===-1)break}}walk(e,r){this.value.length!==0&&this.forEach((n,a)=>e(n,a)!==!1&&(!("walk"in n.node)||!this.value.includes(n.node)||n.node.walk(e,n.state)!==!1)&&void 0,r)}},Y=class t extends On{static{o(this,"FunctionNode")}type=we.Function;name;endToken;constructor(e,r,n){super(),this.name=e,this.endToken=r,this.value=n}getName(){return this.name[4].value}normalize(){ze(this.endToken)&&(this.endToken=[p.CloseParen,")",-1,-1,void 0])}tokens(){return ze(this.endToken)?[this.name,...this.value.flatMap(e=>e.tokens())]:[this.name,...this.value.flatMap(e=>e.tokens()),this.endToken]}toString(){let e=this.value.map(r=>Rr(r)?Ee(r):r.toString()).join("");return Ee(this.name)+e+Ee(this.endToken)}toJSON(){return{type:this.type,name:this.getName(),tokens:this.tokens(),value:this.value.map(e=>e.toJSON())}}isFunctionNode(){return t.isFunctionNode(this)}static isFunctionNode(e){return!!e&&e instanceof t&&e.type===we.Function}};function id(t,e){let r=[],n=1;for(;;){let a=e[n];if(!a||ze(a))return t.onParseError(new pt("Unexpected EOF while consuming a function.",e[0][2],e[e.length-1][3],["5.4.9. Consume a function","Unexpected EOF"])),{advance:e.length,node:new Y(e[0],a,r)};if(Vo(a))return{advance:n+1,node:new Y(e[0],a,r)};if(Ra(a)){let i=vi(t,e.slice(n));n+=i.advance,r.push(...i.nodes);continue}let s=qa(t,e.slice(n));n+=s.advance,r.push(s.node)}}o(id,"consumeFunction");var Vr=class t extends On{static{o(this,"SimpleBlockNode")}type=we.SimpleBlock;startToken;endToken;constructor(e,r,n){super(),this.startToken=e,this.endToken=r,this.value=n}normalize(){if(ze(this.endToken)){let e=Mo(this.startToken);e&&(this.endToken=e)}}tokens(){return ze(this.endToken)?[this.startToken,...this.value.flatMap(e=>e.tokens())]:[this.startToken,...this.value.flatMap(e=>e.tokens()),this.endToken]}toString(){let e=this.value.map(r=>Rr(r)?Ee(r):r.toString()).join("");return Ee(this.startToken)+e+Ee(this.endToken)}toJSON(){return{type:this.type,startToken:this.startToken,tokens:this.tokens(),value:this.value.map(e=>e.toJSON())}}isSimpleBlockNode(){return t.isSimpleBlockNode(this)}static isSimpleBlockNode(e){return!!e&&e instanceof t&&e.type===we.SimpleBlock}};function cd(t,e){let r=Ro(e[0][0]);if(!r)throw new Error("Failed to parse, a mirror variant must exist for all block open tokens.");let n=[],a=1;for(;;){let s=e[a];if(!s||ze(s))return t.onParseError(new pt("Unexpected EOF while consuming a simple block.",e[0][2],e[e.length-1][3],["5.4.8. Consume a simple block","Unexpected EOF"])),{advance:e.length,node:new Vr(e[0],s,n)};if(s[0]===r)return{advance:a+1,node:new Vr(e[0],s,n)};if(Ra(s)){let c=vi(t,e.slice(a));a+=c.advance,n.push(...c.nodes);continue}let i=qa(t,e.slice(a));a+=i.advance,n.push(i.node)}}o(cd,"consumeSimpleBlock");var H=class t{static{o(this,"WhitespaceNode")}type=we.Whitespace;value;constructor(e){this.value=e}tokens(){return this.value}toString(){return Ee(...this.value)}toJSON(){return{type:this.type,tokens:this.tokens()}}isWhitespaceNode(){return t.isWhitespaceNode(this)}static isWhitespaceNode(e){return!!e&&e instanceof t&&e.type===we.Whitespace}};function yi(t,e){let r=0;for(;;){let n=e[r];if(!xn(n))return{advance:r,node:new H(e.slice(0,r))};r++}}o(yi,"consumeWhitespace");var $r=class t{static{o(this,"CommentNode")}type=we.Comment;value;constructor(e){this.value=e}tokens(){return[this.value]}toString(){return Ee(this.value)}toJSON(){return{type:this.type,tokens:this.tokens()}}isCommentNode(){return t.isCommentNode(this)}static isCommentNode(e){return!!e&&e instanceof t&&e.type===we.Comment}};function ld(t,e){return{advance:1,node:new $r(e[0])}}o(ld,"consumeComment");function vi(t,e){let r=[],n=0;for(;;)if(xn(e[n])){let a=yi(0,e.slice(n));n+=a.advance,r.push(a.node)}else{if(!Ma(e[n]))return{advance:n,nodes:r};r.push(new $r(e[n])),n++}}o(vi,"consumeAllCommentsAndWhitespace");var x=class t{static{o(this,"TokenNode")}type=we.Token;value;constructor(e){this.value=e}tokens(){return[this.value]}toString(){return this.value[1]}toJSON(){return{type:this.type,tokens:this.tokens()}}isTokenNod(){return t.isTokenNode(this)}static isTokenNode(e){return!!e&&e instanceof t&&e.type===we.Token}};function Le(t,e){let r={onParseError:e?.onParseError??(()=>{})},n=[...t];if(t.length===0)return[];ze(n[n.length-1])&&n.push([p.EOF,"",n[n.length-1][2],n[n.length-1][3],void 0]);let a=[],s=[],i=0;for(;;){if(!n[i]||ze(n[i]))return s.length&&a.push(s),a;if(me(n[i])){a.push(s),s=[],i++;continue}let c=qa(r,t.slice(i));s.push(c.node),i+=c.advance}}o(Le,"parseCommaSeparatedListOfComponentValues");function ud(t,e,r){if(t.length===0)return;let n=gi(t),a=0;for(;a<t.length;){let s=t[a],i;if(r&&(i={...r}),e({node:s,parent:{value:t},state:i},a)===!1)return!1;if(a=n(t,s,a),a===-1)break}}o(ud,"forEach");function pd(t,e,r){t.length!==0&&ud(t,(n,a)=>e(n,a)!==!1&&(!("walk"in n.node)||!t.includes(n.node)||n.node.walk(e,n.state)!==!1)&&void 0,r)}o(pd,"walk");function Ce(t,e){for(let r=0;r<t.length;r++)pd(t[r],(n,a)=>{if(typeof a!="number")return;let s=e(n.node);s&&(Array.isArray(s)?n.parent.value.splice(a,1,...s):n.parent.value.splice(a,1,s))});return t}o(Ce,"replaceComponentValues");function We(t){return t.map(e=>e.map(r=>Ee(...r.tokens())).join("")).join(",")}o(We,"stringify");function bi(t){return Vr.isSimpleBlockNode(t)}o(bi,"isSimpleBlockNode");function G(t){return Y.isFunctionNode(t)}o(G,"isFunctionNode");function q(t){return H.isWhitespaceNode(t)}o(q,"isWhitespaceNode");function J(t){return $r.isCommentNode(t)}o(J,"isCommentNode");function N(t){return x.isTokenNode(t)}o(N,"isTokenNode");var dd=/[A-Z]/g;function le(t){return t.replace(dd,e=>String.fromCharCode(e.charCodeAt(0)+32))}o(le,"toLowerCaseAZ");var md={cm:"px",in:"px",mm:"px",pc:"px",pt:"px",px:"px",q:"px",deg:"deg",grad:"deg",rad:"deg",turn:"deg",ms:"s",s:"s",hz:"hz",khz:"hz"},fd=new Map([["cm",t=>t],["mm",t=>10*t],["q",t=>40*t],["in",t=>t/2.54],["pc",t=>t/2.54*6],["pt",t=>t/2.54*72],["px",t=>t/2.54*96]]),Rn=new Map([["deg",t=>t],["grad",t=>t/.9],["rad",t=>t/180*Math.PI],["turn",t=>t/360]]),Dr=new Map([["deg",t=>.9*t],["grad",t=>t],["rad",t=>.9*t/180*Math.PI],["turn",t=>.9*t/360]]),hd=new Map([["hz",t=>t],["khz",t=>t/1e3]]),gd=new Map([["cm",t=>2.54*t],["mm",t=>25.4*t],["q",t=>25.4*t*4],["in",t=>t],["pc",t=>6*t],["pt",t=>72*t],["px",t=>96*t]]),yd=new Map([["hz",t=>1e3*t],["khz",t=>t]]),vd=new Map([["cm",t=>t/10],["mm",t=>t],["q",t=>4*t],["in",t=>t/25.4],["pc",t=>t/25.4*6],["pt",t=>t/25.4*72],["px",t=>t/25.4*96]]),bd=new Map([["ms",t=>t],["s",t=>t/1e3]]),wd=new Map([["cm",t=>t/6*2.54],["mm",t=>t/6*25.4],["q",t=>t/6*25.4*4],["in",t=>t/6],["pc",t=>t],["pt",t=>t/6*72],["px",t=>t/6*96]]),_d=new Map([["cm",t=>t/72*2.54],["mm",t=>t/72*25.4],["q",t=>t/72*25.4*4],["in",t=>t/72],["pc",t=>t/72*6],["pt",t=>t],["px",t=>t/72*96]]),xd=new Map([["cm",t=>t/96*2.54],["mm",t=>t/96*25.4],["q",t=>t/96*25.4*4],["in",t=>t/96],["pc",t=>t/96*6],["pt",t=>t/96*72],["px",t=>t]]),kd=new Map([["cm",t=>t/4/10],["mm",t=>t/4],["q",t=>t],["in",t=>t/4/25.4],["pc",t=>t/4/25.4*6],["pt",t=>t/4/25.4*72],["px",t=>t/4/25.4*96]]),xi=new Map([["deg",t=>180*t/Math.PI],["grad",t=>180*t/Math.PI/.9],["rad",t=>t],["turn",t=>180*t/Math.PI/360]]),Nd=new Map([["ms",t=>1e3*t],["s",t=>t]]),jr=new Map([["deg",t=>360*t],["grad",t=>360*t/.9],["rad",t=>360*t/180*Math.PI],["turn",t=>t]]),ki=new Map([["cm",fd],["mm",vd],["q",kd],["in",gd],["pc",wd],["pt",_d],["px",xd],["ms",bd],["s",Nd],["deg",Rn],["grad",Dr],["rad",xi],["turn",jr],["hz",hd],["khz",yd]]);function Pe(t,e){if(!j(t)||!j(e))return e;let r=le(t[4].unit),n=le(e[4].unit);if(r===n)return e;let a=ki.get(n);if(!a)return e;let s=a.get(r);if(!s)return e;let i=s(e[4].value),c=[p.Dimension,"",e[2],e[3],{...e[4],signCharacter:i<0?"-":void 0,type:Number.isInteger(i)?h.Integer:h.Number,value:i}];return Ia(c,t[4].unit),c}o(Pe,"convertUnit");function Sd(t){if(!j(t))return t;let e=le(t[4].unit),r=md[e];if(e===r)return t;let n=ki.get(e);if(!n)return t;let a=n.get(r);if(!a)return t;let s=a(t[4].value),i=[p.Dimension,"",t[2],t[3],{...t[4],signCharacter:s<0?"-":void 0,type:Number.isInteger(s)?h.Integer:h.Number,value:s}];return Ia(i,r),i}o(Sd,"toCanonicalUnit");function Ed(t){if(t.length!==2)return-1;let e=t[0].value,r=t[1].value;if(E(e)&&E(r)){let n=e[4].value+r[4].value;return new x([p.Number,n.toString(),e[2],r[3],{value:n,type:e[4].type===h.Integer&&r[4].type===h.Integer?h.Integer:h.Number}])}if(D(e)&&D(r)){let n=e[4].value+r[4].value;return new x([p.Percentage,n.toString()+"%",e[2],r[3],{value:n}])}if(j(e)&&j(r)&&(r=Pe(e,r),le(e[4].unit)===le(r[4].unit))){let n=e[4].value+r[4].value;return new x([p.Dimension,n.toString()+e[4].unit,e[2],r[3],{value:n,type:e[4].type===h.Integer&&r[4].type===h.Integer?h.Integer:h.Number,unit:e[4].unit}])}return-1}o(Ed,"addition");function Cd(t){if(t.length!==2)return-1;let e=t[0].value,r=t[1].value;if(E(e)&&E(r)){let n=e[4].value/r[4].value;return new x([p.Number,n.toString(),e[2],r[3],{value:n,type:Number.isInteger(n)?h.Integer:h.Number}])}if(D(e)&&E(r)){let n=e[4].value/r[4].value;return new x([p.Percentage,n.toString()+"%",e[2],r[3],{value:n}])}if(j(e)&&E(r)){let n=e[4].value/r[4].value;return new x([p.Dimension,n.toString()+e[4].unit,e[2],r[3],{value:n,type:Number.isInteger(n)?h.Integer:h.Number,unit:e[4].unit}])}return-1}o(Cd,"division");function mt(t){return!!t&&typeof t=="object"&&"inputs"in t&&Array.isArray(t.inputs)&&"operation"in t}o(mt,"isCalculation");function fe(t){if(t===-1)return-1;let e=[];for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r];if(N(n)){e.push(n);continue}let a=fe(n);if(a===-1)return-1;e.push(a)}return t.operation(e)}o(fe,"solve");function Pd(t){if(t.length!==2)return-1;let e=t[0].value,r=t[1].value;if(E(e)&&E(r)){let n=e[4].value*r[4].value;return new x([p.Number,n.toString(),e[2],r[3],{value:n,type:e[4].type===h.Integer&&r[4].type===h.Integer?h.Integer:h.Number}])}if(D(e)&&E(r)){let n=e[4].value*r[4].value;return new x([p.Percentage,n.toString()+"%",e[2],r[3],{value:n}])}if(E(e)&&D(r)){let n=e[4].value*r[4].value;return new x([p.Percentage,n.toString()+"%",e[2],r[3],{value:n}])}if(j(e)&&E(r)){let n=e[4].value*r[4].value;return new x([p.Dimension,n.toString()+e[4].unit,e[2],r[3],{value:n,type:e[4].type===h.Integer&&r[4].type===h.Integer?h.Integer:h.Number,unit:e[4].unit}])}if(E(e)&&j(r)){let n=e[4].value*r[4].value;return new x([p.Dimension,n.toString()+r[4].unit,e[2],r[3],{value:n,type:e[4].type===h.Integer&&r[4].type===h.Integer?h.Integer:h.Number,unit:r[4].unit}])}return-1}o(Pd,"multiplication");function Jt(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(!N(n))continue;let a=n.value;if(!X(a))continue;let s=le(a[4].value);switch(s){case"e":t.splice(r,1,new x([p.Number,Math.E.toString(),a[2],a[3],{value:Math.E,type:h.Number}]));break;case"pi":t.splice(r,1,new x([p.Number,Math.PI.toString(),a[2],a[3],{value:Math.PI,type:h.Number}]));break;case"infinity":t.splice(r,1,new x([p.Number,"infinity",a[2],a[3],{value:1/0,type:h.Number}]));break;case"-infinity":t.splice(r,1,new x([p.Number,"-infinity",a[2],a[3],{value:-1/0,type:h.Number}]));break;case"nan":t.splice(r,1,new x([p.Number,"NaN",a[2],a[3],{value:Number.NaN,type:h.Number}]));break;default:if(e.has(s)){let i=e.get(s);t.splice(r,1,new x(i))}}}return t}o(Jt,"resolveGlobalsAndConstants");function Mn(t){if(t.length!==1)return-1;let e=t[0].value;return W(e)?t[0]:-1}o(Mn,"unary");function Je(t,e,r){return j(e)?Ur(t,e[4].unit,r):D(e)?Td(t,r):E(e)?$e(t,r):-1}o(Je,"resultToCalculation");function Ur(t,e,r){let n=t.tokens();return{inputs:[new x([p.Dimension,r.toString()+e,n[0][2],n[n.length-1][3],{value:r,type:Number.isInteger(r)?h.Integer:h.Number,unit:e}])],operation:Mn}}o(Ur,"dimensionToCalculation");function Td(t,e){let r=t.tokens();return{inputs:[new x([p.Percentage,e.toString()+"%",r[0][2],r[r.length-1][3],{value:e}])],operation:Mn}}o(Td,"percentageToCalculation");function $e(t,e){let r=t.tokens();return{inputs:[new x([p.Number,e.toString(),r[0][2],r[r.length-1][3],{value:e,type:Number.isInteger(e)?h.Integer:h.Number}])],operation:Mn}}o($e,"numberToCalculation");function Od(t,e){let r=e.value;return E(r)?Ur(t,"rad",Math.acos(r[4].value)):-1}o(Od,"solveACos");function Ad(t,e){let r=e.value;return E(r)?Ur(t,"rad",Math.asin(r[4].value)):-1}o(Ad,"solveASin");function Id(t,e){let r=e.value;return E(r)?Ur(t,"rad",Math.atan(r[4].value)):-1}o(Id,"solveATan");function Fn(t){return j(t)||E(t)}o(Fn,"isDimensionOrNumber");function Qa(t){if(t.length===0)return!0;let e=t[0];if(!W(e))return!1;if(t.length===1)return!0;if(j(e)){let r=le(e[4].unit);for(let n=1;n<t.length;n++){let a=t[n];if(e[0]!==a[0]||r!==le(a[4].unit))return!1}return!0}for(let r=1;r<t.length;r++){let n=t[r];if(e[0]!==n[0])return!1}return!0}o(Qa,"arrayOfSameNumeric");function ft(t,e){return!!W(t)&&(j(t)?t[0]===e[0]&&le(t[4].unit)===le(e[4].unit):t[0]===e[0])}o(ft,"twoOfSameNumeric");function Rd(t,e,r){let n=e.value;if(!Fn(n))return-1;let a=Pe(n,r.value);return ft(n,a)?Ur(t,"rad",Math.atan2(n[4].value,a[4].value)):-1}o(Rd,"solveATan2");function Md(t,e,r){let n=e.value;return!W(n)||!r.rawPercentages&&D(n)?-1:Je(t,n,Math.abs(n[4].value))}o(Md,"solveAbs");function Fd(t,e,r,n,a){if(!N(e)||!N(r)||!N(n))return-1;let s=e.value;if(!W(s)||!a.rawPercentages&&D(s))return-1;let i=Pe(s,r.value);if(!ft(s,i))return-1;let c=Pe(s,n.value);return ft(s,c)?Je(t,s,Math.max(s[4].value,Math.min(i[4].value,c[4].value))):-1}o(Fd,"solveClamp");function Ld(t,e){let r=e.value;if(!Fn(r))return-1;let n=r[4].value;if(j(r))switch(r[4].unit.toLowerCase()){case"rad":break;case"deg":n=Rn.get("rad")(r[4].value);break;case"grad":n=Dr.get("rad")(r[4].value);break;case"turn":n=jr.get("rad")(r[4].value);break;default:return-1}return n=Math.cos(n),$e(t,n)}o(Ld,"solveCos");function Vd(t,e){let r=e.value;return E(r)?$e(t,Math.exp(r[4].value)):-1}o(Vd,"solveExp");function $d(t,e,r){let n=e[0];if(!n||!N(n)||new Set(e.map(l=>l.type)).size!==1)return-1;let a=n.value;if(!W(a)||!r.rawPercentages&&D(a))return-1;let s=e.map(l=>Pe(a,l.value));if(!Qa(s))return-1;let i=s.map(l=>l[4].value),c=Math.hypot(...i);return Je(t,a,c)}o($d,"solveHypot");function wi(t,e,r){let n=e[0];if(!n||!N(n)||new Set(e.map(l=>l.type)).size!==1)return-1;let a=n.value;if(!W(a)||!r.rawPercentages&&D(a))return-1;let s=e.map(l=>Pe(a,l.value));if(!Qa(s))return-1;let i=s.map(l=>l[4].value),c=Math.max(...i);return Je(t,a,c)}o(wi,"solveMax");function _i(t,e,r){let n=e[0];if(!n||!N(n)||new Set(e.map(l=>l.type)).size!==1)return-1;let a=n.value;if(!W(a)||!r.rawPercentages&&D(a))return-1;let s=e.map(l=>Pe(a,l.value));if(!Qa(s))return-1;let i=s.map(l=>l[4].value),c=Math.min(...i);return Je(t,a,c)}o(_i,"solveMin");function Dd(t,e,r){let n=e.value;if(!W(n))return-1;let a=Pe(n,r.value);if(!ft(n,a))return-1;let s;return s=a[4].value===0?Number.NaN:Number.isFinite(n[4].value)&&(Number.isFinite(a[4].value)||(a[4].value!==Number.POSITIVE_INFINITY||n[4].value!==Number.NEGATIVE_INFINITY&&!Object.is(0*n[4].value,-0))&&(a[4].value!==Number.NEGATIVE_INFINITY||n[4].value!==Number.POSITIVE_INFINITY&&!Object.is(0*n[4].value,0)))?Number.isFinite(a[4].value)?(n[4].value%a[4].value+a[4].value)%a[4].value:n[4].value:Number.NaN,Je(t,n,s)}o(Dd,"solveMod");function jd(t,e,r){let n=e.value,a=r.value;return!E(n)||!ft(n,a)?-1:$e(t,Math.pow(n[4].value,a[4].value))}o(jd,"solvePow");function Ud(t,e,r){let n=e.value;if(!W(n))return-1;let a=Pe(n,r.value);if(!ft(n,a))return-1;let s;return s=a[4].value===0?Number.NaN:Number.isFinite(n[4].value)?Number.isFinite(a[4].value)?n[4].value%a[4].value:n[4].value:Number.NaN,Je(t,n,s)}o(Ud,"solveRem");function Bd(t,e,r,n,a){let s=r.value;if(!W(s)||!a.rawPercentages&&D(s))return-1;let i=Pe(s,n.value);if(!ft(s,i))return-1;let c;if(i[4].value===0)c=Number.NaN;else if(Number.isFinite(s[4].value)||Number.isFinite(i[4].value))if(!Number.isFinite(s[4].value)&&Number.isFinite(i[4].value))c=s[4].value;else if(Number.isFinite(s[4].value)&&!Number.isFinite(i[4].value))switch(e){case"down":c=s[4].value<0?-1/0:Object.is(-0,0*s[4].value)?-0:0;break;case"up":c=s[4].value>0?1/0:Object.is(0,0*s[4].value)?0:-0;break;default:c=Object.is(0,0*s[4].value)?0:-0}else if(Number.isFinite(i[4].value))switch(e){case"down":c=Math.floor(s[4].value/i[4].value)*i[4].value;break;case"up":c=Math.ceil(s[4].value/i[4].value)*i[4].value;break;case"to-zero":c=Math.trunc(s[4].value/i[4].value)*i[4].value;break;default:{let l=Math.floor(s[4].value/i[4].value)*i[4].value,u=Math.ceil(s[4].value/i[4].value)*i[4].value;if(l>u){let v=l;l=u,u=v}let m=Math.abs(s[4].value-l),f=Math.abs(s[4].value-u);c=m===f?u:m<f?l:u;break}}else c=s[4].value;else c=Number.NaN;return Je(t,s,c)}o(Bd,"solveRound");function Zd(t,e,r){let n=e.value;return!W(n)||!r.rawPercentages&&D(n)?-1:$e(t,Math.sign(n[4].value))}o(Zd,"solveSign");function Hd(t,e){let r=e.value;if(!Fn(r))return-1;let n=r[4].value;if(j(r))switch(le(r[4].unit)){case"rad":break;case"deg":n=Rn.get("rad")(r[4].value);break;case"grad":n=Dr.get("rad")(r[4].value);break;case"turn":n=jr.get("rad")(r[4].value);break;default:return-1}return n=Math.sin(n),$e(t,n)}o(Hd,"solveSin");function zd(t,e){let r=e.value;return E(r)?$e(t,Math.sqrt(r[4].value)):-1}o(zd,"solveSqrt");function Wd(t,e){let r=e.value;if(!Fn(r))return-1;let n=r[4].value,a=0,s=r[4].value;if(j(r))switch(le(r[4].unit)){case"rad":a=xi.get("deg")(n);break;case"deg":a=n,s=Rn.get("rad")(n);break;case"grad":a=Dr.get("deg")(n),s=Dr.get("rad")(n);break;case"turn":a=jr.get("deg")(n),s=jr.get("rad")(n);break;default:return-1}let i=a/90;return s=a%90==0&&i%2!=0?i>0?1/0:-1/0:Math.tan(s),$e(t,s)}o(Wd,"solveTan");function Gd(t){if(t.length!==2)return-1;let e=t[0].value,r=t[1].value;if(E(e)&&E(r)){let n=e[4].value-r[4].value;return new x([p.Number,n.toString(),e[2],r[3],{value:n,type:e[4].type===h.Integer&&r[4].type===h.Integer?h.Integer:h.Number}])}if(D(e)&&D(r)){let n=e[4].value-r[4].value;return new x([p.Percentage,n.toString()+"%",e[2],r[3],{value:n}])}if(j(e)&&j(r)&&(r=Pe(e,r),le(e[4].unit)===le(r[4].unit))){let n=e[4].value-r[4].value;return new x([p.Dimension,n.toString()+e[4].unit,e[2],r[3],{value:n,type:e[4].type===h.Integer&&r[4].type===h.Integer?h.Integer:h.Number,unit:e[4].unit}])}return-1}o(Gd,"subtraction");function Yd(t,e){if(e.length===1){let r=e[0];if(!r||!N(r))return-1;let n=r.value;return E(n)?$e(t,Math.log(n[4].value)):-1}if(e.length===2){let r=e[0];if(!r||!N(r))return-1;let n=r.value;if(!E(n))return-1;let a=e[1];if(!a||!N(a))return-1;let s=a.value;return E(s)?$e(t,Math.log(n[4].value)/Math.log(s[4].value)):-1}return-1}o(Yd,"solveLog");var Xd=/^none$/i;function Ja(t){if(Array.isArray(t)){let r=t.filter(n=>!(q(n)&&J(n)));return r.length===1&&Ja(r[0])}if(!N(t))return!1;let e=t.value;return!!X(e)&&Xd.test(e[4].value)}o(Ja,"isNone");var es=new Map([["abs",o(function(e,r,n){return Ve(e,r,n,Md)},"abs")],["acos",o(function(e,r,n){return Ve(e,r,n,Od)},"acos")],["asin",o(function(e,r,n){return Ve(e,r,n,Ad)},"asin")],["atan",o(function(e,r,n){return Ve(e,r,n,Id)},"atan")],["atan2",o(function(e,r,n){return An(e,r,n,Rd)},"atan2")],["calc",ce],["clamp",o(function(e,r,n){let a=Jt([...e.value.filter(k=>!J(k)&&!q(k))],r),s=[],i=[],c=[];{let k=s;for(let C=0;C<a.length;C++){let P=a[C];if(N(P)&&me(P.value)){if(k===c)return-1;if(k===i){k=c;continue}if(k===s){k=i;continue}return-1}k.push(P)}}let l=Ja(s),u=Ja(c);if(l&&u)return ce(_e(i),r,n);let m=fe(ce(_e(i),r,n));if(m===-1)return-1;if(l){let k=fe(ce(_e(c),r,n));return k===-1?-1:_i((f=m,v=k,new Y([p.Function,"min(",-1,-1,{value:"min"}],[p.CloseParen,")",-1,-1,void 0],[f,new x([p.Comma,",",-1,-1,void 0]),v])),[m,k],n)}if(u){let k=fe(ce(_e(s),r,n));return k===-1?-1:wi(qd(k,m),[k,m],n)}var f,v;let _=fe(ce(_e(s),r,n));if(_===-1)return-1;let M=fe(ce(_e(c),r,n));return M===-1?-1:Fd(e,_,m,M,n)},"clamp")],["cos",o(function(e,r,n){return Ve(e,r,n,Ld)},"cos")],["exp",o(function(e,r,n){return Ve(e,r,n,Vd)},"exp")],["hypot",o(function(e,r,n){return In(e,r,n,$d)},"hypot")],["log",o(function(e,r,n){return In(e,r,n,Yd)},"log")],["max",o(function(e,r,n){return In(e,r,n,wi)},"max")],["min",o(function(e,r,n){return In(e,r,n,_i)},"min")],["mod",o(function(e,r,n){return An(e,r,n,Dd)},"mod")],["pow",o(function(e,r,n){return An(e,r,n,jd)},"pow")],["rem",o(function(e,r,n){return An(e,r,n,Ud)},"rem")],["round",o(function(e,r,n){let a=Jt([...e.value.filter(f=>!J(f)&&!q(f))],r),s="",i=!1,c=[],l=[];{let f=c;for(let v=0;v<a.length;v++){let _=a[v];if(!s&&c.length===0&&l.length===0&&N(_)&&X(_.value)){let M=_.value[4].value.toLowerCase();if(Kd.has(M)){s=M;continue}}if(N(_)&&me(_.value)){if(f===l)return-1;if(f===c&&s&&c.length===0)continue;if(f===c){i=!0,f=l;continue}return-1}f.push(_)}}let u=fe(ce(_e(c),r,n));if(u===-1)return-1;i||l.length!==0||l.push(new x([p.Number,"1",-1,-1,{value:1,type:h.Integer}]));let m=fe(ce(_e(l),r,n));return m===-1?-1:(s||(s="nearest"),Bd(e,s,u,m,n))},"round")],["sign",o(function(e,r,n){return Ve(e,r,n,Zd)},"sign")],["sin",o(function(e,r,n){return Ve(e,r,n,Hd)},"sin")],["sqrt",o(function(e,r,n){return Ve(e,r,n,zd)},"sqrt")],["tan",o(function(e,r,n){return Ve(e,r,n,Wd)},"tan")]]);function ce(t,e,r){let n=Jt([...t.value.filter(s=>!J(s)&&!q(s))],e);if(n.length===1&&N(n[0]))return{inputs:[n[0]],operation:Mn};let a=0;for(;a<n.length;){let s=n[a];if(bi(s)&&kn(s.startToken)){let i=ce(s,e,r);if(i===-1)return-1;n.splice(a,1,i)}else if(G(s)){let i=es.get(s.getName().toLowerCase());if(!i)return-1;let c=i(s,e,r);if(c===-1)return-1;n.splice(a,1,c)}else a++}if(a=0,n.length===1&&mt(n[0]))return n[0];for(;a<n.length;){let s=n[a];if(!s||!N(s)&&!mt(s)){a++;continue}let i=n[a+1];if(!i||!N(i)){a++;continue}let c=i.value;if(!Gt(c)||c[4].value!=="*"&&c[4].value!=="/"){a++;continue}let l=n[a+2];if(!l||!N(l)&&!mt(l))return-1;c[4].value!=="*"?c[4].value!=="/"?a++:n.splice(a,3,{inputs:[s,l],operation:Cd}):n.splice(a,3,{inputs:[s,l],operation:Pd})}if(a=0,n.length===1&&mt(n[0]))return n[0];for(;a<n.length;){let s=n[a];if(!s||!N(s)&&!mt(s)){a++;continue}let i=n[a+1];if(!i||!N(i)){a++;continue}let c=i.value;if(!Gt(c)||c[4].value!=="+"&&c[4].value!=="-"){a++;continue}let l=n[a+2];if(!l||!N(l)&&!mt(l))return-1;c[4].value!=="+"?c[4].value!=="-"?a++:n.splice(a,3,{inputs:[s,l],operation:Gd}):n.splice(a,3,{inputs:[s,l],operation:Ed})}return n.length===1&&mt(n[0])?n[0]:-1}o(ce,"calc$1");function Ve(t,e,r,n){let a=fe(ce(_e(Jt([...t.value.filter(s=>!J(s)&&!q(s))],e)),e,r));return a===-1?-1:n(t,a,r)}o(Ve,"singleNodeSolver");function An(t,e,r,n){let a=Jt([...t.value.filter(u=>!J(u)&&!q(u))],e),s=[],i=[];{let u=s;for(let m=0;m<a.length;m++){let f=a[m];if(N(f)&&me(f.value)){if(u===i)return-1;if(u===s){u=i;continue}return-1}u.push(f)}}let c=fe(ce(_e(s),e,r));if(c===-1)return-1;let l=fe(ce(_e(i),e,r));return l===-1?-1:n(t,c,l,r)}o(An,"twoCommaSeparatedNodesSolver");function In(t,e,r,n){let a=Jt([...t.value.filter(i=>!J(i)&&!q(i))],e),s=[];{let i=[],c=[];for(let l=0;l<a.length;l++){let u=a[l];N(u)&&me(u.value)?(i.push(c),c=[]):c.push(u)}i.push(c);for(let l=0;l<i.length;l++){if(i[l].length===0)return-1;let u=fe(ce(_e(i[l]),e,r));if(u===-1)return-1;s.push(u)}}return n(t,s,r)}o(In,"variadicNodesSolver");var Kd=new Set(["nearest","up","down","to-zero"]);function _e(t){return new Y([p.Function,"calc(",-1,-1,{value:"calc"}],[p.CloseParen,")",-1,-1,void 0],t)}o(_e,"calcWrapper");function qd(t,e){return new Y([p.Function,"max(",-1,-1,{value:"max"}],[p.CloseParen,")",-1,-1,void 0],[t,new x([p.Comma,",",-1,-1,void 0]),e])}o(qd,"maxWrapper");function Jd(t){if(t===-1)return-1;if(G(t))return t;let e=t.value;return W(e)&&Number.isNaN(e[4].value)?E(e)?new Y([p.Function,"calc(",e[2],e[3],{value:"calc"}],[p.CloseParen,")",e[2],e[3],void 0],[new x([p.Ident,"NaN",e[2],e[3],{value:"NaN"}])]):j(e)?new Y([p.Function,"calc(",e[2],e[3],{value:"calc"}],[p.CloseParen,")",e[2],e[3],void 0],[new x([p.Ident,"NaN",e[2],e[3],{value:"NaN"}]),new H([[p.Whitespace," ",e[2],e[3],void 0]]),new x([p.Delim,"*",e[2],e[3],{value:"*"}]),new H([[p.Whitespace," ",e[2],e[3],void 0]]),new x([p.Dimension,"1"+e[4].unit,e[2],e[3],{value:1,type:h.Integer,unit:e[4].unit}])]):D(e)?new Y([p.Function,"calc(",e[2],e[3],{value:"calc"}],[p.CloseParen,")",e[2],e[3],void 0],[new x([p.Ident,"NaN",e[2],e[3],{value:"NaN"}]),new H([[p.Whitespace," ",e[2],e[3],void 0]]),new x([p.Delim,"*",e[2],e[3],{value:"*"}]),new H([[p.Whitespace," ",e[2],e[3],void 0]]),new x([p.Percentage,"1%",e[2],e[3],{value:1}])]):-1:t}o(Jd,"patchNaN");function Qd(t){if(t===-1)return-1;if(G(t))return t;let e=t.value;if(!W(e)||Number.isFinite(e[4].value)||Number.isNaN(e[4].value))return t;let r="";return Number.NEGATIVE_INFINITY===e[4].value&&(r="-"),E(e)?new Y([p.Function,"calc(",e[2],e[3],{value:"calc"}],[p.CloseParen,")",e[2],e[3],void 0],[new x([p.Ident,r+"infinity",e[2],e[3],{value:r+"infinity"}])]):j(e)?new Y([p.Function,"calc(",e[2],e[3],{value:"calc"}],[p.CloseParen,")",e[2],e[3],void 0],[new x([p.Ident,r+"infinity",e[2],e[3],{value:r+"infinity"}]),new H([[p.Whitespace," ",e[2],e[3],void 0]]),new x([p.Delim,"*",e[2],e[3],{value:"*"}]),new H([[p.Whitespace," ",e[2],e[3],void 0]]),new x([p.Dimension,"1"+e[4].unit,e[2],e[3],{value:1,type:h.Integer,unit:e[4].unit}])]):new Y([p.Function,"calc(",e[2],e[3],{value:"calc"}],[p.CloseParen,")",e[2],e[3],void 0],[new x([p.Ident,r+"infinity",e[2],e[3],{value:r+"infinity"}]),new H([[p.Whitespace," ",e[2],e[3],void 0]]),new x([p.Delim,"*",e[2],e[3],{value:"*"}]),new H([[p.Whitespace," ",e[2],e[3],void 0]]),new x([p.Percentage,"1%",e[2],e[3],{value:1}])])}o(Qd,"patchInfinity");function em(t){if(t===-1)return-1;if(G(t))return t;let e=t.value;return W(e)&&Object.is(-0,e[4].value)&&(e[1]==="-0"||(D(e)?e[1]="-0%":j(e)?e[1]="-0"+e[4].unit:e[1]="-0")),t}o(em,"patchMinusZero");function tm(t,e=13){if(t===-1)return-1;if(e<=0||G(t))return t;let r=t.value;if(!W(r)||Number.isInteger(r[4].value))return t;let n=Number(r[4].value.toFixed(e)).toString();return E(r)?r[1]=n:D(r)?r[1]=n+"%":j(r)&&(r[1]=n+r[4].unit),t}o(tm,"patchPrecision");function rm(t){return t===-1?-1:(G(t)||j(t.value)&&(t.value=Sd(t.value)),t)}o(rm,"patchCanonicalUnit");function nm(t,e){let r=t;return e?.censorIntoStandardRepresentableValues||(r=Jd(r),r=Qd(r)),e?.toCanonicalUnits&&(r=rm(r)),r=tm(r,e?.precision),r=em(r),r}o(nm,"patchCalcResult");function am(t){let e=new Map;if(!t)return e;for(let[r,n]of t)if(Rr(n))e.set(r,n);else if(typeof n=="string"){let a=Aa({css:n}),s=a.nextToken();if(a.nextToken(),!a.endOfFile()||!W(s))continue;e.set(r,s)}return e}o(am,"tokenizeGlobals");function Br(t,e){let r=am(e?.globals);return Ce(t,n=>{if(!G(n))return;let a=es.get(n.getName().toLowerCase());if(!a)return;let s=nm(fe(a(n,r,e??{})),e);return s!==-1?s:void 0})}o(Br,"calcFromComponentValues");var Zr=new Set(es.keys());var d,y;function ae(t){return[Number.isNaN(t[0])?0:t[0],Number.isNaN(t[1])?0:t[1],Number.isNaN(t[2])?0:t[2]]}o(ae,"convertNaNToZero");function Qt(t){switch(t.colorNotation){case d.HEX:case d.RGB:case d.sRGB:return{...t,colorNotation:d.XYZ_D50,channels:Wo(ae(t.channels))};case d.Linear_sRGB:return{...t,colorNotation:d.XYZ_D50,channels:ai(ae(t.channels))};case d.Display_P3:return{...t,colorNotation:d.XYZ_D50,channels:ci(ae(t.channels))};case d.Rec2020:return{...t,colorNotation:d.XYZ_D50,channels:li(ae(t.channels))};case d.A98_RGB:return{...t,colorNotation:d.XYZ_D50,channels:oi(ae(t.channels))};case d.ProPhoto_RGB:return{...t,colorNotation:d.XYZ_D50,channels:pi(ae(t.channels))};case d.HSL:return{...t,colorNotation:d.XYZ_D50,channels:Go(ae(t.channels))};case d.HWB:return{...t,colorNotation:d.XYZ_D50,channels:Xo(ae(t.channels))};case d.Lab:return{...t,colorNotation:d.XYZ_D50,channels:qo(ae(t.channels))};case d.OKLab:return{...t,colorNotation:d.XYZ_D50,channels:ti(ae(t.channels))};case d.LCH:return{...t,colorNotation:d.XYZ_D50,channels:Qo(ae(t.channels))};case d.OKLCH:return{...t,colorNotation:d.XYZ_D50,channels:ni(ae(t.channels))};case d.XYZ_D50:return{...t,colorNotation:d.XYZ_D50,channels:ae(t.channels)};case d.XYZ_D65:return{...t,colorNotation:d.XYZ_D50,channels:mi(ae(t.channels))};default:throw new Error("Unsupported color notation")}}o(Qt,"colorData_to_XYZ_D50");(function(t){t.A98_RGB="a98-rgb",t.Display_P3="display-p3",t.HEX="hex",t.HSL="hsl",t.HWB="hwb",t.LCH="lch",t.Lab="lab",t.Linear_sRGB="srgb-linear",t.OKLCH="oklch",t.OKLab="oklab",t.ProPhoto_RGB="prophoto-rgb",t.RGB="rgb",t.sRGB="srgb",t.Rec2020="rec2020",t.XYZ_D50="xyz-d50",t.XYZ_D65="xyz-d65"})(d||(d={})),function(t){t.ColorKeyword="color-keyword",t.HasAlpha="has-alpha",t.HasDimensionValues="has-dimension-values",t.HasNoneKeywords="has-none-keywords",t.HasNumberValues="has-number-values",t.HasPercentageAlpha="has-percentage-alpha",t.HasPercentageValues="has-percentage-values",t.HasVariableAlpha="has-variable-alpha",t.Hex="hex",t.LegacyHSL="legacy-hsl",t.LegacyRGB="legacy-rgb",t.NamedColor="named-color",t.RelativeColorSyntax="relative-color-syntax",t.ColorMix="color-mix",t.ContrastColor="contrast-color",t.Experimental="experimental"}(y||(y={}));var Ni=new Set([d.A98_RGB,d.Display_P3,d.HEX,d.Linear_sRGB,d.ProPhoto_RGB,d.RGB,d.sRGB,d.Rec2020,d.XYZ_D50,d.XYZ_D65]);function gt(t,e){let r={...t};if(t.colorNotation!==e){let n=Qt(r);switch(e){case d.HEX:case d.RGB:r.colorNotation=d.RGB,r.channels=Lr(n.channels);break;case d.sRGB:r.colorNotation=d.sRGB,r.channels=Lr(n.channels);break;case d.Linear_sRGB:r.colorNotation=d.Linear_sRGB,r.channels=si(n.channels);break;case d.Display_P3:r.colorNotation=d.Display_P3,r.channels=Pn(n.channels);break;case d.Rec2020:r.colorNotation=d.Rec2020,r.channels=ui(n.channels);break;case d.ProPhoto_RGB:r.colorNotation=d.ProPhoto_RGB,r.channels=di(n.channels);break;case d.A98_RGB:r.colorNotation=d.A98_RGB,r.channels=ii(n.channels);break;case d.HSL:r.colorNotation=d.HSL,r.channels=Yo(n.channels);break;case d.HWB:r.colorNotation=d.HWB,r.channels=Ko(n.channels);break;case d.Lab:r.colorNotation=d.Lab,r.channels=Jo(n.channels);break;case d.LCH:r.colorNotation=d.LCH,r.channels=ei(n.channels);break;case d.OKLCH:r.colorNotation=d.OKLCH,r.channels=Cn(n.channels);break;case d.OKLab:r.colorNotation=d.OKLab,r.channels=ri(n.channels);break;case d.XYZ_D50:r.colorNotation=d.XYZ_D50,r.channels=n.channels;break;case d.XYZ_D65:r.colorNotation=d.XYZ_D65,r.channels=fi(n.channels);break;default:throw new Error("Unsupported color notation")}}else r.channels=ae(t.channels);if(e===t.colorNotation)r.channels=ue(t.channels,[0,1,2],r.channels,[0,1,2]);else if(Ni.has(e)&&Ni.has(t.colorNotation))r.channels=ue(t.channels,[0,1,2],r.channels,[0,1,2]);else switch(e){case d.HSL:switch(t.colorNotation){case d.HWB:r.channels=ue(t.channels,[0],r.channels,[0]);break;case d.Lab:case d.OKLab:r.channels=ue(t.channels,[2],r.channels,[0]);break;case d.LCH:case d.OKLCH:r.channels=ue(t.channels,[0,1,2],r.channels,[2,1,0])}break;case d.HWB:switch(t.colorNotation){case d.HSL:r.channels=ue(t.channels,[0],r.channels,[0]);break;case d.LCH:case d.OKLCH:r.channels=ue(t.channels,[0],r.channels,[2])}break;case d.Lab:case d.OKLab:switch(t.colorNotation){case d.HSL:r.channels=ue(t.channels,[0],r.channels,[2]);break;case d.Lab:case d.OKLab:r.channels=ue(t.channels,[0,1,2],r.channels,[0,1,2]);break;case d.LCH:case d.OKLCH:r.channels=ue(t.channels,[0],r.channels,[0])}break;case d.LCH:case d.OKLCH:switch(t.colorNotation){case d.HSL:r.channels=ue(t.channels,[0,1,2],r.channels,[2,1,0]);break;case d.HWB:r.channels=ue(t.channels,[0],r.channels,[2]);break;case d.Lab:case d.OKLab:r.channels=ue(t.channels,[0],r.channels,[0]);break;case d.LCH:case d.OKLCH:r.channels=ue(t.channels,[0,1,2],r.channels,[0,1,2])}}return r.channels=sm(r.channels,e),r}o(gt,"colorDataTo");function sm(t,e){let r=[...t];switch(e){case d.HSL:!Number.isNaN(r[1])&&K(r[1],4)<=0&&(r[0]=NaN);break;case d.HWB:Math.max(0,K(r[1],4))+Math.max(0,K(r[2],4))>=100&&(r[0]=NaN);break;case d.LCH:!Number.isNaN(r[1])&&K(r[1],4)<=0&&(r[2]=NaN);break;case d.OKLCH:!Number.isNaN(r[1])&&K(r[1],6)<=0&&(r[2]=NaN)}return r}o(sm,"convertPowerlessComponentsToMissingComponents");function ns(t,e){let r=[...t];switch(e){case d.HSL:(K(r[2])<=0||K(r[2])>=100)&&(r[0]=NaN,r[1]=NaN),K(r[1])<=0&&(r[0]=NaN);break;case d.HWB:Math.max(0,K(r[1]))+Math.max(0,K(r[2]))>=100&&(r[0]=NaN);break;case d.Lab:(K(r[0])<=0||K(r[0])>=100)&&(r[1]=NaN,r[2]=NaN);break;case d.LCH:K(r[1])<=0&&(r[2]=NaN),(K(r[0])<=0||K(r[0])>=100)&&(r[1]=NaN,r[2]=NaN);break;case d.OKLab:(K(r[0])<=0||K(r[0])>=1)&&(r[1]=NaN,r[2]=NaN);break;case d.OKLCH:K(r[1])<=0&&(r[2]=NaN),(K(r[0])<=0||K(r[0])>=1)&&(r[1]=NaN,r[2]=NaN)}return r}o(ns,"convertPowerlessComponentsToZeroValuesForDisplay");function ue(t,e,r,n){let a=[...r];for(let s of e)Number.isNaN(t[e[s]])&&(a[n[s]]=NaN);return a}o(ue,"carryForwardMissingComponents");function Ei(t){let e=new Map;switch(t.colorNotation){case d.RGB:case d.HEX:e.set("r",B(255*t.channels[0])),e.set("g",B(255*t.channels[1])),e.set("b",B(255*t.channels[2])),typeof t.alpha=="number"&&e.set("alpha",B(t.alpha));break;case d.HSL:e.set("h",B(t.channels[0])),e.set("s",B(t.channels[1])),e.set("l",B(t.channels[2])),typeof t.alpha=="number"&&e.set("alpha",B(t.alpha));break;case d.HWB:e.set("h",B(t.channels[0])),e.set("w",B(t.channels[1])),e.set("b",B(t.channels[2])),typeof t.alpha=="number"&&e.set("alpha",B(t.alpha));break;case d.Lab:case d.OKLab:e.set("l",B(t.channels[0])),e.set("a",B(t.channels[1])),e.set("b",B(t.channels[2])),typeof t.alpha=="number"&&e.set("alpha",B(t.alpha));break;case d.LCH:case d.OKLCH:e.set("l",B(t.channels[0])),e.set("c",B(t.channels[1])),e.set("h",B(t.channels[2])),typeof t.alpha=="number"&&e.set("alpha",B(t.alpha));break;case d.sRGB:case d.A98_RGB:case d.Display_P3:case d.Rec2020:case d.Linear_sRGB:case d.ProPhoto_RGB:e.set("r",B(t.channels[0])),e.set("g",B(t.channels[1])),e.set("b",B(t.channels[2])),typeof t.alpha=="number"&&e.set("alpha",B(t.alpha));break;case d.XYZ_D50:case d.XYZ_D65:e.set("x",B(t.channels[0])),e.set("y",B(t.channels[1])),e.set("z",B(t.channels[2])),typeof t.alpha=="number"&&e.set("alpha",B(t.alpha))}return e}o(Ei,"normalizeRelativeColorDataChannels");function Ci(t){let e=new Map(t);for(let[r,n]of t)Number.isNaN(n[4].value)&&e.set(r,B(0));return e}o(Ci,"noneToZeroInRelativeColorDataChannels");function B(t){return Number.isNaN(t)?[p.Number,"none",-1,-1,{value:Number.NaN,type:h.Number}]:[p.Number,t.toString(),-1,-1,{value:t,type:h.Number}]}o(B,"dummyNumberToken");function K(t,e=7){if(Number.isNaN(t))return 0;let r=Math.pow(10,e);return Math.round(t*r)/r}o(K,"reducePrecision");function er(t){let e={...t,channels:[...t.channels]};return e.channels=ns(e.channels,e.colorNotation),!gt(e,d.RGB).channels.find(r=>r<-1e-5||r>1.00001)}o(er,"colorDataFitsRGB_Gamut");function A(t,e,r,n){return Math.min(Math.max(t/e,r),n)}o(A,"normalize");var om=/[A-Z]/g;function z(t){return t.replace(om,e=>String.fromCharCode(e.charCodeAt(0)+32))}o(z,"toLowerCaseAZ");function Hr(t,e,r){if(X(t)&&z(t[4].value)==="none")return r.syntaxFlags.add(y.HasNoneKeywords),[p.Number,"none",t[2],t[3],{value:NaN,type:h.Number}];if(D(t)){e!==3&&r.syntaxFlags.add(y.HasPercentageValues);let n=A(t[4].value,100,-2147483647,2147483647);return e===3&&(n=A(t[4].value,100,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=A(t[4].value,1,-2147483647,2147483647);return e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(Hr,"normalize_Color_ChannelValues");var im=new Set(["srgb","srgb-linear","display-p3","a98-rgb","prophoto-rgb","rec2020","xyz","xyz-d50","xyz-d65"]);function cm(t,e){let r=[],n=[],a=[],s=[],i,c,l=!1,u=!1,m={colorNotation:d.sRGB,channels:[0,0,0],alpha:1,syntaxFlags:new Set([])},f=r;for(let C=0;C<t.value.length;C++){let P=t.value[C];if(q(P)||J(P))for(;q(t.value[C+1])||J(t.value[C+1]);)C++;else if(f===r&&r.length&&(f=n),f===n&&n.length&&(f=a),N(P)&&Gt(P.value)&&P.value[4].value==="/"){if(f===s)return!1;f=s}else{if(G(P)){if(f===s&&z(P.getName())==="var"){m.syntaxFlags.add(y.HasVariableAlpha),f.push(P);continue}if(!Zr.has(z(P.getName())))return!1;let[[F]]=Br([[P]],{censorIntoStandardRepresentableValues:!0,globals:c,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!F||!N(F)||!W(F.value))return!1;Number.isNaN(F.value[4].value)&&(F.value[4].value=0),P=F}if(f===r&&r.length===0&&N(P)&&X(P.value)&&im.has(z(P.value[4].value))){if(l)return!1;l=z(P.value[4].value),m.colorNotation=lm(l),u&&(u.colorNotation!==m.colorNotation&&(u=gt(u,m.colorNotation)),i=Ei(u),c=Ci(i))}else if(f===r&&r.length===0&&N(P)&&X(P.value)&&z(P.value[4].value)==="from"){if(u||l)return!1;for(;q(t.value[C+1])||J(t.value[C+1]);)C++;if(C++,P=t.value[C],u=e(P),u===!1)return!1;u.syntaxFlags.has(y.Experimental)&&m.syntaxFlags.add(y.Experimental),m.syntaxFlags.add(y.RelativeColorSyntax)}else{if(!N(P))return!1;if(X(P.value)&&i&&i.has(z(P.value[4].value))){f.push(new x(i.get(z(P.value[4].value))));continue}f.push(P)}}}if(!l||f.length!==1||r.length!==1||n.length!==1||a.length!==1||!N(r[0])||!N(n[0])||!N(a[0])||i&&!i.has("alpha"))return!1;let v=Hr(r[0].value,0,m);if(!v||!E(v))return!1;let _=Hr(n[0].value,1,m);if(!_||!E(_))return!1;let M=Hr(a[0].value,2,m);if(!M||!E(M))return!1;let k=[v,_,M];if(s.length===1)if(m.syntaxFlags.add(y.HasAlpha),N(s[0])){let C=Hr(s[0].value,3,m);if(!C||!E(C))return!1;k.push(C)}else m.alpha=s[0];else if(i&&i.has("alpha")){let C=Hr(i.get("alpha"),3,m);if(!C||!E(C))return!1;k.push(C)}return m.channels=[k[0][4].value,k[1][4].value,k[2][4].value],k.length===4&&(m.alpha=k[3][4].value),m}o(cm,"color$1");function lm(t){switch(t){case"srgb":return d.sRGB;case"srgb-linear":return d.Linear_sRGB;case"display-p3":return d.Display_P3;case"a98-rgb":return d.A98_RGB;case"prophoto-rgb":return d.ProPhoto_RGB;case"rec2020":return d.Rec2020;case"xyz":case"xyz-d65":return d.XYZ_D65;case"xyz-d50":return d.XYZ_D50;default:throw new Error("Unknown color space name: "+t)}}o(lm,"colorSpaceNameToColorNotation");var um=new Set(["srgb","srgb-linear","display-p3","a98-rgb","prophoto-rgb","rec2020","lab","oklab","xyz","xyz-d50","xyz-d65"]),ts=new Set(["hsl","hwb","lch","oklch"]),pm=new Set(["shorter","longer","increasing","decreasing"]);function dm(t,e){let r=null,n=null,a=null,s=!1;for(let i=0;i<t.value.length;i++){let c=t.value[i];if(!q(c)&&!J(c)){if(N(c)&&X(c.value)){if(!r&&z(c.value[4].value)==="in"){r=c;continue}if(r&&!n){n=z(c.value[4].value);continue}if(r&&n&&!a&&ts.has(n)){a=z(c.value[4].value);continue}if(r&&n&&a&&!s&&z(c.value[4].value)==="hue"){s=!0;continue}return!1}return!(!N(c)||!me(c.value))&&!!n&&(a||s?!!(n&&a&&s&&ts.has(n)&&pm.has(a))&&Si(n,a,rs(t.value.slice(i+1),e)):um.has(n)?mm(n,rs(t.value.slice(i+1),e)):!!ts.has(n)&&Si(n,"shorter",rs(t.value.slice(i+1),e)))}}return!1}o(dm,"colorMix");function rs(t,e){let r=[],n=1,a=!1,s=!1;for(let l=0;l<t.length;l++){let u=t[l];if(!q(u)&&!J(u)){if(!N(u)||!me(u.value)){if(!a){let m=e(u);if(m){a=m;continue}}if(!s){if(G(u)&&Zr.has(z(u.getName()))){if([[u]]=Br([[u]],{censorIntoStandardRepresentableValues:!0,precision:-1,toCanonicalUnits:!0,rawPercentages:!0}),!u||!N(u)||!W(u.value))return!1;Number.isNaN(u.value[4].value)&&(u.value[4].value=0)}if(N(u)&&D(u.value)&&u.value[4].value>=0){s=u.value[4].value;continue}}return!1}if(!a)return!1;r.push({color:a,percentage:s}),a=!1,s=!1}}if(a&&r.push({color:a,percentage:s}),r.length!==2)return!1;let i=r[0].percentage,c=r[1].percentage;return(i===!1||!(i<0||i>100))&&(c===!1||!(c<0||c>100))&&(i===!1&&c===!1?(i=50,c=50):i!==!1&&c===!1?c=100-i:i===!1&&c!==!1&&(i=100-c),(i!==0||c!==0)&&i!==!1&&c!==!1&&(i+c>100&&(i=i/(i+c)*100,c=c/(i+c)*100),i+c<100&&(n=(i+c)/100,i=i/(i+c)*100,c=c/(i+c)*100),{a:{color:r[0].color,percentage:i},b:{color:r[1].color,percentage:c},alphaMultiplier:n}))}o(rs,"colorMixComponents");function mm(t,e){if(!e)return!1;let r=e.a.color,n=e.b.color,a=e.a.percentage/100,s=r.channels,i=n.channels,c=d.RGB,l=r.alpha;if(typeof l!="number")return!1;let u=n.alpha;if(typeof u!="number")return!1;switch(l=Number.isNaN(l)?u:l,u=Number.isNaN(u)?l:u,t){case"srgb":c=d.RGB;break;case"srgb-linear":c=d.Linear_sRGB;break;case"display-p3":c=d.Display_P3;break;case"a98-rgb":c=d.A98_RGB;break;case"prophoto-rgb":c=d.ProPhoto_RGB;break;case"rec2020":c=d.Rec2020;break;case"lab":c=d.Lab;break;case"oklab":c=d.OKLab;break;case"xyz-d50":c=d.XYZ_D50;break;case"xyz":case"xyz-d65":c=d.XYZ_D65}s=gt(r,c).channels,i=gt(n,c).channels,s[0]=xe(s[0],i[0]),i[0]=xe(i[0],s[0]),s[1]=xe(s[1],i[1]),i[1]=xe(i[1],s[1]),s[2]=xe(s[2],i[2]),i[2]=xe(i[2],s[2]),s[0]=De(s[0],l),s[1]=De(s[1],l),s[2]=De(s[2],l),i[0]=De(i[0],u),i[1]=De(i[1],u),i[2]=De(i[2],u);let m=Te(l,u,a),f={colorNotation:c,channels:[ht(Te(s[0],i[0],a),m),ht(Te(s[1],i[1],a),m),ht(Te(s[2],i[2],a),m)],alpha:m*e.alphaMultiplier,syntaxFlags:new Set([y.ColorMix])};return(e.a.color.syntaxFlags.has(y.Experimental)||e.b.color.syntaxFlags.has(y.Experimental))&&f.syntaxFlags.add(y.Experimental),f}o(mm,"colorMixRectangular");function Si(t,e,r){if(!r)return!1;let n=r.a.color,a=r.b.color,s=r.a.percentage/100,i=n.channels,c=a.channels,l=0,u=0,m=0,f=0,v=0,_=0,M=d.RGB,k=n.alpha;if(typeof k!="number")return!1;let C=a.alpha;if(typeof C!="number")return!1;switch(k=Number.isNaN(k)?C:k,C=Number.isNaN(C)?k:C,t){case"hsl":M=d.HSL;break;case"hwb":M=d.HWB;break;case"lch":M=d.LCH;break;case"oklch":M=d.OKLCH}switch(i=gt(n,M).channels,c=gt(a,M).channels,t){case"hsl":case"hwb":l=i[0],u=c[0],m=i[1],f=c[1],v=i[2],_=c[2];break;case"lch":case"oklch":m=i[0],f=c[0],v=i[1],_=c[1],l=i[2],u=c[2]}l=xe(l,u),Number.isNaN(l)&&(l=0),u=xe(u,l),Number.isNaN(u)&&(u=0),m=xe(m,f),f=xe(f,m),v=xe(v,_),_=xe(_,v);let P=u-l;switch(e){case"shorter":P>180?l+=360:P<-180&&(u+=360);break;case"longer":-180<P&&P<180&&(P>0?l+=360:u+=360);break;case"increasing":P<0&&(u+=360);break;case"decreasing":P>0&&(l+=360);break;default:throw new Error("Unknown hue interpolation method")}m=De(m,k),v=De(v,k),f=De(f,C),_=De(_,C);let F=[0,0,0],$=Te(k,C,s);switch(t){case"hsl":case"hwb":F=[Te(l,u,s),ht(Te(m,f,s),$),ht(Te(v,_,s),$)];break;case"lch":case"oklch":F=[ht(Te(m,f,s),$),ht(Te(v,_,s),$),Te(l,u,s)]}let te={colorNotation:M,channels:F,alpha:$*r.alphaMultiplier,syntaxFlags:new Set([y.ColorMix])};return(r.a.color.syntaxFlags.has(y.Experimental)||r.b.color.syntaxFlags.has(y.Experimental))&&te.syntaxFlags.add(y.Experimental),te}o(Si,"colorMixPolar");function xe(t,e){return Number.isNaN(t)?e:t}o(xe,"fillInMissingComponent");function Te(t,e,r){return t*r+e*(1-r)}o(Te,"interpolate");function De(t,e){return Number.isNaN(e)?t:Number.isNaN(t)?NaN:t*e}o(De,"premultiply");function ht(t,e){return e===0||Number.isNaN(e)?t:Number.isNaN(t)?NaN:t/e}o(ht,"un_premultiply");function fm(t){let e=z(t[4].value);if(e.match(/[^a-f0-9]/))return!1;let r={colorNotation:d.HEX,channels:[0,0,0],alpha:1,syntaxFlags:new Set([y.Hex])},n=e.length;if(n===3){let a=e[0],s=e[1],i=e[2];return r.channels=[parseInt(a+a,16)/255,parseInt(s+s,16)/255,parseInt(i+i,16)/255],r}if(n===6){let a=e[0]+e[1],s=e[2]+e[3],i=e[4]+e[5];return r.channels=[parseInt(a,16)/255,parseInt(s,16)/255,parseInt(i,16)/255],r}if(n===4){let a=e[0],s=e[1],i=e[2],c=e[3];return r.channels=[parseInt(a+a,16)/255,parseInt(s+s,16)/255,parseInt(i+i,16)/255],r.alpha=parseInt(c+c,16)/255,r.syntaxFlags.add(y.HasAlpha),r}if(n===8){let a=e[0]+e[1],s=e[2]+e[3],i=e[4]+e[5],c=e[6]+e[7];return r.channels=[parseInt(a,16)/255,parseInt(s,16)/255,parseInt(i,16)/255],r.alpha=parseInt(c,16)/255,r.syntaxFlags.add(y.HasAlpha),r}return!1}o(fm,"hex");function zr(t){if(E(t))return t[4].value=t[4].value%360,t[1]=t[4].value.toString(),t;if(j(t)){let e=t[4].value;switch(z(t[4].unit)){case"deg":break;case"rad":e=180*t[4].value/Math.PI;break;case"grad":e=.9*t[4].value;break;case"turn":e=360*t[4].value;break;default:return!1}return e%=360,[p.Number,e.toString(),t[2],t[3],{value:e,type:h.Number}]}return!1}o(zr,"normalizeHue");function hm(t,e,r){if(e===0){let n=zr(t);return n!==!1&&(j(t)&&r.syntaxFlags.add(y.HasDimensionValues),n)}if(D(t)){e===3?r.syntaxFlags.add(y.HasPercentageAlpha):r.syntaxFlags.add(y.HasPercentageValues);let n=A(t[4].value,1,0,100);return e===3&&(n=A(t[4].value,100,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){if(e!==3)return!1;let n=A(t[4].value,1,0,100);return e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(hm,"normalize_legacy_HSL_ChannelValues");function gm(t,e,r){if(X(t)&&z(t[4].value)==="none")return r.syntaxFlags.add(y.HasNoneKeywords),[p.Number,"none",t[2],t[3],{value:NaN,type:h.Number}];if(e===0){let n=zr(t);return n!==!1&&(j(t)&&r.syntaxFlags.add(y.HasDimensionValues),n)}if(D(t)){e===3?r.syntaxFlags.add(y.HasPercentageAlpha):r.syntaxFlags.add(y.HasPercentageValues);let n=t[4].value;return e===3?n=A(t[4].value,100,0,1):e===1&&(n=A(t[4].value,1,0,2147483647)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=t[4].value;return e===3?n=A(t[4].value,1,0,1):e===1&&(n=A(t[4].value,1,0,2147483647)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(gm,"normalize_modern_HSL_ChannelValues");function Pi(t,e,r,n){let a=[],s=[],i=[],c=[],l={colorNotation:r,channels:[0,0,0],alpha:1,syntaxFlags:new Set(n)},u=a;for(let M=0;M<t.value.length;M++){let k=t.value[M];if(!q(k)&&!J(k)){if(N(k)&&me(k.value)){if(u===a){u=s;continue}if(u===s){u=i;continue}if(u===i){u=c;continue}if(u===c)return!1}if(G(k)){if(u===c&&k.getName().toLowerCase()==="var"){l.syntaxFlags.add(y.HasVariableAlpha),u.push(k);continue}if(!Zr.has(k.getName().toLowerCase()))return!1;let[[C]]=Br([[k]],{censorIntoStandardRepresentableValues:!0,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!C||!N(C)||!W(C.value))return!1;Number.isNaN(C.value[4].value)&&(C.value[4].value=0),k=C}if(!N(k))return!1;u.push(k)}}if(u.length!==1||a.length!==1||s.length!==1||i.length!==1||!N(a[0])||!N(s[0])||!N(i[0]))return!1;let m=e(a[0].value,0,l);if(!m||!E(m))return!1;let f=e(s[0].value,1,l);if(!f||!E(f))return!1;let v=e(i[0].value,2,l);if(!v||!E(v))return!1;let _=[m,f,v];if(c.length===1)if(l.syntaxFlags.add(y.HasAlpha),N(c[0])){let M=e(c[0].value,3,l);if(!M||!E(M))return!1;_.push(M)}else l.alpha=c[0];return l.channels=[_[0][4].value,_[1][4].value,_[2][4].value],_.length===4&&(l.alpha=_[3][4].value),l}o(Pi,"threeChannelLegacySyntax");function yt(t,e,r,n,a){let s=[],i=[],c=[],l=[],u,m,f=!1,v={colorNotation:r,channels:[0,0,0],alpha:1,syntaxFlags:new Set(n)},_=s;for(let F=0;F<t.value.length;F++){let $=t.value[F];if(q($)||J($))for(;q(t.value[F+1])||J(t.value[F+1]);)F++;else if(_===s&&s.length&&(_=i),_===i&&i.length&&(_=c),N($)&&Gt($.value)&&$.value[4].value==="/"){if(_===l)return!1;_=l}else{if(G($)){if(_===l&&$.getName().toLowerCase()==="var"){v.syntaxFlags.add(y.HasVariableAlpha),_.push($);continue}if(!Zr.has($.getName().toLowerCase()))return!1;let[[te]]=Br([[$]],{censorIntoStandardRepresentableValues:!0,globals:m,precision:-1,toCanonicalUnits:!0,rawPercentages:!0});if(!te||!N(te)||!W(te.value))return!1;Number.isNaN(te.value[4].value)&&(te.value[4].value=0),$=te}if(_===s&&s.length===0&&N($)&&X($.value)&&$.value[4].value.toLowerCase()==="from"){if(f)return!1;for(;q(t.value[F+1])||J(t.value[F+1]);)F++;if(F++,$=t.value[F],f=a($),f===!1)return!1;f.syntaxFlags.has(y.Experimental)&&v.syntaxFlags.add(y.Experimental),v.syntaxFlags.add(y.RelativeColorSyntax),f.colorNotation!==r&&(f=gt(f,r)),u=Ei(f),m=Ci(u)}else{if(!N($))return!1;if(X($.value)&&u){let te=$.value[4].value.toLowerCase();if(u.has(te)){_.push(new x(u.get(te)));continue}}_.push($)}}}if(_.length!==1||s.length!==1||i.length!==1||c.length!==1||!N(s[0])||!N(i[0])||!N(c[0])||u&&!u.has("alpha"))return!1;let M=e(s[0].value,0,v);if(!M||!E(M))return!1;let k=e(i[0].value,1,v);if(!k||!E(k))return!1;let C=e(c[0].value,2,v);if(!C||!E(C))return!1;let P=[M,k,C];if(l.length===1)if(v.syntaxFlags.add(y.HasAlpha),N(l[0])){let F=e(l[0].value,3,v);if(!F||!E(F))return!1;P.push(F)}else v.alpha=l[0];else if(u&&u.has("alpha")){let F=e(u.get("alpha"),3,v);if(!F||!E(F))return!1;P.push(F)}return v.channels=[P[0][4].value,P[1][4].value,P[2][4].value],P.length===4&&(v.alpha=P[3][4].value),v}o(yt,"threeChannelSpaceSeparated");function ym(t,e){if(t.value.some(r=>N(r)&&me(r.value))){let r=vm(t);if(r!==!1)return r}{let r=bm(t,e);if(r!==!1)return r}return!1}o(ym,"hsl");function vm(t){return Pi(t,hm,d.HSL,[y.LegacyHSL])}o(vm,"hslCommaSeparated");function bm(t,e){return yt(t,gm,d.HSL,[],e)}o(bm,"hslSpaceSeparated");function wm(t,e,r){if(X(t)&&z(t[4].value)==="none")return r.syntaxFlags.add(y.HasNoneKeywords),[p.Number,"none",t[2],t[3],{value:NaN,type:h.Number}];if(e===0){let n=zr(t);return n!==!1&&(j(t)&&r.syntaxFlags.add(y.HasDimensionValues),n)}if(D(t)){e===3?r.syntaxFlags.add(y.HasPercentageAlpha):r.syntaxFlags.add(y.HasPercentageValues);let n=t[4].value;return e===3&&(n=A(t[4].value,100,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=t[4].value;return e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(wm,"normalize_HWB_ChannelValues");function _m(t,e,r){if(X(t)&&z(t[4].value)==="none")return r.syntaxFlags.add(y.HasNoneKeywords),[p.Number,"none",t[2],t[3],{value:NaN,type:h.Number}];if(D(t)){e!==3&&r.syntaxFlags.add(y.HasPercentageValues);let n=A(t[4].value,1,0,100);return e===1||e===2?n=A(t[4].value,.8,-2147483647,2147483647):e===3&&(n=A(t[4].value,100,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=A(t[4].value,1,0,100);return e===1||e===2?n=A(t[4].value,1,-2147483647,2147483647):e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(_m,"normalize_Lab_ChannelValues");function xm(t,e){return yt(t,_m,d.Lab,[],e)}o(xm,"lab");function km(t,e,r){if(X(t)&&z(t[4].value)==="none")return r.syntaxFlags.add(y.HasNoneKeywords),[p.Number,"none",t[2],t[3],{value:NaN,type:h.Number}];if(e===2){let n=zr(t);return n!==!1&&(j(t)&&r.syntaxFlags.add(y.HasDimensionValues),n)}if(D(t)){e!==3&&r.syntaxFlags.add(y.HasPercentageValues);let n=A(t[4].value,1,0,100);return e===1?n=A(t[4].value,100/150,0,2147483647):e===3&&(n=A(t[4].value,100,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=A(t[4].value,1,0,100);return e===1?n=A(t[4].value,1,0,2147483647):e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(km,"normalize_LCH_ChannelValues");function Nm(t,e){return yt(t,km,d.LCH,[],e)}o(Nm,"lch");var Ti=new Map;for(let[t,e]of Object.entries(hi))Ti.set(t,e);function Sm(t){let e=Ti.get(z(t));return!!e&&{colorNotation:d.RGB,channels:[e[0]/255,e[1]/255,e[2]/255],alpha:1,syntaxFlags:new Set([y.ColorKeyword,y.NamedColor])}}o(Sm,"namedColor");function Em(t,e,r){if(X(t)&&z(t[4].value)==="none")return r.syntaxFlags.add(y.HasNoneKeywords),[p.Number,"none",t[2],t[3],{value:NaN,type:h.Number}];if(D(t)){e!==3&&r.syntaxFlags.add(y.HasPercentageValues);let n=A(t[4].value,100,0,1);return e===1||e===2?n=A(t[4].value,250,-2147483647,2147483647):e===3&&(n=A(t[4].value,100,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=A(t[4].value,1,0,1);return e===1||e===2?n=A(t[4].value,1,-2147483647,2147483647):e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(Em,"normalize_OKLab_ChannelValues");function Cm(t,e){return yt(t,Em,d.OKLab,[],e)}o(Cm,"oklab");function Pm(t,e,r){if(X(t)&&z(t[4].value)==="none")return r.syntaxFlags.add(y.HasNoneKeywords),[p.Number,"none",t[2],t[3],{value:NaN,type:h.Number}];if(e===2){let n=zr(t);return n!==!1&&(j(t)&&r.syntaxFlags.add(y.HasDimensionValues),n)}if(D(t)){e!==3&&r.syntaxFlags.add(y.HasPercentageValues);let n=A(t[4].value,100,0,1);return e===1?n=A(t[4].value,250,0,2147483647):e===3&&(n=A(t[4].value,100,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=A(t[4].value,1,0,1);return e===1?n=A(t[4].value,1,0,2147483647):e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(Pm,"normalize_OKLCH_ChannelValues");function Tm(t,e){return yt(t,Pm,d.OKLCH,[],e)}o(Tm,"oklch");function Om(t,e,r){if(D(t)){e===3?r.syntaxFlags.add(y.HasPercentageAlpha):r.syntaxFlags.add(y.HasPercentageValues);let n=A(t[4].value,100,0,1);return[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=A(t[4].value,255,0,1);return e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(Om,"normalize_legacy_sRGB_ChannelValues");function Am(t,e,r){if(X(t)&&t[4].value.toLowerCase()==="none")return r.syntaxFlags.add(y.HasNoneKeywords),[p.Number,"none",t[2],t[3],{value:NaN,type:h.Number}];if(D(t)){e!==3&&r.syntaxFlags.add(y.HasPercentageValues);let n=A(t[4].value,100,-2147483647,2147483647);return e===3&&(n=A(t[4].value,100,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}if(E(t)){e!==3&&r.syntaxFlags.add(y.HasNumberValues);let n=A(t[4].value,255,-2147483647,2147483647);return e===3&&(n=A(t[4].value,1,0,1)),[p.Number,n.toString(),t[2],t[3],{value:n,type:h.Number}]}return!1}o(Am,"normalize_modern_sRGB_ChannelValues");function Im(t,e){if(t.value.some(r=>N(r)&&me(r.value))){let r=Rm(t);if(r!==!1)return(!r.syntaxFlags.has(y.HasNumberValues)||!r.syntaxFlags.has(y.HasPercentageValues))&&r}else{let r=Mm(t,e);if(r!==!1)return r}return!1}o(Im,"rgb");function Rm(t){return Pi(t,Om,d.RGB,[y.LegacyRGB])}o(Rm,"rgbCommaSeparated");function Mm(t,e){return yt(t,Am,d.RGB,[],e)}o(Mm,"rgbSpaceSeparated");function Oi(t){let e=Lr(t);if(Ya(e))return Tn(e);let r=t;return r=Cn(r),r[0]<1e-6&&(r=[0,0,0]),r[0]>.999999&&(r=[1,0,0]),Kt(Xa(r,Fm,Lm))}o(Oi,"XYZ_D50_to_sRGB_Gamut");function Fm(t){return t=Nn(t),t=Mr(t),Xt(t)}o(Fm,"oklch_to_lin_srgb");function Lm(t){return t=qt(t),t=Fr(t),Sn(t)}o(Lm,"lin_srgb_to_oklch");function Vm(t,e){let r=!1,n=!1;for(let c=0;c<t.value.length;c++){let l=t.value[c];if(!q(l)&&!J(l)&&(r||(r=e(l),!r))){if(!r||n||!N(l)||!X(l.value)||z(l.value[4].value)!=="max")return!1;n=!0}}if(!r||!n)return!1;r.channels=ae(r.channels),r.channels=Oi(Qt(r).channels),r.colorNotation=d.sRGB;let a={colorNotation:d.sRGB,channels:[0,0,0],alpha:1,syntaxFlags:new Set([y.ContrastColor,y.Experimental])},s=Ka(r.channels,[1,1,1]),i=Ka(r.channels,[0,0,0]);return a.channels=s>i?[1,1,1]:[0,0,0],a}o(Vm,"contrastColor");function $m(t){let e=Pn(t);if(Ya(e))return Tn(e);let r=t;return r=Cn(r),r[0]<1e-6&&(r=[0,0,0]),r[0]>.999999&&(r=[1,0,0]),Wa(Xa(r,Dm,jm))}o($m,"XYZ_D50_to_P3_Gamut");function Dm(t){return t=Nn(t),t=Mr(t),za(t)}o(Dm,"oklch_to_lin_p3");function jm(t){return t=Ga(t),t=Fr(t),Sn(t)}o(jm,"lin_p3_to_oklch");function oe(t,e=7){t=+t,e=+e;let r=(Math.floor(t)+"").length;if(e>r)return+t.toFixed(e-r);{let n=10**(r-e);return Math.round(t/n)*n}}o(oe,"toPrecision");function Um(t,e,r,n){let a=[p.CloseParen,")",-1,-1,void 0];if(typeof t.alpha=="number"){let s=Math.min(1,Math.max(0,oe(Number.isNaN(t.alpha)?0:t.alpha)));return oe(s,4)===1?new Y(e,a,n):new Y(e,a,[...n,new H([r]),new x([p.Delim,"/",-1,-1,{value:"/"}]),new H([r]),new x([p.Number,oe(s,4).toString(),-1,-1,{value:t.alpha,type:h.Integer}])])}return new Y(e,a,[...n,new H([r]),new x([p.Delim,"/",-1,-1,{value:"/"}]),new H([r]),t.alpha])}o(Um,"serializeWithAlpha");function tr(t,e=!0){t.channels=ns(t.channels,t.colorNotation);let r=t.channels.map(l=>Number.isNaN(l)?0:l);e?r=$m(Qt(t).channels):t.colorNotation!==d.Display_P3&&(r=Pn(Qt(t).channels));let n=e?Math.min(1,Math.max(0,oe(r[0],6))):oe(r[0],6),a=e?Math.min(1,Math.max(0,oe(r[1],6))):oe(r[1],6),s=e?Math.min(1,Math.max(0,oe(r[2],6))):oe(r[2],6),i=[p.Function,"color(",-1,-1,{value:"color"}],c=[p.Whitespace," ",-1,-1,void 0];return Um(t,i,c,[new x([p.Ident,"display-p3",-1,-1,{value:"display-p3"}]),new H([c]),new x([p.Number,n.toString(),-1,-1,{value:r[0],type:h.Number}]),new H([c]),new x([p.Number,a.toString(),-1,-1,{value:r[1],type:h.Number}]),new H([c]),new x([p.Number,s.toString(),-1,-1,{value:r[2],type:h.Number}])])}o(tr,"serializeP3");function Ge(t,e=!0){t.channels=ns(t.channels,t.colorNotation);let r=t.channels.map(m=>Number.isNaN(m)?0:m);r=e?Oi(Qt(t).channels):Lr(Qt(t).channels);let n=Math.min(255,Math.max(0,Math.round(255*oe(r[0])))),a=Math.min(255,Math.max(0,Math.round(255*oe(r[1])))),s=Math.min(255,Math.max(0,Math.round(255*oe(r[2])))),i=[p.CloseParen,")",-1,-1,void 0],c=[p.Whitespace," ",-1,-1,void 0],l=[p.Comma,",",-1,-1,void 0],u=[new x([p.Number,n.toString(),-1,-1,{value:Math.min(255,255*Math.max(0,r[0])),type:h.Integer}]),new x(l),new H([c]),new x([p.Number,a.toString(),-1,-1,{value:Math.min(255,255*Math.max(0,r[1])),type:h.Integer}]),new x(l),new H([c]),new x([p.Number,s.toString(),-1,-1,{value:Math.min(255,255*Math.max(0,r[2])),type:h.Integer}])];if(typeof t.alpha=="number"){let m=Math.min(1,Math.max(0,oe(Number.isNaN(t.alpha)?0:t.alpha)));return oe(m,4)===1?new Y([p.Function,"rgb(",-1,-1,{value:"rgb"}],i,u):new Y([p.Function,"rgba(",-1,-1,{value:"rgba"}],i,[...u,new x(l),new H([c]),new x([p.Number,oe(m,4).toString(),-1,-1,{value:t.alpha,type:h.Number}])])}return new Y([p.Function,"rgba(",-1,-1,{value:"rgba"}],i,[...u,new x(l),new H([c]),t.alpha])}o(Ge,"serializeRGB");function Q(t){if(G(t))switch(z(t.getName())){case"rgb":case"rgba":return Im(t,Q);case"hsl":case"hsla":return ym(t,Q);case"hwb":return e=Q,yt(t,wm,d.HWB,[],e);case"lab":return xm(t,Q);case"lch":return Nm(t,Q);case"oklab":return Cm(t,Q);case"oklch":return Tm(t,Q);case"color":return cm(t,Q);case"color-mix":return dm(t,Q);case"contrast-color":return Vm(t,Q)}var e;if(N(t)){if(Lo(t.value))return fm(t.value);if(X(t.value)){let r=Sm(t.value[4].value);return r!==!1?r:z(t.value[4].value)==="transparent"&&{colorNotation:d.RGB,channels:[0,0,0],alpha:0,syntaxFlags:new Set([y.ColorKeyword])}}}return!1}o(Q,"color");function rr(t){let e=t.parent;if(!e)return!1;let r=t.prop.toLowerCase(),n=e.index(t);for(let a=0;a<n;a++){let s=e.nodes[a];if(s.type==="decl"&&s.prop.toLowerCase()===r)return!0}return!1}o(rr,"hasFallback");function nr(t,e){let r=t.parent;for(;r;)if(r.type==="atrule"&&r.name.toLowerCase()==="supports"){if(e.test(r.params))return!0;r=r.parent}else r=r.parent;return!1}o(nr,"hasSupportsAtRuleAncestor");var Ai=/\bcolor-mix\(/i,Ii=/^color-mix$/i,as=o(t=>({postcssPlugin:"postcss-color-mix-function",Declaration(e){let r=e.value;if(!Ai.test(r)||rr(e)||nr(e,Ai))return;let n=dt({css:r}),a=Ce(Le(n),c=>{if(!G(c)||!Ii.test(c.getName()))return;let l=Q(c);return l&&!l.syntaxFlags.has(y.Experimental)?Ge(l):void 0}),s=We(a);if(s===r)return;let i=s;t?.subFeatures.displayP3&&(i=We(Ce(Le(n),c=>{if(!G(c)||!Ii.test(c.getName()))return;let l=Q(c);return l&&!l.syntaxFlags.has(y.Experimental)?er(l)?Ge(l):tr(l):void 0}))),e.cloneBefore({value:s}),t?.subFeatures.displayP3&&i!==s&&e.cloneBefore({value:i}),t?.preserve||e.remove()}}),"basePlugin");as.postcss=!0;var ss=o(t=>{let e=Object.assign({enableProgressiveCustomProperties:!0,preserve:!1,subFeatures:{displayP3:!0}},t);return e.subFeatures=Object.assign({displayP3:!0},e.subFeatures),e.enableProgressiveCustomProperties&&(e.preserve||e.subFeatures.displayP3)?{postcssPlugin:"postcss-color-mix-function",plugins:[ct(),as(e)]}:as(e)},"postcssPlugin");ss.postcss=!0;var Ri=/\b(?:oklab|oklch)\(/i,Mi=/^(?:oklab|oklch)$/i,os=o(t=>({postcssPlugin:"postcss-oklab-function",Declaration(e){let r=e.value;if(!Ri.test(r)||rr(e)||nr(e,Ri))return;let n=dt({css:r}),a=Ce(Le(n),c=>{if(!G(c)||!Mi.test(c.getName()))return;let l=Q(c);return l&&!(l.syntaxFlags.has(y.Experimental)||l.syntaxFlags.has(y.HasNoneKeywords)||l.syntaxFlags.has(y.RelativeColorSyntax))?Ge(l):void 0}),s=We(a);if(s===r)return;let i=s;t?.subFeatures.displayP3&&(i=We(Ce(Le(n),c=>{if(!G(c)||!Mi.test(c.getName()))return;let l=Q(c);return l&&!(l.syntaxFlags.has(y.Experimental)||l.syntaxFlags.has(y.HasNoneKeywords)||l.syntaxFlags.has(y.RelativeColorSyntax))?er(l)?Ge(l):tr(l):void 0}))),e.cloneBefore({value:s}),t?.subFeatures.displayP3&&i!==s&&e.cloneBefore({value:i}),t?.preserve||e.remove()}}),"basePlugin");os.postcss=!0;var is=o(t=>{let e=Object.assign({enableProgressiveCustomProperties:!0,preserve:!1,subFeatures:{displayP3:!0}},t);return e.subFeatures=Object.assign({displayP3:!0},e.subFeatures),e.enableProgressiveCustomProperties&&(e.preserve||e.subFeatures.displayP3)?{postcssPlugin:"postcss-oklab-function",plugins:[ct(),os(e)]}:os(e)},"postcssPlugin");is.postcss=!0;var Bm=/\b(?:rgb|rgba|hsl|hsla|hwb|lab|lch|oklch|oklab|color)\(/i,Zm=/\b(?:rgb|rgba|hsl|hsla|hwb|lab|lch|oklch|oklab|color)\(\s*from/i,Fi=/^(?:rgb|rgba|hsl|hsla|hwb|lab|lch|oklch|oklab|color)$/i,Hm=/from/i,cs=o(t=>({postcssPlugin:"postcss-relative-color-syntax",Declaration(e){let r=e.value;if(!Bm.test(r)||!Hm.test(r)||rr(e)||nr(e,Zm))return;let n=dt({css:r}),a=Ce(Le(n),c=>{if(!G(c)||!Fi.test(c.getName()))return;let l=Q(c);return l&&!l.syntaxFlags.has(y.Experimental)&&!l.syntaxFlags.has(y.HasNoneKeywords)&&l.syntaxFlags.has(y.RelativeColorSyntax)?Ge(l):void 0}),s=We(a);if(s===r)return;let i=s;t?.subFeatures.displayP3&&(i=We(Ce(Le(n),c=>{if(!G(c)||!Fi.test(c.getName()))return;let l=Q(c);return l&&!l.syntaxFlags.has(y.Experimental)&&!l.syntaxFlags.has(y.HasNoneKeywords)&&l.syntaxFlags.has(y.RelativeColorSyntax)?er(l)?Ge(l):tr(l):void 0}))),e.cloneBefore({value:s}),t?.subFeatures.displayP3&&i!==s&&e.cloneBefore({value:i}),t?.preserve||e.remove()}}),"basePlugin");cs.postcss=!0;var ls=o(t=>{let e=Object.assign({enableProgressiveCustomProperties:!0,preserve:!1,subFeatures:{displayP3:!0}},t);return e.subFeatures=Object.assign({displayP3:!0},e.subFeatures),e.enableProgressiveCustomProperties&&(e.preserve||e.subFeatures.displayP3)?{postcssPlugin:"postcss-relative-color-syntax",plugins:[ct(),cs(e)]}:cs(e)},"postcssPlugin");ls.postcss=!0;import Wm from"postcss";import Gm from"postcss-custom-media";import Ym from"postcss-custom-selectors";import Xm from"postcss-mixins";var ar=zm(["a","cssJs"]),Li=o(async()=>{if(Dt.length===0)return["cssJs","SKIP",`skipping index.ts and index.css, none of ${Dt} matched by src/**/index.{ts,js,css} , {ignore: '**/_*/**'} exist`];let[[t,e],r]=await Promise.all([(async()=>{ar.debug`esbuild index.js bin.js index.css ${Dt}`;let i=await ds.context($t(Dt,"dist/final")),c=await i.rebuild();return ar.debug`esbuild built index.js bin.js index.css ${Dt}`,[i,c]})(),(async()=>{ar.debug`*.test.ts ${br}`;let i=await ds.context($t(br,"dist/final")),c=await i.rebuild();return await i.dispose(),ar.debug`esbuild *.test.ts ${br}`,c})()]),[n,a,s]=await Promise.all([await ee(o(async function(c){let l=ps.join("dist","final",ps.relative("src",c));ar.debug`postcss ${l}`;let{css:u}=await Wm([Gm(),Ym(),No(),ss({preserve:!0}),ls({preserve:!0}),is({preserve:!0}),Xm()]).process(await us.readFileU(l),{from:l});return ar.debug`css ${c} finished at ${l}`,["cssEach","SUCCESS",await us.outputFile(l,u)]},"cssEach"),cn),t.dispose(),await us.outputFile(ps.join("dist","temp","esbuild","cssJs.meta.json"),JSON.stringify(e.metafile,null,2))]);return["cssJs","SUCCESS",[["testJsRes","SUCCESS",JSON.stringify(r.metafile,null,2).slice(0,256)],["postcssRes","SUCCESS",n],["esbuildMetaPath","SUCCESS",s]]]},"default");import{getLogger as Lf}from"@logtape/logtape";import{fs as Ss,path as Zn}from"@monochromatic-dev/module-fs-path";import{getLogger as Km}from"@logtape/logtape";import{fs as Ln,path as Qe}from"@monochromatic-dev/module-fs-path";var Vn=Km(["a","cp"]),qm=o(async()=>(Vn.debug`cp *.mdx && cp *.toml ${de}`,["cpMdxToml","SUCCESS",await ee(async t=>await Promise.all([await Ln.cpFile(t,Qe.join("dist","temp","gen-html",Qe.relative("src",t))),o(async function(){let r=`${t.slice(0,-4)}.toml`;return await Ln.cpFile(r,Qe.join("dist","temp","gen-html",Qe.relative("src",r)))},"cpToml")()]),de)]),"cpMdxToml"),Jm=o(async()=>(Vn.debug`cp index.vue ${_r}`,["cpIndexVue","SUCCESS",await ee(async t=>await Ln.cpFile(t,Qe.join("dist","temp","gen-html",Qe.relative("src",t))),_r)]),"cpIndexVue"),Vi=o(async()=>(Vn.debug`cp src`,["cpSrc","SUCCESS",await Promise.all([qm(),Jm()])]),"cpSrc"),$i=o(async()=>(Vn.debug`cp others`,["cpOthers","SUCCESS",await ee(o(async function(e){return Ln.cpFile(e,Qe.join("dist","final",Qe.relative("src",e)))},"cpOther"),ln)]),"cpOthers");import{getLogger as Nf}from"@logtape/logtape";import{fs as et,path as he}from"@monochromatic-dev/module-fs-path";var Qm=Object.defineProperty,ms=o((t,e)=>Qm(t,"name",{value:e,configurable:!0}),"__name"),ef=ms(function(t){return t.length===2&&/^[a-z]+$/.test(t)},"isShortLang"),tf=ms(function(t){return t.length===5&&/^[a-z]{2}-[A-Z]{2}$/.test(t)},"isFullLang");function fs(t){return ef(t)||tf(t)}o(fs,"isLang");ms(fs,"isLang");function $n(t){return t.map(e=>e.length===0||e.match(/[^A-Za-z0-9_-]/)?JSON.stringify(e):e).join(".")}o($n,"joinKeys");var hs=class{static{o(this,"Dumper")}maxPad=0;srcObject;output=[];#a=new Map;constructor(e){this.srcObject=e}dump(e={}){return this.output=this.#t(this.srcObject),this.output=this.#g(e),this.output}#t(e,r=[]){let n=[],a=Object.keys(e),s=[],i=[];for(let l of a)this.#l(e[l])?s.push(l):i.push(l);let c=s.concat(i);for(let l of c){let u=e[l];if(u instanceof Date)n.push(this.#h([l],u));else if(typeof u=="string"||u instanceof RegExp)n.push(this.#p([l],u.toString()));else if(typeof u=="number")n.push(this.#m([l],u));else if(typeof u=="boolean")n.push(this.#f([l],u));else if(u instanceof Array){let m=this.#s(u);if(m==="ONLY_PRIMITIVE")n.push(this.#c([l],u));else if(m==="ONLY_OBJECT_EXCLUDING_ARRAY")for(let f=0;f<u.length;f++)n.push(""),n.push(this.#u([...r,l])),n.push(...this.#t(u[f],[...r,l]));else{let f=u.map(v=>this.#r(v)).join(",");n.push(`${this.#n([l])}[${f}]`)}}else if(typeof u=="object"&&(n.push(""),n.push(this.#i([...r,l])),u)){let m=u;n.push(...this.#t(m,[...r,l]))}}return n.push(""),n}#e(e){return e instanceof Date||e instanceof RegExp||["string","number","boolean"].includes(typeof e)}#s(e){if(this.#a.has(e))return this.#a.get(e);let r=this.#o(e);return this.#a.set(e,r),r}#o(e){if(!e.length)return"ONLY_PRIMITIVE";let r=this.#e(e[0]);if(e[0]instanceof Array)return"MIXED";for(let n=1;n<e.length;n++)if(r!==this.#e(e[n])||e[n]instanceof Array)return"MIXED";return r?"ONLY_PRIMITIVE":"ONLY_OBJECT_EXCLUDING_ARRAY"}#r(e){if(e instanceof Date)return`"${this.#d(e)}"`;if(typeof e=="string"||e instanceof RegExp)return JSON.stringify(e.toString());if(typeof e=="number")return e;if(typeof e=="boolean")return e.toString();if(e instanceof Array)return`[${e.map(n=>this.#r(n)).join(",")}]`;if(typeof e=="object"){if(!e)throw new Error("should never reach");return`{${Object.keys(e).map(n=>`${$n([n])} = ${this.#r(e[n])}`).join(",")}}`}throw new Error("should never reach")}#l(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e instanceof RegExp||e instanceof Date||e instanceof Array&&this.#s(e)!=="ONLY_OBJECT_EXCLUDING_ARRAY"}#i(e){return`[${$n(e)}]`}#u(e){return`[[${$n(e)}]]`}#n(e){let r=$n(e);return r.length>this.maxPad&&(this.maxPad=r.length),`${r} = `}#c(e,r){return`${this.#n(e)}${JSON.stringify(r)}`}#p(e,r){return`${this.#n(e)}${JSON.stringify(r)}`}#m(e,r){switch(r){case 1/0:return`${this.#n(e)}inf`;case-1/0:return`${this.#n(e)}-inf`;default:return`${this.#n(e)}${r}`}}#f(e,r){return`${this.#n(e)}${r}`}#d(e){function r(m,f=2){return m.padStart(f,"0")}o(r,"dtPad");let n=r((e.getUTCMonth()+1).toString()),a=r(e.getUTCDate().toString()),s=r(e.getUTCHours().toString()),i=r(e.getUTCMinutes().toString()),c=r(e.getUTCSeconds().toString()),l=r(e.getUTCMilliseconds().toString(),3);return`${e.getUTCFullYear()}-${n}-${a}T${s}:${i}:${c}.${l}`}#h(e,r){return`${this.#n(e)}${this.#d(r)}`}#g(e={}){let{keyAlignment:r=!1}=e,n=/^(\".*\"|[^=]*)\s=/,a=[];for(let i=0;i<this.output.length;i++){let c=this.output[i];if(c[0]==="["&&c[1]!=="["){if(this.output[i+1]===""&&this.output[i+2]?.slice(0,c.length)===c.slice(0,-1)+"."){i+=1;continue}a.push(c)}else if(r){let l=n.exec(c);l&&l[1]?a.push(c.replace(l[1],l[1].padEnd(this.maxPad))):a.push(c)}else a.push(c)}let s=[];for(let i=0;i<a.length;i++){let c=a[i];c===""&&a[i+1]===""||s.push(c)}return s}};function Di(t,e){return new hs(t).dump(e).join(`
`)}o(Di,"stringify");function ji(t,e){let r=0;for(let n of t)e(n)&&(t[r]=n,r+=1);return t.splice(r),t}o(ji,"filterInPlace");function Dn(t,e,r){return zi(t,e,new Set,r)}o(Dn,"deepMerge");function zi(t,e,r,n){let a={},s=new Set([...Hi(t),...Hi(e)]);for(let i of s){if(i==="__proto__")continue;let c=t[i];if(!Object.hasOwn(e,i)){a[i]=c;continue}let l=e[i];if(Zi(c)&&Zi(l)&&!r.has(c)&&!r.has(l)){r.add(c),r.add(l),a[i]=rf(c,l,r,n);continue}a[i]=l}return a}o(zi,"deepMergeInternal");function rf(t,e,r,n={arrays:"merge",sets:"merge",maps:"merge"}){if(Ui(t)&&Ui(e))return zi(t,e,r,n);if(Bi(t)&&Bi(e)){if(Array.isArray(t)&&Array.isArray(e))return n.arrays==="merge"?t.concat(e):e;if(t instanceof Map&&e instanceof Map)return n.maps==="merge"?new Map([...t,...e]):e;if(t instanceof Set&&e instanceof Set)return n.sets==="merge"?new Set([...t,...e]):e}return e}o(rf,"mergeObjects");function Ui(t){return Object.getPrototypeOf(t)===Object.prototype}o(Ui,"isMergeable");function Bi(t){return typeof t[Symbol.iterator]=="function"}o(Bi,"isIterable");function Zi(t){return t!==null&&typeof t=="object"}o(Zi,"isNonNullObject");function Hi(t){let e=Object.getOwnPropertySymbols(t);return ji(e,r=>Object.prototype.propertyIsEnumerable.call(t,r)),e.push(...Object.keys(t)),e}o(Hi,"getKeys");var gs=class{static{o(this,"Scanner")}#a=/[ \t]/;#t=0;#e;constructor(e){this.#e=e}char(e=0){return this.#e[this.#t+e]??""}slice(e,r){return this.#e.slice(this.#t+e,this.#t+r)}next(e){if(typeof e=="number")for(let r=0;r<e;r++)this.#t++;else this.#t++}nextUntilChar(e={comment:!0}){if(e.inline)for(;this.#a.test(this.char())&&!this.eof();)this.next();else for(;!this.eof();){let r=this.char();if(this.#a.test(r)||this.isCurrentCharEOL())this.next();else if(e.comment&&this.char()==="#")for(;!this.isCurrentCharEOL()&&!this.eof();)this.next();else break}if(!this.isCurrentCharEOL()&&/\s/.test(this.char())){let r="\\u"+this.char().charCodeAt(0).toString(16),n=this.#t;throw new SyntaxError(`Cannot parse the TOML: It contains invalid whitespace at position '${n}': \`${r}\``)}}eof(){return this.position()>=this.#e.length}position(){return this.#t}isCurrentCharEOL(){return this.char()===`
`||this.slice(0,2)===`\r
`}};function V(t){return{ok:!0,body:t}}o(V,"success");function Z(){return{ok:!1}}o(Z,"failure");function ys(t,e={},r){let n={};if(t.length===0)return r;r||(r=e);let a=t[t.length-1];return typeof a=="string"&&(n[a]=r),ys(t.slice(0,-1),e,n)}o(ys,"unflat");function jn(t,e){if(e.key.length===0||e.key[0]==null)throw new Error("Cannot parse the TOML: key length is not a positive number");let r=t[e.key[0]];if(typeof r>"u")Object.assign(t,ys(e.key,e.type==="Table"?e.value:[e.value]));else if(Array.isArray(r))if(e.type==="TableArray"&&e.key.length===1)r.push(e.value);else{let n=r[r.length-1];jn(n,{type:e.type,key:e.key.slice(1),value:e.value})}else if(typeof r=="object"&&r!==null)jn(r,{type:e.type,key:e.key.slice(1),value:e.value});else throw new Error("Unexpected assign")}o(jn,"deepAssignWithTable");function vs(t){return e=>{for(let r of t){let n=r(e);if(n.ok)return n}return Z()}}o(vs,"or");function Yi(t,e){let r=Un(e);return n=>{let a=t(n);if(!a.ok)return Z();let s=[a.body];for(;!n.eof()&&r(n).ok;){let i=t(n);if(!i.ok)throw new SyntaxError(`Invalid token after "${e}"`);s.push(i.body)}return V(s)}}o(Yi,"join");function nf(t,e,r){let n=Un(e);return a=>{let s=t(a);if(!s.ok)return Z();if(!n(a).ok)throw new SyntaxError(`key/value pair doesn't have "${e}"`);let c=r(a);if(!c.ok)throw new SyntaxError("Value of key/value pair is invalid data format");return V(ys(s.body,c.body))}}o(nf,"kv");function af(t){return e=>{let r=t(e);if(!r.ok)return Z();let n={};for(let a of r.body)typeof n=="object"&&n!==null&&(n=Dn(n,a));return V(n)}}o(af,"merge");function Xi(t){return e=>{let r=[];for(;!e.eof();){let n=t(e);if(!n.ok)break;r.push(n.body),e.nextUntilChar()}return r.length===0?Z():V(r)}}o(Xi,"repeat");function bs(t,e,r){let n=Un(t),a=Un(r);return s=>{if(!n(s).ok)return Z();let i=e(s);if(!i.ok)throw new SyntaxError(`Invalid token after "${t}"`);if(!a(s).ok)throw new SyntaxError(`Not closed by "${r}" after started with "${t}"`);return V(i.body)}}o(bs,"surround");function Un(t){return e=>(e.nextUntilChar({inline:!0}),e.slice(0,t.length)!==t?Z():(e.next(t.length),e.nextUntilChar({inline:!0}),V(void 0)))}o(Un,"character");var Wi=/[A-Za-z0-9_-]/,Gi=/[0-9_\.e+\-]/i,sf=/[ \t\r\n#,}\]]/;function of(t){if(t.nextUntilChar({inline:!0}),!t.char()||!Wi.test(t.char()))return Z();let e=[];for(;t.char()&&Wi.test(t.char());)e.push(t.char()),t.next();let r=e.join("");return V(r)}o(of,"bareKey");function Ki(t){if(t.char()!=="\\")return Z();switch(t.next(),t.char()){case"b":return t.next(),V("\b");case"t":return t.next(),V("	");case"n":return t.next(),V(`
`);case"f":return t.next(),V("\f");case"r":return t.next(),V("\r");case"u":case"U":{let e=t.char()==="u"?4:6,r=parseInt("0x"+t.slice(1,1+e),16),n=String.fromCodePoint(r);return t.next(e+1),V(n)}case'"':return t.next(),V('"');case"\\":return t.next(),V("\\");default:throw new SyntaxError(`Invalid escape sequence: \\${t.char()}`)}}o(Ki,"escapeSequence");function qi(t){if(t.nextUntilChar({inline:!0}),t.char()!=='"')return Z();t.next();let e=[];for(;t.char()!=='"'&&!t.eof();){if(t.char()===`
`)throw new SyntaxError("Single-line string cannot contain EOL");let r=Ki(t);r.ok?e.push(r.body):(e.push(t.char()),t.next())}if(t.eof())throw new SyntaxError(`Single-line string is not closed:
${e.join("")}`);return t.next(),V(e.join(""))}o(qi,"basicString");function Ji(t){if(t.nextUntilChar({inline:!0}),t.char()!=="'")return Z();t.next();let e=[];for(;t.char()!=="'"&&!t.eof();){if(t.char()===`
`)throw new SyntaxError("Single-line string cannot contain EOL");e.push(t.char()),t.next()}if(t.eof())throw new SyntaxError(`Single-line string is not closed:
${e.join("")}`);return t.next(),V(e.join(""))}o(Ji,"literalString");function cf(t){if(t.nextUntilChar({inline:!0}),t.slice(0,3)!=='"""')return Z();t.next(3),t.char()===`
`?t.next():t.slice(0,2)===`\r
`&&t.next(2);let e=[];for(;t.slice(0,3)!=='"""'&&!t.eof();){if(t.slice(0,2)===`\\
`){t.next(),t.nextUntilChar({comment:!1});continue}else if(t.slice(0,3)===`\\\r
`){t.next(),t.nextUntilChar({comment:!1});continue}let r=Ki(t);r.ok?e.push(r.body):(e.push(t.char()),t.next())}if(t.eof())throw new SyntaxError(`Multi-line string is not closed:
${e.join("")}`);return t.char(3)==='"'&&(e.push('"'),t.next()),t.next(3),V(e.join(""))}o(cf,"multilineBasicString");function lf(t){if(t.nextUntilChar({inline:!0}),t.slice(0,3)!=="'''")return Z();t.next(3),t.char()===`
`?t.next():t.slice(0,2)===`\r
`&&t.next(2);let e=[];for(;t.slice(0,3)!=="'''"&&!t.eof();)e.push(t.char()),t.next();if(t.eof())throw new SyntaxError(`Multi-line string is not closed:
${e.join("")}`);return t.char(3)==="'"&&(e.push("'"),t.next()),t.next(3),V(e.join(""))}o(lf,"multilineLiteralString");var uf=[["true",!0],["false",!1],["inf",1/0],["+inf",1/0],["-inf",-1/0],["nan",NaN],["+nan",NaN],["-nan",NaN]];function pf(t){t.nextUntilChar({inline:!0});let e=uf.find(([a])=>t.slice(0,a.length)===a);if(!e)return Z();let[r,n]=e;return t.next(r.length),V(n)}o(pf,"symbols");var ws=Yi(vs([of,qi,Ji]),".");function df(t){t.nextUntilChar({inline:!0});let e=t.slice(0,2);if(e.length===2&&/0(?:x|o|b)/i.test(e)){t.next(2);let a=[e];for(;/[0-9a-f_]/i.test(t.char())&&!t.eof();)a.push(t.char()),t.next();return a.length===1?Z():V(a.join(""))}let r=[];for(/[+-]/.test(t.char())&&(r.push(t.char()),t.next());/[0-9_]/.test(t.char())&&!t.eof();)r.push(t.char()),t.next();if(r.length===0||r.length===1&&/[+-]/.test(r[0]))return Z();let n=parseInt(r.filter(a=>a!=="_").join(""));return V(n)}o(df,"integer");function mf(t){t.nextUntilChar({inline:!0});let e=0;for(;t.char(e)&&!sf.test(t.char(e));){if(!Gi.test(t.char(e)))return Z();e++}let r=[];for(/[+-]/.test(t.char())&&(r.push(t.char()),t.next());Gi.test(t.char())&&!t.eof();)r.push(t.char()),t.next();if(r.length===0)return Z();let n=parseFloat(r.filter(a=>a!=="_").join(""));return isNaN(n)?Z():V(n)}o(mf,"float");function ff(t){t.nextUntilChar({inline:!0});let e=t.slice(0,10);if(!/^\d{4}-\d{2}-\d{2}/.test(e))return Z();t.next(10);let r=[];for(;/[ 0-9TZ.:-]/.test(t.char())&&!t.eof();)r.push(t.char()),t.next();e+=r.join("");let n=new Date(e.trim());if(isNaN(n.getTime()))throw new SyntaxError(`Invalid date string "${e}"`);return V(n)}o(ff,"dateTime");function hf(t){t.nextUntilChar({inline:!0});let e=t.slice(0,8);if(!/^(\d{2}):(\d{2}):(\d{2})/.test(e))return Z();t.next(8);let r=[];if(t.char()!==".")return V(e);for(r.push(t.char()),t.next();/[0-9]/.test(t.char())&&!t.eof();)r.push(t.char()),t.next();return e+=r.join(""),V(e)}o(hf,"localTime");function gf(t){if(t.nextUntilChar({inline:!0}),t.char()!=="[")return Z();t.next();let e=[];for(;!t.eof();){t.nextUntilChar();let r=Qi(t);if(!r.ok||(e.push(r.body),t.nextUntilChar({inline:!0}),t.char()!==","))break;t.next()}if(t.nextUntilChar(),t.char()!=="]")throw new SyntaxError("Array is not closed");return t.next(),V(e)}o(gf,"arrayValue");function yf(t){if(t.nextUntilChar(),t.char(1)==="}")return t.next(2),V({});let e=bs("{",Yi(ec,","),"}")(t);if(!e.ok)return Z();let r={};for(let n of e.body)r=Dn(r,n);return V(r)}o(yf,"inlineTable");var Qi=vs([cf,lf,qi,Ji,pf,ff,hf,mf,df,gf,yf]),ec=nf(ws,"=",Qi);function _s(t){t.nextUntilChar();let e=af(Xi(ec))(t);return e.ok?V({type:"Block",value:e.body}):Z()}o(_s,"block");var vf=bs("[",ws,"]");function bf(t){t.nextUntilChar();let e=vf(t);if(!e.ok)return Z();t.nextUntilChar();let r=_s(t);return V({type:"Table",key:e.body,value:r.ok?r.body.value:{}})}o(bf,"table");var wf=bs("[[",ws,"]]");function _f(t){t.nextUntilChar();let e=wf(t);if(!e.ok)return Z();t.nextUntilChar();let r=_s(t);return V({type:"TableArray",key:e.body,value:r.ok?r.body.value:{}})}o(_f,"tableArray");function tc(t){let e=Xi(vs([_s,_f,bf]))(t);if(!e.ok)return Z();let r={};for(let n of e.body)switch(n.type){case"Block":{r=Dn(r,n.value);break}case"Table":{jn(r,n);break}case"TableArray":{jn(r,n);break}}return V(r)}o(tc,"toml");function rc(t){return e=>{let r=new gs(e),n=null,a=null;try{n=t(r)}catch(s){a=s instanceof Error?s:new Error("Invalid error type caught")}if(a||!n||!n.ok||!r.eof()){let s=r.position(),i=e.slice(0,s),c=i.split(`
`),l=c.length,u=(()=>{let f=i.length;for(let v of c){if(f<=v.length)break;f-=v.length+1}return f})(),m=`Parse error on line ${l}, column ${u}: ${a?a.message:`Unexpected character: "${r.char()}"`}`;throw new SyntaxError(m)}return n.body}}o(rc,"parserFactory");function nc(t){return rc(tc)(t)}o(nc,"parse");import{getLogger as xf}from"@logtape/logtape";import ac,{js as sc}from"@monochromatic-dev/module-child";import{fs as sw,path as ow}from"@monochromatic-dev/module-fs-path";import lw from"sharp";import{optimize as pw}from"svgo";var oc=xf(["a","image"]);var ic=["jpeg","jp2","jxl","png","webp","avif","tiff"];var kf=[32,180,192,512];var cc=o(async(t,e="en",r=kf)=>["genPngFromSvg","SUCCESS",await Promise.all([o(async function(){oc.debug`gen png for own size`;let{stdoe:a}=await ac(`rsvg-convert ${[`--output=${t.slice(0,-4)}.png`,sc(t)].join(" ")}`);return["genPngForOwnSize","SUCCESS",["gen png for own size",a]]},"genPngForOwnSize")(),o(async function(){return await ee(o(async function(s){oc.debug`gen png for output size ${s}`;let{stdoe:i}=await ac(`rsvg-convert ${[`--accept-language=${e}`,"--keep-aspect-ratio",`--width=${s}`,`--output=${t.slice(0,-4)}.${s}.png`,sc(t)].join(" ")}`);return[`gen png for output size ${s}`,"SUCCESS",i]},"genPngForOutputSize"),r)},"genPngForOutputSizes")()])],"genPngFromSvg");import Wr,{js as je}from"@monochromatic-dev/module-child";var Ye=Nf(["a","favicon"]),lc=o(async(t,e="en")=>{Ye.debug`gen favicons for ${t} with lang ${e}`;let r=`${t}/favicon.svg`,n=await et.exists(r);n||Ye.warn`${r} not found, only raster images will be used for favicons`;let a=`${t}/favicon.ico`,s=await et.exists(a);s||Ye.warn`${a} not found, will be generated from an existing raster image or favicon.svg`;let i=`${t}/apple-touch-icon.png`,c=await et.exists(i);if(c||Ye.warn`${i} not found, will be generated from an existing raster image or favicon.svg`,s&&c)return["genFaviconsFor","SKIP","All raster images exist"];let l=ic.map(u=>he.join(t,`favicon.${u}`)).find(u=>ao.includes(u));if(!l&&!(n||s||c))throw new Error(`no favicon exist at ${t}, tried ${r}, ${a}, ${i}, favicon.*`);if(!l&&!(s||c)){Ye.debug`gen rasters from vector ${r} with lang ${e}`,await cc(r,e);let u=await et.cpFile(`${r.slice(0,-4)}.180.png`,i),{stdoe:m}=await Wr(`magick convert ${[je(`${r.slice(0,-4)}.32.png`),je(a)].join(" ")}`);return["genFaviconsFor","SUCCESS",[`gened rasters ${u}, ${m} from vector ${r} with lang ${e}`]]}return await Promise.all([o(async function(){return s?["ensureIco","SKIP",`${a} already exists`]:l?["ensureIco","SUCCESS",(await Wr(`magick convert ${["-resize","32x32",je(l),je(a)].join(" ")}`)).stdoe]:["ensureIco","SUCCESS",(await Wr(`magick convert ${["-resize","32x32",je(i),je(a)].join(" ")}`)).stdoe]},"ensureIco")(),o(async function(){return c?["ensureAppleTouchIcon","SKIP",`${i} already exists`]:l?["ensureAppleTouchIcon","SUCCESS",(await Wr(`convert ${["-resize","180x180",je(l),je(i)].join(" ")}`)).stdoe]:["ensureAppleTouchIcon","SUCCESS",(await Wr(`magick convert ${["-resize","180x180",je(a),je(i)].join(" ")}`)).stdoe]},"ensureAppleTouchIcon")()])},"genFaviconsFor");async function xs(){let t=de.filter(c=>c.endsWith("index.mdx")),e=await ee(o(async function(l){return he.join("dist","final",he.relative("src",(await he.parseFs(l)).dir))},"getDistIndexDirFromIndexFilePath"),t),[r,[n]]=ra(c=>fs(he.split(c).at(-1)),e),[a,s]=[r.map(c=>he.resolve(c)),he.resolve(n)],i=await lc(s,nc(await et.readFileU(he.join("src",he.relative(he.join("dist","final"),n),"index.toml"))).lang);return Ye.debug`gened favicons for default ${i}`,["genFavicons","SUCCESS",[i,await ee(o(async function(l){try{return await lc(l,he.split(l).at(-1))}catch(u){Ye.warn`${u}, falling back to copying from defaultLang`;let m="",f="",v="";try{m=await et.cpFile(`${s}/favicon.svg`,`${l}/favicon.svg`)}catch(_){Ye.warn`${_}, only raster images will be used for favicons for', ${he.split(l).at(-1)}`}try{f=await et.cpFile(`${s}/favicon.ico`,`${l}/favicon.ico`),v=await et.cpFile(`${s}/apple-touch-icon.png`,`${l}/apple-touch-icon.png`)}catch(_){Ye.warn`${_}, only vector images will be used for favicons for', ${he.split(l).at(-1)}`}return["genFaviconsForOtherLang","SUCCESS",[m,f,v]]}},"genFaviconsForOtherLang"),a)]]}o(xs,"genFavicons");import{getLogger as Sf}from"@logtape/logtape";import{fromHtml as Ef}from"hast-util-from-html";import{toHtml as Cf}from"hast-util-to-html";import Pf from"rehype-remove-comments";import{unified as Tf}from"unified";var Of=Sf(["a","rehype"]);async function ks(t){return Of.debug`rehypedHtml`,Ie(t,async e=>Ef(e,{onerror:o(r=>{throw new Error(`${r} at ${e}`)},"onerror")}),async e=>await Tf().use(Pf).run(e),e=>Cf(e,{allowDangerousCharacters:!0,allowDangerousHtml:!0,collapseEmptyAttributes:!0,quote:"'",quoteSmart:!0}),e=>{if(e==="")throw new Error(`${t} processed to empty`);return e})}o(ks,"rehypedHtml");import{getLogger as Af}from"@logtape/logtape";import If from"@monochromatic-dev/module-child";import{fs as uc,path as pc}from"@monochromatic-dev/module-fs-path";import*as dc from"esbuild";var Bn=Af(["a","vue"]),Rf=o(async function(){return Bn.debug`gen vue apps`,["genVueApps","SUCCESS",await uc.outputFile(pc.join("dist","temp","gen-html","vue.ts"),`
import { createSSRApp } from 'vue';
import { renderToString } from 'vue/server-renderer';
import { fs, path } from '@monochromatic-dev/module-fs-path';
import { mapParallelAsync, uniqWith } from 'rambdax';

${no}
${ro}
${ia}

import {
  getLogger,
  configure,
  getConsoleSink,
} from '@logtape/logtape';

await configure({
  sinks: {
    console: getConsoleSink(),
  },
  filters: {},
  loggers: [
    { category: ['build', 'vue', 'app'], level: 'debug', sinks: ['console'] },
    { category: ['logtape', 'meta'], level: 'warning', sinks: ['console'] },
  ],
});

const l = getLogger(['build', 'vue', 'app']);

const fms = [${Array.from(oa.values()).join(`,
`)}];
const layouts = new Map([${Array.from(on.values()).map(e=>`['${e}', ${e}]`).join(`,
`)}]);
const posts = new Map([${Array.from(sa.values()).map(e=>`['${e}', ${e}]`).join(`,
`)}]);

const allLangs = Array.from(new Set(fms.map((potentialFmWUniqueLang) => potentialFmWUniqueLang.lang)));
l.debug\`allLangs \${allLangs}\`;

const postFms = fms.filter((potentialPostFm) => potentialPostFm.isPost);
l.debug\`postFms \${postFms.map((postFm) => ({title: postFm.title, lang: postFm.lang}))}\`;

const postFmsMap = new Map(postFms.map((potentialNeeding404PostFm) =>
  [potentialNeeding404PostFm, postFms.filter((postFm) => postFm.path.name === potentialNeeding404PostFm.path.name)]));
l.debug\`postFmsMap \${new Map(Array.from(postFmsMap).map(([postFm, postFmMatches]) =>
  [
    { title: postFm.title, lang: postFm.lang },
    postFmMatches.map((postFmMatch) =>
      ({ title: postFmMatch.title, lang: postFmMatch.lang })),
  ]))}\`;

const post404Map = Array.from(postFmsMap).map(([postFm, postFmMatches]) =>
  [
    postFm,
    allLangs.filter((lang) =>
      !postFmMatches.map((postFmMatch) =>
        postFmMatch.lang).includes(lang))
  ]);
l.debug\`post404Map \${new Map(Array.from(post404Map).map(([post404FromFm, post404Langs]) =>
  [
    { title: post404FromFm.title, lang: post404FromFm.lang },
    post404Langs
  ]))}\`;

const post404Fms = uniqWith(
  (x, y) => x.slugWIndexWExt === y.slugWIndexWExt,
  Array.from(post404Map).flatMap(([postFm, postFm404Langs]) =>
    postFm404Langs.map((postFm404Lang) =>
      ({
        ...postFm,
        is404: true,
        lang: postFm404Lang,
        slugWIndexWExt: postFm.lang !== postFm.defaultLang
          ? postFm404Lang !== postFm.defaultLang
            ? postFm.slugWIndexWExt.replace(\`/\${postFm.lang}/\`, \`/\${postFm404Lang}/\`)
            : postFm.slugWIndexWExt.replace(\`/\${postFm.lang}/\`, '/')
          : postFm.siteBase
            ? \`\${postFm.siteBase}/\${postFm404Lang}\${postFm.slugWIndexWExt.slice(postFm.siteBase.length)}\`
            : \`\${postFm404Lang}/\${postFm.slugWIndexWExt}\`
      })))
  );
l.debug\`post404Fms \${post404Fms.map((post404Fm) =>
  ({ title: post404Fm.title, lang: post404Fm.lang, slugWIndexWExt: post404Fm.slugWIndexWExt }))}\`;

const htmlTemplate = (fm, html) => \`
<!DOCTYPE html>
<html lang='\${fm.lang}'>
<head>
<meta charset='utf-8' />
<meta name='viewport' content='width=device-width,initial-scale=1' />
<link href='\${fm.slashSiteBase}/index.css' rel='preload' as='style'>
<title>\${fm.fullTitle}</title>
<link href='\${fm.slashSiteBase}/index.css' blocking='render' rel='stylesheet'>
<link rel='icon' href='\${fm.slashSiteBase}/favicon.ico' sizes='32x32'>
<link rel='icon' type='image/svg+xml' href='\${fm.slashSiteBase}/favicon.svg'>
<link rel='apple-touch-icon' href='\${fm.slashSiteBase}/apple-touch-icon.png'>
<script src='\${fm.slashSiteBase}/index.js' async type='module'></script>
<meta name='title' content='\${fm.title}' />
<meta name='description' content='\${fm.description}' />
<meta name='theme-color' content='\${fm.theming.color}' />
<meta name='keywords' content='\${fm.tags.join(' ')}' />
<link rel='canonical' href='\${fm.canonicalUrl}'/>
\${fm.is404 ? \`<meta http-equiv='response' content='404'>\`: ''}
\${fms.filter((potentialMatchingFm) => potentialMatchingFm.path.name === fm.path.name)
      .map((matchingFm) =>
        \`<link rel='alternate' href='/\${matchingFm.slug}' hreflang='\${matchingFm.lang}' />\`).join('\\n')}
</head>
<body>
  \${html}
</body>
</html>
\`;

const result = await Promise.all([
  (async function genNormal() {
    return await mapParallelAsync(
      async (fm) => {
        const app = createSSRApp({
          components: { Layout: layouts.get(fm.layoutImportName)!, Post: posts.get(fm.postImportName)! },

          template: \`
          <Layout>
            <Post></Post>
          </Layout>
          \`,
        });

        app.provide('frontmatter', fm);
        app.provide('frontmatters', fms);

        const html = await renderToString(app);

        return await fs.outputFile(
          path.join(
            'dist',
            'temp',
            'html',
            fm.slugWIndexWExt,
          ),
          htmlTemplate(fm, html),
        );
      }
      , fms);
  })(),
  (async function gen404() {
    return await mapParallelAsync(
      async (fm) => {
        const app = createSSRApp({
          components: { Layout: layouts.get(fm.layoutImportName)! },

          template: \`
          <Layout>
          </Layout>
          \`,
        });

        app.provide('frontmatter', fm);
        app.provide('frontmatters', fms);

        const html = await renderToString(app);

        return await fs.outputFile(
          path.join(
            'dist',
            'temp',
            'html',
            fm.slugWIndexWExt,
          ),
          htmlTemplate(fm, html),
        );
      }
      , post404Fms);
  })(),
  fs.outputFile(path.join('dist', 'temp', 'html', 'post404Fms.json'), JSON.stringify(post404Fms, null, 2)),
]);
l.debug\`\${result}\`;
`)]},"genVueApps"),Mf=o(async function(){Bn.debug`build vue apps esbuild vue.ts dist/temp/gen-html/vue.ts`;let e=await dc.context($t(["dist/temp/gen-html/vue.ts"],"dist/temp/gen-html")),r=await e.rebuild();return await e.dispose(),["buildVueApps","SUCCESS",await uc.outputFile(pc.join("dist","temp","esbuild","vue.meta.json"),JSON.stringify(r.metafile,null,2))]},"buildVueApps"),Ff=o(async function(){Bn.debug`run vue apps node vue.js 'dist/temp/gen-html/vue.js`;let{stdoe:e}=await If("node ./dist/temp/gen-html/vue.js");return["runVueApps","SUCCESS",e]},"runVueApps");async function Ns(){Bn.debug`gen build run vue apps`;let t=await Rf(),e=await Mf(),r=await Ff();return["genBuildRunVueApps","SUCCESS",[t,e,r]]}o(Ns,"genBuildRunVueApps");var Oe=Lf(["a","html"]),Vf=o(async()=>(Oe.debug`process *.html ${la}`,["processHtmlsToFinal","SUCCESS",await ee(async t=>await Ss.outputFile(Zn.join("dist","final",Zn.relative(Zn.join("dist","temp","html"),`${t}.html`)),await Ie(`${t}.html`,Ss.readFileU,ks)),la)]),"processHtmlsToFinal"),$f=o(async function(){return Oe.debug`final *.html -> */index.html ${ca}`,["ensureHtmlStructure","SUCCESS",await ee(o(async function(r){return await Ss.cpFile(`${r}.html`,Zn.join(r,"index.html"))},"cpToDir"),ca.filter(e=>!e.endsWith("/index")))]},"ensureHtmlStructure");async function Es(){if(de.length===0)return["genHtml","SKIP",`skipping mdx, none of ${de} matched by 'src/**/*.mdx', {ignore: '**/_*/**'} exist.`];let t=await Vi();Oe.debug`gen html cped src ${t}`;let e=await Promise.all([o(async function(){Oe.debug`gen htmls`;let n=await Ns();Oe.debug`gen htmls ran vue ${n}`;let a=await Vf();Oe.debug`gen htmls processed htmls to final ${a}`;let s=await $f();return Oe.debug`gen htmls ensured html structure ${s}`,["genHtmls","SUCCESS",[n,a,s]]},"genHtmls")(),o(async function(){Oe.debug`gen others`;let n=await $i();Oe.debug`gen others cped others ${n}`;let a=await xs();return Oe.debug`gen others gened favicons ${a}`,["genOthers","SUCCESS",[n,a]]},"genOthers")()]);return Oe.debug`gen html gened final ${e}`,["genHtml","SUCCESS",[t,e]]}o(Es,"genHtml");import{getLogger as jf}from"@logtape/logtape";import{fs as Uf,path as Cs}from"@monochromatic-dev/module-fs-path";import Df from"@monochromatic-dev/module-child";import{fs as mc,path as fc}from"@monochromatic-dev/module-fs-path";var hc=o(async()=>{if(!await mc.existsFile(fc.join("dist","temp","server","localhost.pem"))){await mc.mkdir(fc.join("dist","temp","server"),{recursive:!0});let{stdoe:t}=await Df(["mkcert","-cert-file","dist/temp/server/localhost.pem","-key-file","dist/temp/server/localhost-key.pem","localhost","127.0.0.1","0.0.0.0","::1"].join(" "));return["ensureCrt","SUCCESS",t]}return["ensureCrt","SKIP","localhost.crt exists"]},"default");var a_=jf(["a","server"]);var Bf=o(()=>({general:{host:"127.0.0.1",port:5173,root:Cs.join("dist","final"),"log-level":"info","directory-listing":!0,"redirect-trailing-slash":!1,"compression-static":!0,http2:!0,"http2-tls-cert":Cs.join("dist","temp","server","localhost.pem"),"http2-tls-key":Cs.join("dist","temp","server","localhost-key.pem")},advanced:{rewrites:[{source:"/subtle/{*}/{l,li,lin,link,[!l]*,l[!i]*,li[!n]*,lin[!k]*,link[!s]*,links?*}",destination:"/subtle/$1/404.html"}]}}),"staticWebServerOptions"),gc=o(async()=>{let t=await hc(),e=await Uf.outputFile(un,Di(Bf()));return["server","SUCCESS",[t,e]]},"default");var Ps=Zf(["a","staticAndCompress"]);async function Ts(){Ps.debug`staticAndCompress`;let t=await Promise.all([Li(),Es()]);Ps.debug`staticResult ${t}`;let e=de.length!==0&&await Promise.all([xo(),gc()]);return Ps.debug`compressResult ${e}`,["staticAndCompress","SUCCESS",[t,e]]}o(Ts,"staticAndCompress");import{getLogger as Hf}from"@logtape/logtape";import{$ as zf,ProcessOutput as Wf}from"zx";var Os=Hf(["a","t"]),Hn=o(async()=>{if(wr.length===0){Os.warn`no tests defined`;return}Os.info`testing ${wr.length}: ${wr}`;let t=await Promise.allSettled(wr.map(e=>zf`yarn node ${e}`.stdio("inherit","inherit","inherit")));Os.info`tested ${o(function(r){let n=r.map(a=>a.status==="fulfilled"?a.value instanceof Wf&&a.value.stdout===""?"":a.value:a);return n.every(a=>!a)?n.length:r},"humanReadableTestResult")(t)}`},"default");var Yf=Gf(["a","build"]),yc=o(async()=>{let t=await Promise.all([Ts(),wo()]);Yf.info`built ${t}`,Hn()},"default");import{fs as Xf}from"@monochromatic-dev/module-fs-path";var vc=o(async()=>{await Xf.empty("dist")},"default");import Kf from"@monochromatic-dev/module-child";import{fs as qf}from"@monochromatic-dev/module-fs-path";var bc=o(async()=>{await qf.cpFile("package.json","package.jsonc"),await Kf("biome format --write package.jsonc")},"default");var L;(function(t){t.assertEqual=a=>a;function e(a){}o(e,"assertIs"),t.assertIs=e;function r(a){throw new Error}o(r,"assertNever"),t.assertNever=r,t.arrayToEnum=a=>{let s={};for(let i of a)s[i]=i;return s},t.getValidEnumValues=a=>{let s=t.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),i={};for(let c of s)i[c]=a[c];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(s){return a[s]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let s=[];for(let i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},t.find=(a,s)=>{for(let i of a)if(s(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}o(n,"joinValues"),t.joinValues=n,t.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(L||(L={}));var Is;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Is||(Is={}));var w=L.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tt=o(t=>{switch(typeof t){case"undefined":return w.undefined;case"string":return w.string;case"number":return isNaN(t)?w.nan:w.number;case"boolean":return w.boolean;case"function":return w.function;case"bigint":return w.bigint;case"symbol":return w.symbol;case"object":return Array.isArray(t)?w.array:t===null?w.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?w.promise:typeof Map<"u"&&t instanceof Map?w.map:typeof Set<"u"&&t instanceof Set?w.set:typeof Date<"u"&&t instanceof Date?w.date:w.object;default:return w.unknown}},"getParsedType"),g=L.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Jf=o(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson"),ge=class t extends Error{static{o(this,"ZodError")}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},a=o(s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let c=n,l=0;for(;l<i.path.length;){let u=i.path[l];l===i.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(i))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}},"processError");return a(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,L.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};ge.create=t=>new ge(t);var ir=o((t,e)=>{let r;switch(t.code){case g.invalid_type:t.received===w.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case g.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,L.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:r=`Unrecognized key(s) in object: ${L.joinValues(t.keys,", ")}`;break;case g.invalid_union:r="Invalid input";break;case g.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${L.joinValues(t.options)}`;break;case g.invalid_enum_value:r=`Invalid enum value. Expected ${L.joinValues(t.options)}, received '${t.received}'`;break;case g.invalid_arguments:r="Invalid function arguments";break;case g.invalid_return_type:r="Invalid function return type";break;case g.invalid_date:r="Invalid date";break;case g.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:L.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case g.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case g.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case g.custom:r="Invalid input";break;case g.invalid_intersection_types:r="Intersection results could not be merged";break;case g.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case g.not_finite:r="Number must be finite";break;default:r=e.defaultError,L.assertNever(t)}return{message:r}},"errorMap"),xc=ir;function Qf(t){xc=t}o(Qf,"setErrorMap");function zn(){return xc}o(zn,"getErrorMap");var Wn=o(t=>{let{data:e,path:r,errorMaps:n,issueData:a}=t,s=[...r,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let c="",l=n.filter(u=>!!u).slice().reverse();for(let u of l)c=u(i,{data:e,defaultError:c}).message;return{...a,path:s,message:c}},"makeIssue"),eh=[];function b(t,e){let r=zn(),n=Wn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ir?void 0:ir].filter(a=>!!a)});t.common.issues.push(n)}o(b,"addIssueToContext");var se=class t{static{o(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let a of r){if(a.status==="aborted")return O;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let a of r){let s=await a.key,i=await a.value;n.push({key:s,value:i})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let a of r){let{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return O;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[s.value]=i.value)}return{status:e.value,value:n}}},O=Object.freeze({status:"aborted"}),or=o(t=>({status:"dirty",value:t}),"DIRTY"),ie=o(t=>({status:"valid",value:t}),"OK"),Rs=o(t=>t.status==="aborted","isAborted"),Ms=o(t=>t.status==="dirty","isDirty"),Xr=o(t=>t.status==="valid","isValid"),Kr=o(t=>typeof Promise<"u"&&t instanceof Promise,"isAsync");function Gn(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}o(Gn,"__classPrivateFieldGet");function kc(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}o(kc,"__classPrivateFieldSet");var S;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(S||(S={}));var Gr,Yr,Ne=class{static{o(this,"ParseInputLazyPath")}constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},wc=o((t,e)=>{if(Xr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ge(t.common.issues);return this._error=r,this._error}}},"handleResult");function I(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:o((i,c)=>{var l,u;let{message:m}=t;return i.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(l=m??n)!==null&&l!==void 0?l:c.defaultError}:i.code!=="invalid_type"?{message:c.defaultError}:{message:(u=m??r)!==null&&u!==void 0?u:c.defaultError}},"customMap"),description:a}}o(I,"processCreateParams");var R=class{static{o(this,"ZodType")}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return tt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new se,ctx:{common:e.parent.common,data:e.data,parsedType:tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Kr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let a={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tt(e)},s=this._parseSync({data:e,path:a.path,parent:a});return wc(a,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tt(e)},a=this._parse({data:e,path:n.path,parent:n}),s=await(Kr(a)?a:Promise.resolve(a));return wc(n,s)}refine(e,r){let n=o(a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r,"getIssueProperties");return this._refinement((a,s)=>{let i=e(a),c=o(()=>s.addIssue({code:g.custom,...n(a)}),"setError");return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(c(),!1)):i?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new ye({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ke.create(this,this._def)}nullable(){return Be.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qe.create(this,this._def)}promise(){return at.create(this,this._def)}or(e){return Nt.create([this,e],this._def)}and(e){return St.create(this,e,this._def)}transform(e){return new ye({...I(this._def),schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Ot({...I(this._def),innerType:this,defaultValue:r,typeName:T.ZodDefault})}brand(){return new qr({typeName:T.ZodBranded,type:this,...I(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new At({...I(this._def),innerType:this,catchValue:r,typeName:T.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Jr.create(this,e)}readonly(){return It.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},th=/^c[^\s-]{8,}$/i,rh=/^[0-9a-z]+$/,nh=/^[0-9A-HJKMNP-TV-Z]{26}$/,ah=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sh=/^[a-z0-9_-]{21}$/i,oh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ih=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ch="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",As,lh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uh=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ph=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Nc="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dh=new RegExp(`^${Nc}$`);function Sc(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}o(Sc,"timeRegexSource");function mh(t){return new RegExp(`^${Sc(t)}$`)}o(mh,"timeRegex");function Ec(t){let e=`${Nc}T${Sc(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}o(Ec,"datetimeRegex");function fh(t,e){return!!((e==="v4"||!e)&&lh.test(t)||(e==="v6"||!e)&&uh.test(t))}o(fh,"isValidIP");var rt=class t extends R{static{o(this,"ZodString")}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==w.string){let s=this._getOrReturnCtx(e);return b(s,{code:g.invalid_type,expected:w.string,received:s.parsedType}),O}let n=new se,a;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),b(a,{code:g.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),b(a,{code:g.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let i=e.data.length>s.value,c=e.data.length<s.value;(i||c)&&(a=this._getOrReturnCtx(e,a),i?b(a,{code:g.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&b(a,{code:g.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")ih.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"email",code:g.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")As||(As=new RegExp(ch,"u")),As.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"emoji",code:g.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")ah.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"uuid",code:g.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")sh.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"nanoid",code:g.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")th.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"cuid",code:g.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")rh.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"cuid2",code:g.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")nh.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"ulid",code:g.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),b(a,{validation:"url",code:g.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"regex",code:g.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),b(a,{code:g.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),b(a,{code:g.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),b(a,{code:g.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Ec(s).test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{code:g.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?dh.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{code:g.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?mh(s).test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{code:g.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?oh.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"duration",code:g.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?fh(e.data,s.version)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"ip",code:g.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?ph.test(e.data)||(a=this._getOrReturnCtx(e,a),b(a,{validation:"base64",code:g.invalid_string,message:s.message}),n.dirty()):L.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:g.invalid_string,...S.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...S.errToObj(e)})}url(e){return this._addCheck({kind:"url",...S.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...S.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...S.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...S.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...S.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...S.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...S.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...S.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...S.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...S.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...S.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...S.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...S.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...S.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...S.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...S.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...S.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...S.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...S.errToObj(r)})}nonempty(e){return this.min(1,S.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};rt.create=t=>{var e;return new rt({checks:[],typeName:T.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...I(t)})};function hh(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,s=parseInt(t.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return s%i/Math.pow(10,a)}o(hh,"floatSafeRemainder");var vt=class t extends R{static{o(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==w.number){let s=this._getOrReturnCtx(e);return b(s,{code:g.invalid_type,expected:w.number,received:s.parsedType}),O}let n,a=new se;for(let s of this._def.checks)s.kind==="int"?L.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{code:g.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),b(n,{code:g.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),b(n,{code:g.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?hh(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),b(n,{code:g.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{code:g.not_finite,message:s.message}),a.dirty()):L.assertNever(s);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,S.toString(r))}gt(e,r){return this.setLimit("min",e,!1,S.toString(r))}lte(e,r){return this.setLimit("max",e,!0,S.toString(r))}lt(e,r){return this.setLimit("max",e,!1,S.toString(r))}setLimit(e,r,n,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:S.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:S.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:S.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:S.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:S.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:S.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:S.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:S.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:S.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:S.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&L.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};vt.create=t=>new vt({checks:[],typeName:T.ZodNumber,coerce:t?.coerce||!1,...I(t)});var bt=class t extends R{static{o(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==w.bigint){let s=this._getOrReturnCtx(e);return b(s,{code:g.invalid_type,expected:w.bigint,received:s.parsedType}),O}let n,a=new se;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),b(n,{code:g.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),b(n,{code:g.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),b(n,{code:g.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):L.assertNever(s);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,S.toString(r))}gt(e,r){return this.setLimit("min",e,!1,S.toString(r))}lte(e,r){return this.setLimit("max",e,!0,S.toString(r))}lt(e,r){return this.setLimit("max",e,!1,S.toString(r))}setLimit(e,r,n,a){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:S.toString(a)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:S.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:S.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:S.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:S.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:S.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};bt.create=t=>{var e;return new bt({checks:[],typeName:T.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...I(t)})};var wt=class extends R{static{o(this,"ZodBoolean")}_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==w.boolean){let n=this._getOrReturnCtx(e);return b(n,{code:g.invalid_type,expected:w.boolean,received:n.parsedType}),O}return ie(e.data)}};wt.create=t=>new wt({typeName:T.ZodBoolean,coerce:t?.coerce||!1,...I(t)});var _t=class t extends R{static{o(this,"ZodDate")}_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==w.date){let s=this._getOrReturnCtx(e);return b(s,{code:g.invalid_type,expected:w.date,received:s.parsedType}),O}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return b(s,{code:g.invalid_date}),O}let n=new se,a;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),b(a,{code:g.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),b(a,{code:g.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):L.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:S.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:S.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};_t.create=t=>new _t({checks:[],coerce:t?.coerce||!1,typeName:T.ZodDate,...I(t)});var cr=class extends R{static{o(this,"ZodSymbol")}_parse(e){if(this._getType(e)!==w.symbol){let n=this._getOrReturnCtx(e);return b(n,{code:g.invalid_type,expected:w.symbol,received:n.parsedType}),O}return ie(e.data)}};cr.create=t=>new cr({typeName:T.ZodSymbol,...I(t)});var xt=class extends R{static{o(this,"ZodUndefined")}_parse(e){if(this._getType(e)!==w.undefined){let n=this._getOrReturnCtx(e);return b(n,{code:g.invalid_type,expected:w.undefined,received:n.parsedType}),O}return ie(e.data)}};xt.create=t=>new xt({typeName:T.ZodUndefined,...I(t)});var kt=class extends R{static{o(this,"ZodNull")}_parse(e){if(this._getType(e)!==w.null){let n=this._getOrReturnCtx(e);return b(n,{code:g.invalid_type,expected:w.null,received:n.parsedType}),O}return ie(e.data)}};kt.create=t=>new kt({typeName:T.ZodNull,...I(t)});var nt=class extends R{static{o(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(e){return ie(e.data)}};nt.create=t=>new nt({typeName:T.ZodAny,...I(t)});var Ke=class extends R{static{o(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(e){return ie(e.data)}};Ke.create=t=>new Ke({typeName:T.ZodUnknown,...I(t)});var Ae=class extends R{static{o(this,"ZodNever")}_parse(e){let r=this._getOrReturnCtx(e);return b(r,{code:g.invalid_type,expected:w.never,received:r.parsedType}),O}};Ae.create=t=>new Ae({typeName:T.ZodNever,...I(t)});var lr=class extends R{static{o(this,"ZodVoid")}_parse(e){if(this._getType(e)!==w.undefined){let n=this._getOrReturnCtx(e);return b(n,{code:g.invalid_type,expected:w.void,received:n.parsedType}),O}return ie(e.data)}};lr.create=t=>new lr({typeName:T.ZodVoid,...I(t)});var qe=class t extends R{static{o(this,"ZodArray")}_parse(e){let{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==w.array)return b(r,{code:g.invalid_type,expected:w.array,received:r.parsedType}),O;if(a.exactLength!==null){let i=r.data.length>a.exactLength.value,c=r.data.length<a.exactLength.value;(i||c)&&(b(r,{code:i?g.too_big:g.too_small,minimum:c?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(b(r,{code:g.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(b(r,{code:g.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,c)=>a.type._parseAsync(new Ne(r,i,r.path,c)))).then(i=>se.mergeArray(n,i));let s=[...r.data].map((i,c)=>a.type._parseSync(new Ne(r,i,r.path,c)));return se.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:S.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:S.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:S.toString(r)}})}nonempty(e){return this.min(1,e)}};qe.create=(t,e)=>new qe({type:t,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray,...I(e)});function sr(t){if(t instanceof pe){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=ke.create(sr(n))}return new pe({...t._def,shape:o(()=>e,"shape")})}else return t instanceof qe?new qe({...t._def,type:sr(t.element)}):t instanceof ke?ke.create(sr(t.unwrap())):t instanceof Be?Be.create(sr(t.unwrap())):t instanceof Ue?Ue.create(t.items.map(e=>sr(e))):t}o(sr,"deepPartialify");var pe=class t extends R{static{o(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=L.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==w.object){let u=this._getOrReturnCtx(e);return b(u,{code:g.invalid_type,expected:w.object,received:u.parsedType}),O}let{status:n,ctx:a}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ae&&this._def.unknownKeys==="strip"))for(let u in a.data)i.includes(u)||c.push(u);let l=[];for(let u of i){let m=s[u],f=a.data[u];l.push({key:{status:"valid",value:u},value:m._parse(new Ne(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ae){let u=this._def.unknownKeys;if(u==="passthrough")for(let m of c)l.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(u==="strict")c.length>0&&(b(a,{code:g.unrecognized_keys,keys:c}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let m of c){let f=a.data[m];l.push({key:{status:"valid",value:m},value:u._parse(new Ne(a,f,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let u=[];for(let m of l){let f=await m.key,v=await m.value;u.push({key:f,value:v,alwaysSet:m.alwaysSet})}return u}).then(u=>se.mergeObjectSync(n,u)):se.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return S.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:o((r,n)=>{var a,s,i,c;let l=(i=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,r,n).message)!==null&&i!==void 0?i:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=S.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}},"errorMap")}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:o(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:o(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:T.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return L.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:o(()=>r,"shape")})}omit(e){let r={};return L.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:o(()=>r,"shape")})}deepPartial(){return sr(this)}partial(e){let r={};return L.objectKeys(this.shape).forEach(n=>{let a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new t({...this._def,shape:o(()=>r,"shape")})}required(e){let r={};return L.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ke;)s=s._def.innerType;r[n]=s}}),new t({...this._def,shape:o(()=>r,"shape")})}keyof(){return Cc(L.objectKeys(this.shape))}};pe.create=(t,e)=>new pe({shape:o(()=>t,"shape"),unknownKeys:"strip",catchall:Ae.create(),typeName:T.ZodObject,...I(e)});pe.strictCreate=(t,e)=>new pe({shape:o(()=>t,"shape"),unknownKeys:"strict",catchall:Ae.create(),typeName:T.ZodObject,...I(e)});pe.lazycreate=(t,e)=>new pe({shape:t,unknownKeys:"strip",catchall:Ae.create(),typeName:T.ZodObject,...I(e)});var Nt=class extends R{static{o(this,"ZodUnion")}_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function a(s){for(let c of s)if(c.result.status==="valid")return c.result;for(let c of s)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;let i=s.map(c=>new ge(c.ctx.common.issues));return b(r,{code:g.invalid_union,unionErrors:i}),O}if(o(a,"handleResults"),r.common.async)return Promise.all(n.map(async s=>{let i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let s,i=[];for(let l of n){let u={...r,common:{...r.common,issues:[]},parent:null},m=l._parseSync({data:r.data,path:r.path,parent:u});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let c=i.map(l=>new ge(l));return b(r,{code:g.invalid_union,unionErrors:c}),O}}get options(){return this._def.options}};Nt.create=(t,e)=>new Nt({options:t,typeName:T.ZodUnion,...I(e)});var Xe=o(t=>t instanceof Et?Xe(t.schema):t instanceof ye?Xe(t.innerType()):t instanceof Ct?[t.value]:t instanceof Pt?t.options:t instanceof Tt?L.objectValues(t.enum):t instanceof Ot?Xe(t._def.innerType):t instanceof xt?[void 0]:t instanceof kt?[null]:t instanceof ke?[void 0,...Xe(t.unwrap())]:t instanceof Be?[null,...Xe(t.unwrap())]:t instanceof qr||t instanceof It?Xe(t.unwrap()):t instanceof At?Xe(t._def.innerType):[],"getDiscriminator"),Yn=class t extends R{static{o(this,"ZodDiscriminatedUnion")}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==w.object)return b(r,{code:g.invalid_type,expected:w.object,received:r.parsedType}),O;let n=this.discriminator,a=r.data[n],s=this.optionsMap.get(a);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(b(r,{code:g.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),O)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let a=new Map;for(let s of r){let i=Xe(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of i){if(a.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);a.set(c,s)}}return new t({typeName:T.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...I(n)})}};function Fs(t,e){let r=tt(t),n=tt(e);if(t===e)return{valid:!0,data:t};if(r===w.object&&n===w.object){let a=L.objectKeys(e),s=L.objectKeys(t).filter(c=>a.indexOf(c)!==-1),i={...t,...e};for(let c of s){let l=Fs(t[c],e[c]);if(!l.valid)return{valid:!1};i[c]=l.data}return{valid:!0,data:i}}else if(r===w.array&&n===w.array){if(t.length!==e.length)return{valid:!1};let a=[];for(let s=0;s<t.length;s++){let i=t[s],c=e[s],l=Fs(i,c);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===w.date&&n===w.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}o(Fs,"mergeValues");var St=class extends R{static{o(this,"ZodIntersection")}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),a=o((s,i)=>{if(Rs(s)||Rs(i))return O;let c=Fs(s.value,i.value);return c.valid?((Ms(s)||Ms(i))&&r.dirty(),{status:r.value,value:c.data}):(b(n,{code:g.invalid_intersection_types}),O)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};St.create=(t,e,r)=>new St({left:t,right:e,typeName:T.ZodIntersection,...I(r)});var Ue=class t extends R{static{o(this,"ZodTuple")}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==w.array)return b(n,{code:g.invalid_type,expected:w.array,received:n.parsedType}),O;if(n.data.length<this._def.items.length)return b(n,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),O;!this._def.rest&&n.data.length>this._def.items.length&&(b(n,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((i,c)=>{let l=this._def.items[c]||this._def.rest;return l?l._parse(new Ne(n,i,n.path,c)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>se.mergeArray(r,i)):se.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Ue.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ue({items:t,typeName:T.ZodTuple,rest:null,...I(e)})};var Xn=class t extends R{static{o(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==w.object)return b(n,{code:g.invalid_type,expected:w.object,received:n.parsedType}),O;let a=[],s=this._def.keyType,i=this._def.valueType;for(let c in n.data)a.push({key:s._parse(new Ne(n,c,n.path,c)),value:i._parse(new Ne(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?se.mergeObjectAsync(r,a):se.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof R?new t({keyType:e,valueType:r,typeName:T.ZodRecord,...I(n)}):new t({keyType:rt.create(),valueType:e,typeName:T.ZodRecord,...I(r)})}},ur=class extends R{static{o(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==w.map)return b(n,{code:g.invalid_type,expected:w.map,received:n.parsedType}),O;let a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([c,l],u)=>({key:a._parse(new Ne(n,c,n.path,[u,"key"])),value:s._parse(new Ne(n,l,n.path,[u,"value"]))}));if(n.common.async){let c=new Map;return Promise.resolve().then(async()=>{for(let l of i){let u=await l.key,m=await l.value;if(u.status==="aborted"||m.status==="aborted")return O;(u.status==="dirty"||m.status==="dirty")&&r.dirty(),c.set(u.value,m.value)}return{status:r.value,value:c}})}else{let c=new Map;for(let l of i){let u=l.key,m=l.value;if(u.status==="aborted"||m.status==="aborted")return O;(u.status==="dirty"||m.status==="dirty")&&r.dirty(),c.set(u.value,m.value)}return{status:r.value,value:c}}}};ur.create=(t,e,r)=>new ur({valueType:e,keyType:t,typeName:T.ZodMap,...I(r)});var pr=class t extends R{static{o(this,"ZodSet")}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==w.set)return b(n,{code:g.invalid_type,expected:w.set,received:n.parsedType}),O;let a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(b(n,{code:g.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(b(n,{code:g.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let s=this._def.valueType;function i(l){let u=new Set;for(let m of l){if(m.status==="aborted")return O;m.status==="dirty"&&r.dirty(),u.add(m.value)}return{status:r.value,value:u}}o(i,"finalizeSet");let c=[...n.data.values()].map((l,u)=>s._parse(new Ne(n,l,n.path,u)));return n.common.async?Promise.all(c).then(l=>i(l)):i(c)}min(e,r){return new t({...this._def,minSize:{value:e,message:S.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:S.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};pr.create=(t,e)=>new pr({valueType:t,minSize:null,maxSize:null,typeName:T.ZodSet,...I(e)});var Kn=class t extends R{static{o(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==w.function)return b(r,{code:g.invalid_type,expected:w.function,received:r.parsedType}),O;function n(c,l){return Wn({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zn(),ir].filter(u=>!!u),issueData:{code:g.invalid_arguments,argumentsError:l}})}o(n,"makeArgsIssue");function a(c,l){return Wn({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zn(),ir].filter(u=>!!u),issueData:{code:g.invalid_return_type,returnTypeError:l}})}o(a,"makeReturnsIssue");let s={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof at){let c=this;return ie(async function(...l){let u=new ge([]),m=await c._def.args.parseAsync(l,s).catch(_=>{throw u.addIssue(n(l,_)),u}),f=await Reflect.apply(i,this,m);return await c._def.returns._def.type.parseAsync(f,s).catch(_=>{throw u.addIssue(a(f,_)),u})})}else{let c=this;return ie(function(...l){let u=c._def.args.safeParse(l,s);if(!u.success)throw new ge([n(l,u.error)]);let m=Reflect.apply(i,this,u.data),f=c._def.returns.safeParse(m,s);if(!f.success)throw new ge([a(m,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Ue.create(e).rest(Ke.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Ue.create([]).rest(Ke.create()),returns:r||Ke.create(),typeName:T.ZodFunction,...I(n)})}},Et=class extends R{static{o(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Et.create=(t,e)=>new Et({getter:t,typeName:T.ZodLazy,...I(e)});var Ct=class extends R{static{o(this,"ZodLiteral")}_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return b(r,{received:r.data,code:g.invalid_literal,expected:this._def.value}),O}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ct.create=(t,e)=>new Ct({value:t,typeName:T.ZodLiteral,...I(e)});function Cc(t,e){return new Pt({values:t,typeName:T.ZodEnum,...I(e)})}o(Cc,"createZodEnum");var Pt=class t extends R{static{o(this,"ZodEnum")}constructor(){super(...arguments),Gr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return b(r,{expected:L.joinValues(n),received:r.parsedType,code:g.invalid_type}),O}if(Gn(this,Gr,"f")||kc(this,Gr,new Set(this._def.values),"f"),!Gn(this,Gr,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return b(r,{received:r.data,code:g.invalid_enum_value,options:n}),O}return ie(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Gr=new WeakMap;Pt.create=Cc;var Tt=class extends R{static{o(this,"ZodNativeEnum")}constructor(){super(...arguments),Yr.set(this,void 0)}_parse(e){let r=L.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==w.string&&n.parsedType!==w.number){let a=L.objectValues(r);return b(n,{expected:L.joinValues(a),received:n.parsedType,code:g.invalid_type}),O}if(Gn(this,Yr,"f")||kc(this,Yr,new Set(L.getValidEnumValues(this._def.values)),"f"),!Gn(this,Yr,"f").has(e.data)){let a=L.objectValues(r);return b(n,{received:n.data,code:g.invalid_enum_value,options:a}),O}return ie(e.data)}get enum(){return this._def.values}};Yr=new WeakMap;Tt.create=(t,e)=>new Tt({values:t,typeName:T.ZodNativeEnum,...I(e)});var at=class extends R{static{o(this,"ZodPromise")}unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==w.promise&&r.common.async===!1)return b(r,{code:g.invalid_type,expected:w.promise,received:r.parsedType}),O;let n=r.parsedType===w.promise?r.data:Promise.resolve(r.data);return ie(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}};at.create=(t,e)=>new at({type:t,typeName:T.ZodPromise,...I(e)});var ye=class extends R{static{o(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o(i=>{b(n,i),i.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){let i=a.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async c=>{if(r.value==="aborted")return O;let l=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return l.status==="aborted"?O:l.status==="dirty"||r.value==="dirty"?or(l.value):l});{if(r.value==="aborted")return O;let c=this._def.schema._parseSync({data:i,path:n.path,parent:n});return c.status==="aborted"?O:c.status==="dirty"||r.value==="dirty"?or(c.value):c}}if(a.type==="refinement"){let i=o(c=>{let l=a.refinement(c,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c},"executeRefinement");if(n.common.async===!1){let c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?O:(c.status==="dirty"&&r.dirty(),i(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?O:(c.status==="dirty"&&r.dirty(),i(c.value).then(()=>({status:r.value,value:c.value}))))}if(a.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xr(i))return i;let c=a.transform(i.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Xr(i)?Promise.resolve(a.transform(i.value,s)).then(c=>({status:r.value,value:c})):i);L.assertNever(a)}};ye.create=(t,e,r)=>new ye({schema:t,typeName:T.ZodEffects,effect:e,...I(r)});ye.createWithPreprocess=(t,e,r)=>new ye({schema:e,effect:{type:"preprocess",transform:t},typeName:T.ZodEffects,...I(r)});var ke=class extends R{static{o(this,"ZodOptional")}_parse(e){return this._getType(e)===w.undefined?ie(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ke.create=(t,e)=>new ke({innerType:t,typeName:T.ZodOptional,...I(e)});var Be=class extends R{static{o(this,"ZodNullable")}_parse(e){return this._getType(e)===w.null?ie(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Be.create=(t,e)=>new Be({innerType:t,typeName:T.ZodNullable,...I(e)});var Ot=class extends R{static{o(this,"ZodDefault")}_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===w.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ot.create=(t,e)=>new Ot({innerType:t,typeName:T.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...I(e)});var At=class extends R{static{o(this,"ZodCatch")}_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kr(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ge(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ge(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};At.create=(t,e)=>new At({innerType:t,typeName:T.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...I(e)});var dr=class extends R{static{o(this,"ZodNaN")}_parse(e){if(this._getType(e)!==w.nan){let n=this._getOrReturnCtx(e);return b(n,{code:g.invalid_type,expected:w.nan,received:n.parsedType}),O}return{status:"valid",value:e.data}}};dr.create=t=>new dr({typeName:T.ZodNaN,...I(t)});var gh=Symbol("zod_brand"),qr=class extends R{static{o(this,"ZodBranded")}_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Jr=class t extends R{static{o(this,"ZodPipeline")}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return o(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?O:s.status==="dirty"?(r.dirty(),or(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})},"handleAsync")();{let a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?O:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:T.ZodPipeline})}},It=class extends R{static{o(this,"ZodReadonly")}_parse(e){let r=this._def.innerType._parse(e),n=o(a=>(Xr(a)&&(a.value=Object.freeze(a.value)),a),"freeze");return Kr(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}};It.create=(t,e)=>new It({innerType:t,typeName:T.ZodReadonly,...I(e)});function Pc(t,e={},r){return t?nt.create().superRefine((n,a)=>{var s,i;if(!t(n)){let c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(i=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&i!==void 0?i:!0,u=typeof c=="string"?{message:c}:c;a.addIssue({code:"custom",...u,fatal:l})}}):nt.create()}o(Pc,"custom");var yh={object:pe.lazycreate},T;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(T||(T={}));var vh=o((t,e={message:`Input not instance of ${t.name}`})=>Pc(r=>r instanceof t,e),"instanceOfType"),Tc=rt.create,Oc=vt.create,bh=dr.create,wh=bt.create,Ac=wt.create,_h=_t.create,xh=cr.create,kh=xt.create,Nh=kt.create,Sh=nt.create,Eh=Ke.create,Ch=Ae.create,Ph=lr.create,Th=qe.create,Oh=pe.create,Ah=pe.strictCreate,Ih=Nt.create,Rh=Yn.create,Mh=St.create,Fh=Ue.create,Lh=Xn.create,Vh=ur.create,$h=pr.create,Dh=Kn.create,jh=Et.create,Uh=Ct.create,Bh=Pt.create,Zh=Tt.create,Hh=at.create,_c=ye.create,zh=ke.create,Wh=Be.create,Gh=ye.createWithPreprocess,Yh=Jr.create,Xh=o(()=>Tc().optional(),"ostring"),Kh=o(()=>Oc().optional(),"onumber"),qh=o(()=>Ac().optional(),"oboolean"),Jh={string:o(t=>rt.create({...t,coerce:!0}),"string"),number:o(t=>vt.create({...t,coerce:!0}),"number"),boolean:o(t=>wt.create({...t,coerce:!0}),"boolean"),bigint:o(t=>bt.create({...t,coerce:!0}),"bigint"),date:o(t=>_t.create({...t,coerce:!0}),"date")},Qh=O,Ic=Object.freeze({__proto__:null,defaultErrorMap:ir,setErrorMap:Qf,getErrorMap:zn,makeIssue:Wn,EMPTY_PATH:eh,addIssueToContext:b,ParseStatus:se,INVALID:O,DIRTY:or,OK:ie,isAborted:Rs,isDirty:Ms,isValid:Xr,isAsync:Kr,get util(){return L},get objectUtil(){return Is},ZodParsedType:w,getParsedType:tt,ZodType:R,datetimeRegex:Ec,ZodString:rt,ZodNumber:vt,ZodBigInt:bt,ZodBoolean:wt,ZodDate:_t,ZodSymbol:cr,ZodUndefined:xt,ZodNull:kt,ZodAny:nt,ZodUnknown:Ke,ZodNever:Ae,ZodVoid:lr,ZodArray:qe,ZodObject:pe,ZodUnion:Nt,ZodDiscriminatedUnion:Yn,ZodIntersection:St,ZodTuple:Ue,ZodRecord:Xn,ZodMap:ur,ZodSet:pr,ZodFunction:Kn,ZodLazy:Et,ZodLiteral:Ct,ZodEnum:Pt,ZodNativeEnum:Tt,ZodPromise:at,ZodEffects:ye,ZodTransformer:ye,ZodOptional:ke,ZodNullable:Be,ZodDefault:Ot,ZodCatch:At,ZodNaN:dr,BRAND:gh,ZodBranded:qr,ZodPipeline:Jr,ZodReadonly:It,custom:Pc,Schema:R,ZodSchema:R,late:yh,get ZodFirstPartyTypeKind(){return T},coerce:Jh,any:Sh,array:Th,bigint:wh,boolean:Ac,date:_h,discriminatedUnion:Rh,effect:_c,enum:Bh,function:Dh,instanceof:vh,intersection:Mh,lazy:jh,literal:Uh,map:Vh,nan:bh,nativeEnum:Zh,never:Ch,null:Nh,nullable:Wh,number:Oc,object:Oh,oboolean:qh,onumber:Kh,optional:zh,ostring:Xh,pipeline:Yh,preprocess:Gh,promise:Hh,record:Lh,set:$h,strictObject:Ah,string:Tc,symbol:xh,transformer:_c,tuple:Fh,undefined:kh,union:Ih,unknown:Eh,void:Ph,NEVER:Qh,ZodIssueCode:g,quotelessJson:Jf,ZodError:ge});import{parser as eg}from"zod-opts";var tg=eg().args([{name:"command",type:Ic.enum(["build","serve","watch","clean","preparse","dependencies","precommit","test"])}]).options({}).parse(),Ls=tg;import{getLogger as rg}from"@logtape/logtape";import{fs as ng,path as Vs}from"@monochromatic-dev/module-fs-path";import qn from"@monochromatic-dev/module-child";import $s from"@monochromatic-dev/module-pm";var ag=rg(["a","precommit"]),Rc=o(async()=>{await Promise.all([Ie(Vs.join($s.workspaceAbsDir,".vscode"),ng.exists,Boolean,async t=>{if(t)throw ag.error`.vscode found in root.
            Suggestion: merge its contents into *.code-workspace and delete .vscode`,new Error("Handling auto merging .vscode settings into .code-workspace not implemented!")}),o(async function(){await qn("biome format --write ."),await Promise.all([qn(`oxlint -c ${Vs.join($s.workspaceAbsDir,"packages/config/oxlint/index.json")} --ignore-path ${Vs.join($s.workspaceAbsDir,"packages/config/oxlint/.eslintignore")} --fix`),qn("stylelint --fix '**/*.css'")]),await qn("dprint fmt")},"formatters")()])},"default");import{fs as Fc}from"@monochromatic-dev/module-fs-path";function Mc(t){if(new.target)throw new TypeError("Cannot create an instance: parse is not a constructor");return new Ds(t).parse()}o(Mc,"parse");var Ds=class{static{o(this,"JSONCParser")}#a=new Set(` 	\r
`);#t=new Set([..."[]{}:,/",...this.#a]);#e;#s;#o;constructor(e){this.#e=`${e}`,this.#s=this.#e.length,this.#o=this.#l()}parse(){let e=this.#r(),r=this.#i(e),{done:n,value:a}=this.#o.next();if(!n)throw new SyntaxError(st(a));return r}#r(){let{done:e,value:r}=this.#o.next();if(e)throw new SyntaxError("Cannot parse JSONC: unexpected end of JSONC input");return r}*#l(){for(let e=0;e<this.#s;e++)if(!this.#a.has(this.#e[e])){if(this.#e[e]==="/"&&this.#e[e+1]==="*"){e+=2;let r=!1;for(;e<this.#s;e++)if(this.#e[e]==="*"&&this.#e[e+1]==="/"){r=!0;break}if(!r)throw new SyntaxError("Cannot parse JSONC: unexpected end of JSONC input");e++;continue}if(this.#e[e]==="/"&&this.#e[e+1]==="/"){for(e+=2;e<this.#s&&!(this.#e[e]===`
`||this.#e[e]==="\r");e++);continue}switch(this.#e[e]){case"{":yield{type:"BeginObject",position:e};break;case"}":yield{type:"EndObject",position:e};break;case"[":yield{type:"BeginArray",position:e};break;case"]":yield{type:"EndArray",position:e};break;case":":yield{type:"NameSeparator",position:e};break;case",":yield{type:"ValueSeparator",position:e};break;case'"':{let r=e,n=!1;for(e++;e<this.#s&&!(this.#e[e]==='"'&&!n);e++)n=this.#e[e]==="\\"&&!n;yield{type:"String",sourceText:this.#e.substring(r,e+1),position:r};break}default:{let r=e;for(;e<this.#s&&!this.#t.has(this.#e[e]);e++);e--,yield{type:"NullOrTrueOrFalseOrNumber",sourceText:this.#e.substring(r,e+1),position:r}}}}}#i(e){switch(e.type){case"BeginObject":return this.#u();case"BeginArray":return this.#n();case"NullOrTrueOrFalseOrNumber":return this.#p(e);case"String":return this.#c(e);default:throw new SyntaxError(st(e))}}#u(){let e={};for(;;){let r=this.#r();if(r.type==="EndObject")return e;if(r.type!=="String")throw new SyntaxError(st(r));let n=this.#c(r),a=this.#r();if(a.type!=="NameSeparator")throw new SyntaxError(st(a));let s=this.#r();Object.defineProperty(e,n,{value:this.#i(s),writable:!0,enumerable:!0,configurable:!0});let i=this.#r();if(i.type==="EndObject")return e;if(i.type!=="ValueSeparator")throw new SyntaxError(st(i))}}#n(){let e=[];for(;;){let r=this.#r();if(r.type==="EndArray")return e;e.push(this.#i(r));let n=this.#r();if(n.type==="EndArray")return e;if(n.type!=="ValueSeparator")throw new SyntaxError(st(n))}}#c(e){let r;try{r=JSON.parse(e.sourceText)}catch{throw new SyntaxError(st(e))}if(typeof r!="string")throw new TypeError(`Parsed value is not a string: ${r}`);return r}#p(e){if(e.sourceText==="null")return null;if(e.sourceText==="true")return!0;if(e.sourceText==="false")return!1;let r;try{r=JSON.parse(e.sourceText)}catch{throw new SyntaxError(st(e))}if(typeof r!="number")throw new TypeError(`Parsed value is not a number: ${r}`);return r}};function st({type:t,sourceText:e,position:r}){let n="";switch(t){case"BeginObject":n="{";break;case"EndObject":n="}";break;case"BeginArray":n="[";break;case"EndArray":n="]";break;case"NameSeparator":n=":";break;case"ValueSeparator":n=",";break;case"NullOrTrueOrFalseOrNumber":case"String":n=30<e.length?`${e.slice(0,30)}...`:e;break}return`Cannot parse JSONC: unexpected token "${n}" in JSONC at position ${r}`}o(st,"buildErrorMessage");var Lc=o(async()=>{await Ie("package.jsonc",Fc.readFileU,Mc,async t=>JSON.stringify(t,null,2),async t=>Fc.writeFile("package.json",t))},"default");import{getLogger as sg}from"@logtape/logtape";import Vc from"@monochromatic-dev/module-child";import{$ as og}from"zx";var Qr=sg(["a","serve"]),$c=o(async()=>{try{let e=(await Vc("lsof -t -i:5173")).stdout;e&&(Qr.warn`killing processes [${e}] on port 5173`,await Vc(`kill ${e}`))}catch(e){Qr.debug`${e}`}let t=og`static-web-server -w ${un}`.pipe(process.stdout);process.on("SIGINT",async()=>{let e=setTimeout(()=>{process.exit(1)},2e3);Qr.warn`exiting in at most 2000ms`,await t.kill(),Qr.info`successfully exited child processes`,clearTimeout(e)}),Qr.info`at https://localhost:5173`,await t},"default");var Dc=o(async()=>{throw new Error("watch is not implemented")},"default");await ig.writeFile("monochromatic.log","");await lg({sinks:{console:js(),consoleInfoPlus:Uc(js(),jc("info")),consoleWarnPlus:Uc(js(),jc("warning")),file:ug("monochromatic.log",{formatter(t){return`${JSON.stringify(t,null,2)}
`}})},filters:{},loggers:[{category:["a"],level:"debug",sinks:["file","consoleInfoPlus"]},{category:["t"],level:"debug",sinks:["file","consoleInfoPlus"]},{category:["m"],level:"debug",sinks:["file","consoleWarnPlus"]},{category:["esbuild-plugin"],level:"debug",sinks:["file","consoleWarnPlus"]},{category:["logtape","meta"],level:"warning",sinks:["console"]}]});var Bc=pg(["a","index"]);Bc.info`development ${Mt}`;try{import.meta.env.DEV=Mt,import.meta.env.PROD=!Mt,import.meta.env.MODE=Mt?"development":"production"}catch{}try{process.env.NODE_ENV=Mt?"development":"production"}catch{}Bc.info`cwd ${cg.resolve()}`;switch(Ls.command){case"build":{await yc();break}case"serve":{await $c();break}case"watch":{await Dc();break}case"clean":{await vc();break}case"preparse":{await Lc();break}case"dependencies":{await bc();break}case"precommit":{await Rc();break}case"test":{await Hn();break}default:throw new Error(`command ${Ls.command} is unknown`)}
/*! Bundled license information:

@csstools/color-helpers/dist/index.mjs:
  (**
   * Bradford chromatic adaptation from D50 to D65
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Bradford chromatic adaptation from D65 to D50
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html
   *)
  (**
   * @param {number} hue - Hue as degrees 0..360
   * @param {number} sat - Saturation as percentage 0..100
   * @param {number} light - Lightness as percentage 0..100
   * @return {number[]} Array of sRGB components; in-gamut colors in range [0..1]
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/hslToRgb.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/hslToRgb.js
   *)
  (**
   * @param {number} hue -  Hue as degrees 0..360
   * @param {number} white -  Whiteness as percentage 0..100
   * @param {number} black -  Blackness as percentage 0..100
   * @return {number[]} Array of RGB components 0..1
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/hwbToRgb.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/hwbToRgb.js
   *)
  (**
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert Lab to D50-adapted XYZ
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html
   *)
  (**
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js
   *)
  (**
   * Given OKLab, convert to XYZ relative to D65
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js
   *)
  (**
   * Assuming XYZ is relative to D50, convert to CIE Lab
   * from CIE standard, which now defines these as a rational fraction
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *
   * XYZ <-> LMS matrices recalculated for consistent reference white
   * @see https://github.com/w3c/csswg-drafts/issues/6642#issuecomment-943521484
   *)
  (**
   * Convert XYZ to linear-light rec2020
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert XYZ to linear-light P3
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert D50 XYZ to linear-light prophoto-rgb
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html
   *)
  (**
   * Convert XYZ to linear-light a98-rgb
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of linear-light rec2020 RGB  in the range 0.0-1.0
   * to gamma corrected form ITU-R BT.2020-2 p.4
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of linear-light sRGB values in the range 0.0-1.0 to gamma corrected form
   * Extended transfer function:
   *  For negative values, linear portion extends on reflection
   *  of axis, then uses reflected pow below that
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see https://en.wikipedia.org/wiki/SRGB
   *)
  (**
   * Convert an array of linear-light display-p3 RGB in the range 0.0-1.0
   * to gamma corrected form
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of linear-light prophoto-rgb in the range 0.0-1.0
   * to gamma corrected form.
   * Transfer curve is gamma 1.8 with a small linear portion.
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of linear-light a98-rgb in the range 0.0-1.0
   * to gamma corrected form. Negative values are also now accepted
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of rec2020 RGB values in the range 0.0 - 1.0
   * to linear light (un-companded) form.
   * ITU-R BT.2020-2 p.4
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of linear-light rec2020 values to CIE XYZ
   * using  D65 (no chromatic adaptation)
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html
   *)
  (**
   * Convert an array of of sRGB values where in-gamut values are in the range
   * [0 - 1] to linear light (un-companded) form.
   * Extended transfer function:
   *  For negative values, linear portion is extended on reflection of axis,
   *  then reflected power function is used.
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see https://en.wikipedia.org/wiki/SRGB
   *)
  (**
   * Convert an array of display-p3 RGB values in the range 0.0 - 1.0
   * to linear light (un-companded) form.
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of linear-light display-p3 values to CIE XYZ
   * using D65 (no chromatic adaptation)
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html
   *)
  (**
   * Convert an array of prophoto-rgb values where in-gamut Colors are in the
   * range [0.0 - 1.0] to linear light (un-companded) form. Transfer curve is
   * gamma 1.8 with a small linear portion. Extended transfer function
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of linear-light prophoto-rgb values to CIE D50 XYZ.
   * Matrix cannot be expressed in rational form, but is calculated to 64 bit accuracy.
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see see https://github.com/w3c/csswg-drafts/issues/7675
   *)
  (**
   * Convert an array of linear-light a98-rgb values to CIE XYZ
   * http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html
   * has greater numerical precision than section 4.3.5.3 of
   * https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf
   * but the values below were calculated from first principles
   * from the chromaticity coordinates of R G B W
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html
   * @see https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf
   * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/matrixmaker.html
   *)
  (**
   * Convert an array of linear-light sRGB values to CIE XYZ
   * using sRGB's own white, D65 (no chromatic adaptation)
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)
  (**
   * Convert an array of gamma-corrected sRGB values in the 0.0 to 1.0 range to HSL.
   *
   * @param {Color} RGB [r, g, b]
   * - Red component 0..1
   * - Green component 0..1
   * - Blue component 0..1
   * @return {number[]} Array of HSL values: Hue as degrees 0..360, Saturation and Lightness as percentages 0..100
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/utilities.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *
   * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/better-rgbToHsl.js
   *)
  (**
   * Convert an array of a98-rgb values in the range 0.0 - 1.0
   * to linear light (un-companded) form. Negative values are also now accepted
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/conversions.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   *)

@csstools/color-helpers/dist/index.mjs:
  (**
   * @description Calculate deltaE OK which is the simple root sum of squares
   * @param {number[]} reference - Array of OKLab values: L as 0..1, a and b as -1..1
   * @param {number[]} sample - Array of OKLab values: L as 0..1, a and b as -1..1
   * @return {number} How different a color sample is from reference
   *
   * @license W3C https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
   * @copyright This software or document includes material copied from or derived from https://github.com/w3c/csswg-drafts/blob/main/css-color-4/deltaEOK.js. Copyright © 2022 W3C® (MIT, ERCIM, Keio, Beihang).
   * @see https://github.com/w3c/csswg-drafts/blob/main/css-color-4/deltaEOK.js
   *)

@csstools/color-helpers/dist/index.mjs:
  (**
   * @license MIT https://github.com/facelessuser/coloraide/blob/main/LICENSE.md
   *)
*/
//# sourceMappingURL=index.js.map
